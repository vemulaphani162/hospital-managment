var Yb=Object.defineProperty;var Xb=(e,t,r)=>t in e?Yb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Tt=(e,t,r)=>Xb(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Dk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tv={exports:{}},vh={},Ov={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu=Symbol.for("react.element"),Zb=Symbol.for("react.portal"),ew=Symbol.for("react.fragment"),tw=Symbol.for("react.strict_mode"),rw=Symbol.for("react.profiler"),nw=Symbol.for("react.provider"),sw=Symbol.for("react.context"),iw=Symbol.for("react.forward_ref"),aw=Symbol.for("react.suspense"),ow=Symbol.for("react.memo"),lw=Symbol.for("react.lazy"),Im=Symbol.iterator;function uw(e){return e===null||typeof e!="object"?null:(e=Im&&e[Im]||e["@@iterator"],typeof e=="function"?e:null)}var Iv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dv=Object.assign,Mv={};function gl(e,t,r){this.props=e,this.context=t,this.refs=Mv,this.updater=r||Iv}gl.prototype.isReactComponent={};gl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fv(){}Fv.prototype=gl.prototype;function zp(e,t,r){this.props=e,this.context=t,this.refs=Mv,this.updater=r||Iv}var $p=zp.prototype=new Fv;$p.constructor=zp;Dv($p,gl.prototype);$p.isPureReactComponent=!0;var Dm=Array.isArray,Bv=Object.prototype.hasOwnProperty,qp={current:null},Uv={key:!0,ref:!0,__self:!0,__source:!0};function zv(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Bv.call(t,n)&&!Uv.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];s.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Qu,type:e,key:i,ref:a,props:s,_owner:qp.current}}function cw(e,t){return{$$typeof:Qu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qu}function dw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Mm=/\/+/g;function yf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dw(""+e.key):t.toString(36)}function yd(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Qu:case Zb:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+yf(a,0):n,Dm(s)?(r="",e!=null&&(r=e.replace(Mm,"$&/")+"/"),yd(s,t,r,"",function(d){return d})):s!=null&&(Hp(s)&&(s=cw(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Mm,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Dm(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+yf(i,l);a+=yd(i,t,r,u,s)}else if(u=uw(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+yf(i,l++),a+=yd(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function qc(e,t,r){if(e==null)return e;var n=[],s=0;return yd(e,n,"","",function(i){return t.call(r,i,s++)}),n}function hw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var dn={current:null},bd={transition:null},fw={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:bd,ReactCurrentOwner:qp};function $v(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:qc,forEach:function(e,t,r){qc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qc(e,function(){t++}),t},toArray:function(e){return qc(e,function(t){return t})||[]},only:function(e){if(!Hp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_t.Component=gl;_t.Fragment=ew;_t.Profiler=rw;_t.PureComponent=zp;_t.StrictMode=tw;_t.Suspense=aw;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fw;_t.act=$v;_t.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Dv({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=qp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Bv.call(t,u)&&!Uv.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Qu,type:e.type,key:s,ref:i,props:n,_owner:a}};_t.createContext=function(e){return e={$$typeof:sw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nw,_context:e},e.Consumer=e};_t.createElement=zv;_t.createFactory=function(e){var t=zv.bind(null,e);return t.type=e,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(e){return{$$typeof:iw,render:e}};_t.isValidElement=Hp;_t.lazy=function(e){return{$$typeof:lw,_payload:{_status:-1,_result:e},_init:hw}};_t.memo=function(e,t){return{$$typeof:ow,type:e,compare:t===void 0?null:t}};_t.startTransition=function(e){var t=bd.transition;bd.transition={};try{e()}finally{bd.transition=t}};_t.unstable_act=$v;_t.useCallback=function(e,t){return dn.current.useCallback(e,t)};_t.useContext=function(e){return dn.current.useContext(e)};_t.useDebugValue=function(){};_t.useDeferredValue=function(e){return dn.current.useDeferredValue(e)};_t.useEffect=function(e,t){return dn.current.useEffect(e,t)};_t.useId=function(){return dn.current.useId()};_t.useImperativeHandle=function(e,t,r){return dn.current.useImperativeHandle(e,t,r)};_t.useInsertionEffect=function(e,t){return dn.current.useInsertionEffect(e,t)};_t.useLayoutEffect=function(e,t){return dn.current.useLayoutEffect(e,t)};_t.useMemo=function(e,t){return dn.current.useMemo(e,t)};_t.useReducer=function(e,t,r){return dn.current.useReducer(e,t,r)};_t.useRef=function(e){return dn.current.useRef(e)};_t.useState=function(e){return dn.current.useState(e)};_t.useSyncExternalStore=function(e,t,r){return dn.current.useSyncExternalStore(e,t,r)};_t.useTransition=function(){return dn.current.useTransition()};_t.version="18.3.1";Ov.exports=_t;var X=Ov.exports;const pw=Qb(X);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw=X,gw=Symbol.for("react.element"),vw=Symbol.for("react.fragment"),xw=Object.prototype.hasOwnProperty,yw=mw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bw={key:!0,ref:!0,__self:!0,__source:!0};function qv(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)xw.call(t,n)&&!bw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:gw,type:e,key:i,ref:a,props:s,_owner:yw.current}}vh.Fragment=vw;vh.jsx=qv;vh.jsxs=qv;Tv.exports=vh;var o=Tv.exports,j0={},Hv={exports:{}},Bn={},Vv={exports:{}},Wv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,ae){var ge=Y.length;Y.push(ae);e:for(;0<ge;){var me=ge-1>>>1,C=Y[me];if(0<s(C,ae))Y[me]=ae,Y[ge]=C,ge=me;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var ae=Y[0],ge=Y.pop();if(ge!==ae){Y[0]=ge;e:for(var me=0,C=Y.length,z=C>>>1;me<z;){var V=2*(me+1)-1,Z=Y[V],te=V+1,ie=Y[te];if(0>s(Z,ge))te<C&&0>s(ie,Z)?(Y[me]=ie,Y[te]=ge,me=te):(Y[me]=Z,Y[V]=ge,me=V);else if(te<C&&0>s(ie,ge))Y[me]=ie,Y[te]=ge,me=te;else break e}}return ae}function s(Y,ae){var ge=Y.sortIndex-ae.sortIndex;return ge!==0?ge:Y.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],d=[],f=1,g=null,v=3,p=!1,N=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Y){for(var ae=r(d);ae!==null;){if(ae.callback===null)n(d);else if(ae.startTime<=Y)n(d),ae.sortIndex=ae.expirationTime,t(u,ae);else break;ae=r(d)}}function S(Y){if(j=!1,_(Y),!N)if(r(u)!==null)N=!0,fe(I);else{var ae=r(d);ae!==null&&he(S,ae.startTime-Y)}}function I(Y,ae){N=!1,j&&(j=!1,x(q),q=-1),p=!0;var ge=v;try{for(_(ae),g=r(u);g!==null&&(!(g.expirationTime>ae)||Y&&!P());){var me=g.callback;if(typeof me=="function"){g.callback=null,v=g.priorityLevel;var C=me(g.expirationTime<=ae);ae=e.unstable_now(),typeof C=="function"?g.callback=C:g===r(u)&&n(u),_(ae)}else n(u);g=r(u)}if(g!==null)var z=!0;else{var V=r(d);V!==null&&he(S,V.startTime-ae),z=!1}return z}finally{g=null,v=ge,p=!1}}var W=!1,G=null,q=-1,T=5,H=-1;function P(){return!(e.unstable_now()-H<T)}function F(){if(G!==null){var Y=e.unstable_now();H=Y;var ae=!0;try{ae=G(!0,Y)}finally{ae?K():(W=!1,G=null)}}else W=!1}var K;if(typeof b=="function")K=function(){b(F)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ce=J.port2;J.port1.onmessage=F,K=function(){ce.postMessage(null)}}else K=function(){k(F,0)};function fe(Y){G=Y,W||(W=!0,K())}function he(Y,ae){q=k(function(){Y(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){N||p||(N=!0,fe(I))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var ge=v;v=ae;try{return Y()}finally{v=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=v;v=Y;try{return ae()}finally{v=ge}},e.unstable_scheduleCallback=function(Y,ae,ge){var me=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?me+ge:me):ge=me,Y){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ge+C,Y={id:f++,callback:ae,priorityLevel:Y,startTime:ge,expirationTime:C,sortIndex:-1},ge>me?(Y.sortIndex=ge,t(d,Y),r(u)===null&&Y===r(d)&&(j?(x(q),q=-1):j=!0,he(S,ge-me))):(Y.sortIndex=C,t(u,Y),N||p||(N=!0,fe(I))),Y},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(Y){var ae=v;return function(){var ge=v;v=ae;try{return Y.apply(this,arguments)}finally{v=ge}}}})(Wv);Vv.exports=Wv;var ww=Vv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w=X,Fn=ww;function Pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gv=new Set,ku={};function io(e,t){ul(e,t),ul(e+"Capture",t)}function ul(e,t){for(ku[e]=t,e=0;e<t.length;e++)Gv.add(t[e])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S0=Object.prototype.hasOwnProperty,Nw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fm={},Bm={};function jw(e){return S0.call(Bm,e)?!0:S0.call(Fm,e)?!1:Nw.test(e)?Bm[e]=!0:(Fm[e]=!0,!1)}function Sw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kw(e,t,r,n){if(t===null||typeof t>"u"||Sw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hn(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gr[e]=new hn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gr[t]=new hn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gr[e]=new hn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gr[e]=new hn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gr[e]=new hn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gr[e]=new hn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gr[e]=new hn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gr[e]=new hn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gr[e]=new hn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vp=/[\-:]([a-z])/g;function Wp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vp,Wp);Gr[t]=new hn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vp,Wp);Gr[t]=new hn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vp,Wp);Gr[t]=new hn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gr[e]=new hn(e,1,!1,e.toLowerCase(),null,!1,!1)});Gr.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gr[e]=new hn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gp(e,t,r,n){var s=Gr.hasOwnProperty(t)?Gr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kw(t,r,s,n)&&(r=null),n||s===null?jw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Si=_w.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),Fo=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),Kp=Symbol.for("react.strict_mode"),k0=Symbol.for("react.profiler"),Kv=Symbol.for("react.provider"),Jv=Symbol.for("react.context"),Jp=Symbol.for("react.forward_ref"),A0=Symbol.for("react.suspense"),L0=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),Yv=Symbol.for("react.offscreen"),Um=Symbol.iterator;function Xl(e){return e===null||typeof e!="object"?null:(e=Um&&e[Um]||e["@@iterator"],typeof e=="function"?e:null)}var nr=Object.assign,bf;function lu(e){if(bf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);bf=t&&t[1]||""}return`
`+bf+e}var wf=!1;function _f(e,t){if(!e||wf)return"";wf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{wf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?lu(e):""}function Aw(e){switch(e.tag){case 5:return lu(e.type);case 16:return lu("Lazy");case 13:return lu("Suspense");case 19:return lu("SuspenseList");case 0:case 2:case 15:return e=_f(e.type,!1),e;case 11:return e=_f(e.type.render,!1),e;case 1:return e=_f(e.type,!0),e;default:return""}}function E0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bo:return"Fragment";case Fo:return"Portal";case k0:return"Profiler";case Kp:return"StrictMode";case A0:return"Suspense";case L0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jv:return(e.displayName||"Context")+".Consumer";case Kv:return(e._context.displayName||"Context")+".Provider";case Jp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yp:return t=e.displayName||null,t!==null?t:E0(e.type)||"Memo";case Wi:t=e._payload,e=e._init;try{return E0(e(t))}catch{}}return null}function Lw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E0(t);case 8:return t===Kp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ua(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ew(e){var t=Xv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vc(e){e._valueTracker||(e._valueTracker=Ew(e))}function Qv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Xv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Bd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function C0(e,t){var r=t.checked;return nr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ua(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zv(e,t){t=t.checked,t!=null&&Gp(e,"checked",t,!1)}function P0(e,t){Zv(e,t);var r=ua(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?R0(e,t.type,r):t.hasOwnProperty("defaultValue")&&R0(e,t.type,ua(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $m(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function R0(e,t,r){(t!=="number"||Bd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var uu=Array.isArray;function Qo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ua(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function T0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return nr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qm(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Pe(92));if(uu(r)){if(1<r.length)throw Error(Pe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ua(r)}}function e5(e,t){var r=ua(t.value),n=ua(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Hm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function t5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function O0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?t5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wc,r5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wc=Wc||document.createElement("div"),Wc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Au(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cw=["Webkit","ms","Moz","O"];Object.keys(fu).forEach(function(e){Cw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fu[t]=fu[e]})});function n5(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fu.hasOwnProperty(e)&&fu[e]?(""+t).trim():t+"px"}function s5(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=n5(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Pw=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function I0(e,t){if(t){if(Pw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Pe(62))}}function D0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M0=null;function Xp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var F0=null,Zo=null,el=null;function Vm(e){if(e=tc(e)){if(typeof F0!="function")throw Error(Pe(280));var t=e.stateNode;t&&(t=_h(t),F0(e.stateNode,e.type,t))}}function i5(e){Zo?el?el.push(e):el=[e]:Zo=e}function a5(){if(Zo){var e=Zo,t=el;if(el=Zo=null,Vm(e),t)for(e=0;e<t.length;e++)Vm(t[e])}}function o5(e,t){return e(t)}function l5(){}var Nf=!1;function u5(e,t,r){if(Nf)return e(t,r);Nf=!0;try{return o5(e,t,r)}finally{Nf=!1,(Zo!==null||el!==null)&&(l5(),a5())}}function Lu(e,t){var r=e.stateNode;if(r===null)return null;var n=_h(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Pe(231,t,typeof r));return r}var B0=!1;if(bi)try{var Ql={};Object.defineProperty(Ql,"passive",{get:function(){B0=!0}}),window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{B0=!1}function Rw(e,t,r,n,s,i,a,l,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var pu=!1,Ud=null,zd=!1,U0=null,Tw={onError:function(e){pu=!0,Ud=e}};function Ow(e,t,r,n,s,i,a,l,u){pu=!1,Ud=null,Rw.apply(Tw,arguments)}function Iw(e,t,r,n,s,i,a,l,u){if(Ow.apply(this,arguments),pu){if(pu){var d=Ud;pu=!1,Ud=null}else throw Error(Pe(198));zd||(zd=!0,U0=d)}}function ao(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function c5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wm(e){if(ao(e)!==e)throw Error(Pe(188))}function Dw(e){var t=e.alternate;if(!t){if(t=ao(e),t===null)throw Error(Pe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Wm(s),e;if(i===n)return Wm(s),t;i=i.sibling}throw Error(Pe(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(Pe(189))}}if(r.alternate!==n)throw Error(Pe(190))}if(r.tag!==3)throw Error(Pe(188));return r.stateNode.current===r?e:t}function d5(e){return e=Dw(e),e!==null?h5(e):null}function h5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=h5(e);if(t!==null)return t;e=e.sibling}return null}var f5=Fn.unstable_scheduleCallback,Gm=Fn.unstable_cancelCallback,Mw=Fn.unstable_shouldYield,Fw=Fn.unstable_requestPaint,pr=Fn.unstable_now,Bw=Fn.unstable_getCurrentPriorityLevel,Qp=Fn.unstable_ImmediatePriority,p5=Fn.unstable_UserBlockingPriority,$d=Fn.unstable_NormalPriority,Uw=Fn.unstable_LowPriority,m5=Fn.unstable_IdlePriority,xh=null,$s=null;function zw(e){if($s&&typeof $s.onCommitFiberRoot=="function")try{$s.onCommitFiberRoot(xh,e,void 0,(e.current.flags&128)===128)}catch{}}var ws=Math.clz32?Math.clz32:Hw,$w=Math.log,qw=Math.LN2;function Hw(e){return e>>>=0,e===0?32:31-($w(e)/qw|0)|0}var Gc=64,Kc=4194304;function cu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=cu(l):(i&=a,i!==0&&(n=cu(i)))}else a=r&~s,a!==0?n=cu(a):i!==0&&(n=cu(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ws(t),s=1<<r,n|=e[r],t&=~s;return n}function Vw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ww(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ws(i),l=1<<a,u=s[a];u===-1?(!(l&r)||l&n)&&(s[a]=Vw(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function z0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function g5(){var e=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),e}function jf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ws(t),e[t]=r}function Gw(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ws(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Zp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ws(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var It=0;function v5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var x5,e1,y5,b5,w5,$0=!1,Jc=[],ta=null,ra=null,na=null,Eu=new Map,Cu=new Map,Ji=[],Kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Km(e,t){switch(e){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":Eu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(t.pointerId)}}function Zl(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=tc(t),t!==null&&e1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Jw(e,t,r,n,s){switch(t){case"focusin":return ta=Zl(ta,e,t,r,n,s),!0;case"dragenter":return ra=Zl(ra,e,t,r,n,s),!0;case"mouseover":return na=Zl(na,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Eu.set(i,Zl(Eu.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Cu.set(i,Zl(Cu.get(i)||null,e,t,r,n,s)),!0}return!1}function _5(e){var t=Ha(e.target);if(t!==null){var r=ao(t);if(r!==null){if(t=r.tag,t===13){if(t=c5(r),t!==null){e.blockedOn=t,w5(e.priority,function(){y5(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=q0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);M0=n,r.target.dispatchEvent(n),M0=null}else return t=tc(r),t!==null&&e1(t),e.blockedOn=r,!1;t.shift()}return!0}function Jm(e,t,r){wd(e)&&r.delete(t)}function Yw(){$0=!1,ta!==null&&wd(ta)&&(ta=null),ra!==null&&wd(ra)&&(ra=null),na!==null&&wd(na)&&(na=null),Eu.forEach(Jm),Cu.forEach(Jm)}function eu(e,t){e.blockedOn===t&&(e.blockedOn=null,$0||($0=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,Yw)))}function Pu(e){function t(s){return eu(s,e)}if(0<Jc.length){eu(Jc[0],e);for(var r=1;r<Jc.length;r++){var n=Jc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ta!==null&&eu(ta,e),ra!==null&&eu(ra,e),na!==null&&eu(na,e),Eu.forEach(t),Cu.forEach(t),r=0;r<Ji.length;r++)n=Ji[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ji.length&&(r=Ji[0],r.blockedOn===null);)_5(r),r.blockedOn===null&&Ji.shift()}var tl=Si.ReactCurrentBatchConfig,Hd=!0;function Xw(e,t,r,n){var s=It,i=tl.transition;tl.transition=null;try{It=1,t1(e,t,r,n)}finally{It=s,tl.transition=i}}function Qw(e,t,r,n){var s=It,i=tl.transition;tl.transition=null;try{It=4,t1(e,t,r,n)}finally{It=s,tl.transition=i}}function t1(e,t,r,n){if(Hd){var s=q0(e,t,r,n);if(s===null)Of(e,t,n,Vd,r),Km(e,n);else if(Jw(s,e,t,r,n))n.stopPropagation();else if(Km(e,n),t&4&&-1<Kw.indexOf(e)){for(;s!==null;){var i=tc(s);if(i!==null&&x5(i),i=q0(e,t,r,n),i===null&&Of(e,t,n,Vd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Of(e,t,n,null,r)}}var Vd=null;function q0(e,t,r,n){if(Vd=null,e=Xp(n),e=Ha(e),e!==null)if(t=ao(e),t===null)e=null;else if(r=t.tag,r===13){if(e=c5(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vd=e,null}function N5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bw()){case Qp:return 1;case p5:return 4;case $d:case Uw:return 16;case m5:return 536870912;default:return 16}default:return 16}}var Qi=null,r1=null,_d=null;function j5(){if(_d)return _d;var e,t=r1,r=t.length,n,s="value"in Qi?Qi.value:Qi.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return _d=s.slice(e,1<n?1-n:void 0)}function Nd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yc(){return!0}function Ym(){return!1}function Un(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yc:Ym,this.isPropagationStopped=Ym,this}return nr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),t}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n1=Un(vl),ec=nr({},vl,{view:0,detail:0}),Zw=Un(ec),Sf,kf,tu,yh=nr({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tu&&(tu&&e.type==="mousemove"?(Sf=e.screenX-tu.screenX,kf=e.screenY-tu.screenY):kf=Sf=0,tu=e),Sf)},movementY:function(e){return"movementY"in e?e.movementY:kf}}),Xm=Un(yh),e4=nr({},yh,{dataTransfer:0}),t4=Un(e4),r4=nr({},ec,{relatedTarget:0}),Af=Un(r4),n4=nr({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),s4=Un(n4),i4=nr({},vl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),a4=Un(i4),o4=nr({},vl,{data:0}),Qm=Un(o4),l4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=c4[e])?!!t[e]:!1}function s1(){return d4}var h4=nr({},ec,{key:function(e){if(e.key){var t=l4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?u4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s1,charCode:function(e){return e.type==="keypress"?Nd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f4=Un(h4),p4=nr({},yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zm=Un(p4),m4=nr({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s1}),g4=Un(m4),v4=nr({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),x4=Un(v4),y4=nr({},yh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),b4=Un(y4),w4=[9,13,27,32],i1=bi&&"CompositionEvent"in window,mu=null;bi&&"documentMode"in document&&(mu=document.documentMode);var _4=bi&&"TextEvent"in window&&!mu,S5=bi&&(!i1||mu&&8<mu&&11>=mu),eg=" ",tg=!1;function k5(e,t){switch(e){case"keyup":return w4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uo=!1;function N4(e,t){switch(e){case"compositionend":return A5(t);case"keypress":return t.which!==32?null:(tg=!0,eg);case"textInput":return e=t.data,e===eg&&tg?null:e;default:return null}}function j4(e,t){if(Uo)return e==="compositionend"||!i1&&k5(e,t)?(e=j5(),_d=r1=Qi=null,Uo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return S5&&t.locale!=="ko"?null:t.data;default:return null}}var S4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!S4[e.type]:t==="textarea"}function L5(e,t,r,n){i5(n),t=Wd(t,"onChange"),0<t.length&&(r=new n1("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var gu=null,Ru=null;function k4(e){B5(e,0)}function bh(e){var t=qo(e);if(Qv(t))return e}function A4(e,t){if(e==="change")return t}var E5=!1;if(bi){var Lf;if(bi){var Ef="oninput"in document;if(!Ef){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),Ef=typeof ng.oninput=="function"}Lf=Ef}else Lf=!1;E5=Lf&&(!document.documentMode||9<document.documentMode)}function sg(){gu&&(gu.detachEvent("onpropertychange",C5),Ru=gu=null)}function C5(e){if(e.propertyName==="value"&&bh(Ru)){var t=[];L5(t,Ru,e,Xp(e)),u5(k4,t)}}function L4(e,t,r){e==="focusin"?(sg(),gu=t,Ru=r,gu.attachEvent("onpropertychange",C5)):e==="focusout"&&sg()}function E4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bh(Ru)}function C4(e,t){if(e==="click")return bh(t)}function P4(e,t){if(e==="input"||e==="change")return bh(t)}function R4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ns=typeof Object.is=="function"?Object.is:R4;function Tu(e,t){if(Ns(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!S0.call(t,s)||!Ns(e[s],t[s]))return!1}return!0}function ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,t){var r=ig(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ig(r)}}function P5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?P5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function R5(){for(var e=window,t=Bd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Bd(e.document)}return t}function a1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T4(e){var t=R5(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&P5(r.ownerDocument.documentElement,r)){if(n!==null&&a1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=ag(r,i);var a=ag(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var O4=bi&&"documentMode"in document&&11>=document.documentMode,zo=null,H0=null,vu=null,V0=!1;function og(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;V0||zo==null||zo!==Bd(n)||(n=zo,"selectionStart"in n&&a1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vu&&Tu(vu,n)||(vu=n,n=Wd(H0,"onSelect"),0<n.length&&(t=new n1("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zo)))}function Xc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $o={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},Cf={},T5={};bi&&(T5=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function wh(e){if(Cf[e])return Cf[e];if(!$o[e])return e;var t=$o[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in T5)return Cf[e]=t[r];return e}var O5=wh("animationend"),I5=wh("animationiteration"),D5=wh("animationstart"),M5=wh("transitionend"),F5=new Map,lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ha(e,t){F5.set(e,t),io(t,[e])}for(var Pf=0;Pf<lg.length;Pf++){var Rf=lg[Pf],I4=Rf.toLowerCase(),D4=Rf[0].toUpperCase()+Rf.slice(1);ha(I4,"on"+D4)}ha(O5,"onAnimationEnd");ha(I5,"onAnimationIteration");ha(D5,"onAnimationStart");ha("dblclick","onDoubleClick");ha("focusin","onFocus");ha("focusout","onBlur");ha(M5,"onTransitionEnd");ul("onMouseEnter",["mouseout","mouseover"]);ul("onMouseLeave",["mouseout","mouseover"]);ul("onPointerEnter",["pointerout","pointerover"]);ul("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M4=new Set("cancel close invalid load scroll toggle".split(" ").concat(du));function ug(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Iw(n,t,void 0,e),e.currentTarget=null}function B5(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;ug(s,l,d),i=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,d=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;ug(s,l,d),i=u}}}if(zd)throw e=U0,zd=!1,U0=null,e}function Vt(e,t){var r=t[Y0];r===void 0&&(r=t[Y0]=new Set);var n=e+"__bubble";r.has(n)||(U5(t,e,2,!1),r.add(n))}function Tf(e,t,r){var n=0;t&&(n|=4),U5(r,e,n,t)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function Ou(e){if(!e[Qc]){e[Qc]=!0,Gv.forEach(function(r){r!=="selectionchange"&&(M4.has(r)||Tf(r,!1,e),Tf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qc]||(t[Qc]=!0,Tf("selectionchange",!1,t))}}function U5(e,t,r,n){switch(N5(t)){case 1:var s=Xw;break;case 4:s=Qw;break;default:s=t1}r=s.bind(null,t,r,e),s=void 0,!B0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Of(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ha(l),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}l=l.parentNode}}n=n.return}u5(function(){var d=i,f=Xp(r),g=[];e:{var v=F5.get(e);if(v!==void 0){var p=n1,N=e;switch(e){case"keypress":if(Nd(r)===0)break e;case"keydown":case"keyup":p=f4;break;case"focusin":N="focus",p=Af;break;case"focusout":N="blur",p=Af;break;case"beforeblur":case"afterblur":p=Af;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=t4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=g4;break;case O5:case I5:case D5:p=s4;break;case M5:p=x4;break;case"scroll":p=Zw;break;case"wheel":p=b4;break;case"copy":case"cut":case"paste":p=a4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Zm}var j=(t&4)!==0,k=!j&&e==="scroll",x=j?v!==null?v+"Capture":null:v;j=[];for(var b=d,_;b!==null;){_=b;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,x!==null&&(S=Lu(b,x),S!=null&&j.push(Iu(b,S,_)))),k)break;b=b.return}0<j.length&&(v=new p(v,N,null,r,f),g.push({event:v,listeners:j}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",v&&r!==M0&&(N=r.relatedTarget||r.fromElement)&&(Ha(N)||N[wi]))break e;if((p||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,p?(N=r.relatedTarget||r.toElement,p=d,N=N?Ha(N):null,N!==null&&(k=ao(N),N!==k||N.tag!==5&&N.tag!==6)&&(N=null)):(p=null,N=d),p!==N)){if(j=Xm,S="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(j=Zm,S="onPointerLeave",x="onPointerEnter",b="pointer"),k=p==null?v:qo(p),_=N==null?v:qo(N),v=new j(S,b+"leave",p,r,f),v.target=k,v.relatedTarget=_,S=null,Ha(f)===d&&(j=new j(x,b+"enter",N,r,f),j.target=_,j.relatedTarget=k,S=j),k=S,p&&N)t:{for(j=p,x=N,b=0,_=j;_;_=No(_))b++;for(_=0,S=x;S;S=No(S))_++;for(;0<b-_;)j=No(j),b--;for(;0<_-b;)x=No(x),_--;for(;b--;){if(j===x||x!==null&&j===x.alternate)break t;j=No(j),x=No(x)}j=null}else j=null;p!==null&&cg(g,v,p,j,!1),N!==null&&k!==null&&cg(g,k,N,j,!0)}}e:{if(v=d?qo(d):window,p=v.nodeName&&v.nodeName.toLowerCase(),p==="select"||p==="input"&&v.type==="file")var I=A4;else if(rg(v))if(E5)I=P4;else{I=E4;var W=L4}else(p=v.nodeName)&&p.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(I=C4);if(I&&(I=I(e,d))){L5(g,I,r,f);break e}W&&W(e,v,d),e==="focusout"&&(W=v._wrapperState)&&W.controlled&&v.type==="number"&&R0(v,"number",v.value)}switch(W=d?qo(d):window,e){case"focusin":(rg(W)||W.contentEditable==="true")&&(zo=W,H0=d,vu=null);break;case"focusout":vu=H0=zo=null;break;case"mousedown":V0=!0;break;case"contextmenu":case"mouseup":case"dragend":V0=!1,og(g,r,f);break;case"selectionchange":if(O4)break;case"keydown":case"keyup":og(g,r,f)}var G;if(i1)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Uo?k5(e,r)&&(q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(q="onCompositionStart");q&&(S5&&r.locale!=="ko"&&(Uo||q!=="onCompositionStart"?q==="onCompositionEnd"&&Uo&&(G=j5()):(Qi=f,r1="value"in Qi?Qi.value:Qi.textContent,Uo=!0)),W=Wd(d,q),0<W.length&&(q=new Qm(q,e,null,r,f),g.push({event:q,listeners:W}),G?q.data=G:(G=A5(r),G!==null&&(q.data=G)))),(G=_4?N4(e,r):j4(e,r))&&(d=Wd(d,"onBeforeInput"),0<d.length&&(f=new Qm("onBeforeInput","beforeinput",null,r,f),g.push({event:f,listeners:d}),f.data=G))}B5(g,t)})}function Iu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Lu(e,r),i!=null&&n.unshift(Iu(e,i,s)),i=Lu(e,t),i!=null&&n.push(Iu(e,i,s))),e=e.return}return n}function No(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cg(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,u=l.alternate,d=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&d!==null&&(l=d,s?(u=Lu(r,i),u!=null&&a.unshift(Iu(r,u,l))):s||(u=Lu(r,i),u!=null&&a.push(Iu(r,u,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var F4=/\r\n?/g,B4=/\u0000|\uFFFD/g;function dg(e){return(typeof e=="string"?e:""+e).replace(F4,`
`).replace(B4,"")}function Zc(e,t,r){if(t=dg(t),dg(e)!==t&&r)throw Error(Pe(425))}function Gd(){}var W0=null,G0=null;function K0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var J0=typeof setTimeout=="function"?setTimeout:void 0,U4=typeof clearTimeout=="function"?clearTimeout:void 0,hg=typeof Promise=="function"?Promise:void 0,z4=typeof queueMicrotask=="function"?queueMicrotask:typeof hg<"u"?function(e){return hg.resolve(null).then(e).catch($4)}:J0;function $4(e){setTimeout(function(){throw e})}function If(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Pu(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Pu(t)}function sa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var xl=Math.random().toString(36).slice(2),Us="__reactFiber$"+xl,Du="__reactProps$"+xl,wi="__reactContainer$"+xl,Y0="__reactEvents$"+xl,q4="__reactListeners$"+xl,H4="__reactHandles$"+xl;function Ha(e){var t=e[Us];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wi]||r[Us]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fg(e);e!==null;){if(r=e[Us])return r;e=fg(e)}return t}e=r,r=e.parentNode}return null}function tc(e){return e=e[Us]||e[wi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Pe(33))}function _h(e){return e[Du]||null}var X0=[],Ho=-1;function fa(e){return{current:e}}function Gt(e){0>Ho||(e.current=X0[Ho],X0[Ho]=null,Ho--)}function qt(e,t){Ho++,X0[Ho]=e.current,e.current=t}var ca={},nn=fa(ca),vn=fa(!1),Xa=ca;function cl(e,t){var r=e.type.contextTypes;if(!r)return ca;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xn(e){return e=e.childContextTypes,e!=null}function Kd(){Gt(vn),Gt(nn)}function pg(e,t,r){if(nn.current!==ca)throw Error(Pe(168));qt(nn,t),qt(vn,r)}function z5(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Pe(108,Lw(e)||"Unknown",s));return nr({},r,n)}function Jd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ca,Xa=nn.current,qt(nn,e),qt(vn,vn.current),!0}function mg(e,t,r){var n=e.stateNode;if(!n)throw Error(Pe(169));r?(e=z5(e,t,Xa),n.__reactInternalMemoizedMergedChildContext=e,Gt(vn),Gt(nn),qt(nn,e)):Gt(vn),qt(vn,r)}var pi=null,Nh=!1,Df=!1;function $5(e){pi===null?pi=[e]:pi.push(e)}function V4(e){Nh=!0,$5(e)}function pa(){if(!Df&&pi!==null){Df=!0;var e=0,t=It;try{var r=pi;for(It=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pi=null,Nh=!1}catch(s){throw pi!==null&&(pi=pi.slice(e+1)),f5(Qp,pa),s}finally{It=t,Df=!1}}return null}var Vo=[],Wo=0,Yd=null,Xd=0,Yn=[],Xn=0,Qa=null,gi=1,vi="";function Ma(e,t){Vo[Wo++]=Xd,Vo[Wo++]=Yd,Yd=e,Xd=t}function q5(e,t,r){Yn[Xn++]=gi,Yn[Xn++]=vi,Yn[Xn++]=Qa,Qa=e;var n=gi;e=vi;var s=32-ws(n)-1;n&=~(1<<s),r+=1;var i=32-ws(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,gi=1<<32-ws(t)+s|r<<s|n,vi=i+e}else gi=1<<i|r<<s|n,vi=e}function o1(e){e.return!==null&&(Ma(e,1),q5(e,1,0))}function l1(e){for(;e===Yd;)Yd=Vo[--Wo],Vo[Wo]=null,Xd=Vo[--Wo],Vo[Wo]=null;for(;e===Qa;)Qa=Yn[--Xn],Yn[Xn]=null,vi=Yn[--Xn],Yn[Xn]=null,gi=Yn[--Xn],Yn[Xn]=null}var Mn=null,In=null,Xt=!1,bs=null;function H5(e,t){var r=Qn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function gg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mn=e,In=sa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mn=e,In=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qa!==null?{id:gi,overflow:vi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Mn=e,In=null,!0):!1;default:return!1}}function Q0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Z0(e){if(Xt){var t=In;if(t){var r=t;if(!gg(e,t)){if(Q0(e))throw Error(Pe(418));t=sa(r.nextSibling);var n=Mn;t&&gg(e,t)?H5(n,r):(e.flags=e.flags&-4097|2,Xt=!1,Mn=e)}}else{if(Q0(e))throw Error(Pe(418));e.flags=e.flags&-4097|2,Xt=!1,Mn=e}}}function vg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mn=e}function ed(e){if(e!==Mn)return!1;if(!Xt)return vg(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!K0(e.type,e.memoizedProps)),t&&(t=In)){if(Q0(e))throw V5(),Error(Pe(418));for(;t;)H5(e,t),t=sa(t.nextSibling)}if(vg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){In=sa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}In=null}}else In=Mn?sa(e.stateNode.nextSibling):null;return!0}function V5(){for(var e=In;e;)e=sa(e.nextSibling)}function dl(){In=Mn=null,Xt=!1}function u1(e){bs===null?bs=[e]:bs.push(e)}var W4=Si.ReactCurrentBatchConfig;function ru(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Pe(309));var n=r.stateNode}if(!n)throw Error(Pe(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Pe(284));if(!r._owner)throw Error(Pe(290,e))}return e}function td(e,t){throw e=Object.prototype.toString.call(t),Error(Pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xg(e){var t=e._init;return t(e._payload)}function W5(e){function t(x,b){if(e){var _=x.deletions;_===null?(x.deletions=[b],x.flags|=16):_.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function s(x,b){return x=la(x,b),x.index=0,x.sibling=null,x}function i(x,b,_){return x.index=_,e?(_=x.alternate,_!==null?(_=_.index,_<b?(x.flags|=2,b):_):(x.flags|=2,b)):(x.flags|=1048576,b)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,_,S){return b===null||b.tag!==6?(b=qf(_,x.mode,S),b.return=x,b):(b=s(b,_),b.return=x,b)}function u(x,b,_,S){var I=_.type;return I===Bo?f(x,b,_.props.children,S,_.key):b!==null&&(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Wi&&xg(I)===b.type)?(S=s(b,_.props),S.ref=ru(x,b,_),S.return=x,S):(S=Cd(_.type,_.key,_.props,null,x.mode,S),S.ref=ru(x,b,_),S.return=x,S)}function d(x,b,_,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Hf(_,x.mode,S),b.return=x,b):(b=s(b,_.children||[]),b.return=x,b)}function f(x,b,_,S,I){return b===null||b.tag!==7?(b=Ja(_,x.mode,S,I),b.return=x,b):(b=s(b,_),b.return=x,b)}function g(x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=qf(""+b,x.mode,_),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hc:return _=Cd(b.type,b.key,b.props,null,x.mode,_),_.ref=ru(x,null,b),_.return=x,_;case Fo:return b=Hf(b,x.mode,_),b.return=x,b;case Wi:var S=b._init;return g(x,S(b._payload),_)}if(uu(b)||Xl(b))return b=Ja(b,x.mode,_,null),b.return=x,b;td(x,b)}return null}function v(x,b,_,S){var I=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return I!==null?null:l(x,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hc:return _.key===I?u(x,b,_,S):null;case Fo:return _.key===I?d(x,b,_,S):null;case Wi:return I=_._init,v(x,b,I(_._payload),S)}if(uu(_)||Xl(_))return I!==null?null:f(x,b,_,S,null);td(x,_)}return null}function p(x,b,_,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(_)||null,l(b,x,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hc:return x=x.get(S.key===null?_:S.key)||null,u(b,x,S,I);case Fo:return x=x.get(S.key===null?_:S.key)||null,d(b,x,S,I);case Wi:var W=S._init;return p(x,b,_,W(S._payload),I)}if(uu(S)||Xl(S))return x=x.get(_)||null,f(b,x,S,I,null);td(b,S)}return null}function N(x,b,_,S){for(var I=null,W=null,G=b,q=b=0,T=null;G!==null&&q<_.length;q++){G.index>q?(T=G,G=null):T=G.sibling;var H=v(x,G,_[q],S);if(H===null){G===null&&(G=T);break}e&&G&&H.alternate===null&&t(x,G),b=i(H,b,q),W===null?I=H:W.sibling=H,W=H,G=T}if(q===_.length)return r(x,G),Xt&&Ma(x,q),I;if(G===null){for(;q<_.length;q++)G=g(x,_[q],S),G!==null&&(b=i(G,b,q),W===null?I=G:W.sibling=G,W=G);return Xt&&Ma(x,q),I}for(G=n(x,G);q<_.length;q++)T=p(G,x,q,_[q],S),T!==null&&(e&&T.alternate!==null&&G.delete(T.key===null?q:T.key),b=i(T,b,q),W===null?I=T:W.sibling=T,W=T);return e&&G.forEach(function(P){return t(x,P)}),Xt&&Ma(x,q),I}function j(x,b,_,S){var I=Xl(_);if(typeof I!="function")throw Error(Pe(150));if(_=I.call(_),_==null)throw Error(Pe(151));for(var W=I=null,G=b,q=b=0,T=null,H=_.next();G!==null&&!H.done;q++,H=_.next()){G.index>q?(T=G,G=null):T=G.sibling;var P=v(x,G,H.value,S);if(P===null){G===null&&(G=T);break}e&&G&&P.alternate===null&&t(x,G),b=i(P,b,q),W===null?I=P:W.sibling=P,W=P,G=T}if(H.done)return r(x,G),Xt&&Ma(x,q),I;if(G===null){for(;!H.done;q++,H=_.next())H=g(x,H.value,S),H!==null&&(b=i(H,b,q),W===null?I=H:W.sibling=H,W=H);return Xt&&Ma(x,q),I}for(G=n(x,G);!H.done;q++,H=_.next())H=p(G,x,q,H.value,S),H!==null&&(e&&H.alternate!==null&&G.delete(H.key===null?q:H.key),b=i(H,b,q),W===null?I=H:W.sibling=H,W=H);return e&&G.forEach(function(F){return t(x,F)}),Xt&&Ma(x,q),I}function k(x,b,_,S){if(typeof _=="object"&&_!==null&&_.type===Bo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Hc:e:{for(var I=_.key,W=b;W!==null;){if(W.key===I){if(I=_.type,I===Bo){if(W.tag===7){r(x,W.sibling),b=s(W,_.props.children),b.return=x,x=b;break e}}else if(W.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Wi&&xg(I)===W.type){r(x,W.sibling),b=s(W,_.props),b.ref=ru(x,W,_),b.return=x,x=b;break e}r(x,W);break}else t(x,W);W=W.sibling}_.type===Bo?(b=Ja(_.props.children,x.mode,S,_.key),b.return=x,x=b):(S=Cd(_.type,_.key,_.props,null,x.mode,S),S.ref=ru(x,b,_),S.return=x,x=S)}return a(x);case Fo:e:{for(W=_.key;b!==null;){if(b.key===W)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){r(x,b.sibling),b=s(b,_.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=Hf(_,x.mode,S),b.return=x,x=b}return a(x);case Wi:return W=_._init,k(x,b,W(_._payload),S)}if(uu(_))return N(x,b,_,S);if(Xl(_))return j(x,b,_,S);td(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(r(x,b.sibling),b=s(b,_),b.return=x,x=b):(r(x,b),b=qf(_,x.mode,S),b.return=x,x=b),a(x)):r(x,b)}return k}var hl=W5(!0),G5=W5(!1),Qd=fa(null),Zd=null,Go=null,c1=null;function d1(){c1=Go=Zd=null}function h1(e){var t=Qd.current;Gt(Qd),e._currentValue=t}function ep(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function rl(e,t){Zd=e,c1=Go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gn=!0),e.firstContext=null)}function es(e){var t=e._currentValue;if(c1!==e)if(e={context:e,memoizedValue:t,next:null},Go===null){if(Zd===null)throw Error(Pe(308));Go=e,Zd.dependencies={lanes:0,firstContext:e}}else Go=Go.next=e;return t}var Va=null;function f1(e){Va===null?Va=[e]:Va.push(e)}function K5(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,f1(t)):(r.next=s.next,s.next=r),t.interleaved=r,_i(e,n)}function _i(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gi=!1;function p1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ia(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,At&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,_i(e,r)}return s=n.interleaved,s===null?(t.next=t,f1(n)):(t.next=s.next,s.next=t),n.interleaved=t,_i(e,r)}function jd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zp(e,r)}}function yg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function eh(e,t,r,n){var s=e.updateQueue;Gi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,d=u.next;u.next=null,a===null?i=d:a.next=d,a=u;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=u))}if(i!==null){var g=s.baseState;a=0,f=d=u=null,l=i;do{var v=l.lane,p=l.eventTime;if((n&v)===v){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var N=e,j=l;switch(v=t,p=r,j.tag){case 1:if(N=j.payload,typeof N=="function"){g=N.call(p,g,v);break e}g=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=j.payload,v=typeof N=="function"?N.call(p,g,v):N,v==null)break e;g=nr({},g,v);break e;case 2:Gi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[l]:v.push(l))}else p={eventTime:p,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=p,u=g):f=f.next=p,a|=v;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;v=l,l=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(f===null&&(u=g),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);eo|=a,e.lanes=a,e.memoizedState=g}}function bg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Pe(191,s));s.call(n)}}}var rc={},qs=fa(rc),Mu=fa(rc),Fu=fa(rc);function Wa(e){if(e===rc)throw Error(Pe(174));return e}function m1(e,t){switch(qt(Fu,t),qt(Mu,e),qt(qs,rc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:O0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=O0(t,e)}Gt(qs),qt(qs,t)}function fl(){Gt(qs),Gt(Mu),Gt(Fu)}function Y5(e){Wa(Fu.current);var t=Wa(qs.current),r=O0(t,e.type);t!==r&&(qt(Mu,e),qt(qs,r))}function g1(e){Mu.current===e&&(Gt(qs),Gt(Mu))}var tr=fa(0);function th(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mf=[];function v1(){for(var e=0;e<Mf.length;e++)Mf[e]._workInProgressVersionPrimary=null;Mf.length=0}var Sd=Si.ReactCurrentDispatcher,Ff=Si.ReactCurrentBatchConfig,Za=0,rr=null,Cr=null,Tr=null,rh=!1,xu=!1,Bu=0,G4=0;function Yr(){throw Error(Pe(321))}function x1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ns(e[r],t[r]))return!1;return!0}function y1(e,t,r,n,s,i){if(Za=i,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sd.current=e===null||e.memoizedState===null?X4:Q4,e=r(n,s),xu){i=0;do{if(xu=!1,Bu=0,25<=i)throw Error(Pe(301));i+=1,Tr=Cr=null,t.updateQueue=null,Sd.current=Z4,e=r(n,s)}while(xu)}if(Sd.current=nh,t=Cr!==null&&Cr.next!==null,Za=0,Tr=Cr=rr=null,rh=!1,t)throw Error(Pe(300));return e}function b1(){var e=Bu!==0;return Bu=0,e}function Bs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?rr.memoizedState=Tr=e:Tr=Tr.next=e,Tr}function ts(){if(Cr===null){var e=rr.alternate;e=e!==null?e.memoizedState:null}else e=Cr.next;var t=Tr===null?rr.memoizedState:Tr.next;if(t!==null)Tr=t,Cr=e;else{if(e===null)throw Error(Pe(310));Cr=e,e={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Tr===null?rr.memoizedState=Tr=e:Tr=Tr.next=e}return Tr}function Uu(e,t){return typeof t=="function"?t(e):t}function Bf(e){var t=ts(),r=t.queue;if(r===null)throw Error(Pe(311));r.lastRenderedReducer=e;var n=Cr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,u=null,d=i;do{var f=d.lane;if((Za&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var g={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=g,a=n):u=u.next=g,rr.lanes|=f,eo|=f}d=d.next}while(d!==null&&d!==i);u===null?a=n:u.next=l,Ns(n,t.memoizedState)||(gn=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,rr.lanes|=i,eo|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Uf(e){var t=ts(),r=t.queue;if(r===null)throw Error(Pe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Ns(i,t.memoizedState)||(gn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function X5(){}function Q5(e,t){var r=rr,n=ts(),s=t(),i=!Ns(n.memoizedState,s);if(i&&(n.memoizedState=s,gn=!0),n=n.queue,w1(tx.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Tr!==null&&Tr.memoizedState.tag&1){if(r.flags|=2048,zu(9,ex.bind(null,r,n,s,t),void 0,null),Dr===null)throw Error(Pe(349));Za&30||Z5(r,t,s)}return s}function Z5(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ex(e,t,r,n){t.value=r,t.getSnapshot=n,rx(t)&&nx(e)}function tx(e,t,r){return r(function(){rx(t)&&nx(e)})}function rx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ns(e,r)}catch{return!0}}function nx(e){var t=_i(e,1);t!==null&&_s(t,e,1,-1)}function wg(e){var t=Bs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:e},t.queue=e,e=e.dispatch=Y4.bind(null,rr,e),[t.memoizedState,e]}function zu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function sx(){return ts().memoizedState}function kd(e,t,r,n){var s=Bs();rr.flags|=e,s.memoizedState=zu(1|t,r,void 0,n===void 0?null:n)}function jh(e,t,r,n){var s=ts();n=n===void 0?null:n;var i=void 0;if(Cr!==null){var a=Cr.memoizedState;if(i=a.destroy,n!==null&&x1(n,a.deps)){s.memoizedState=zu(t,r,i,n);return}}rr.flags|=e,s.memoizedState=zu(1|t,r,i,n)}function _g(e,t){return kd(8390656,8,e,t)}function w1(e,t){return jh(2048,8,e,t)}function ix(e,t){return jh(4,2,e,t)}function ax(e,t){return jh(4,4,e,t)}function ox(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lx(e,t,r){return r=r!=null?r.concat([e]):null,jh(4,4,ox.bind(null,t,e),r)}function _1(){}function ux(e,t){var r=ts();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&x1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cx(e,t){var r=ts();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&x1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function dx(e,t,r){return Za&21?(Ns(r,t)||(r=g5(),rr.lanes|=r,eo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gn=!0),e.memoizedState=r)}function K4(e,t){var r=It;It=r!==0&&4>r?r:4,e(!0);var n=Ff.transition;Ff.transition={};try{e(!1),t()}finally{It=r,Ff.transition=n}}function hx(){return ts().memoizedState}function J4(e,t,r){var n=oa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fx(e))px(t,r);else if(r=K5(e,t,r,n),r!==null){var s=cn();_s(r,e,n,s),mx(r,t,n)}}function Y4(e,t,r){var n=oa(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fx(e))px(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Ns(l,a)){var u=t.interleaved;u===null?(s.next=s,f1(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=K5(e,t,s,n),r!==null&&(s=cn(),_s(r,e,n,s),mx(r,t,n))}}function fx(e){var t=e.alternate;return e===rr||t!==null&&t===rr}function px(e,t){xu=rh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function mx(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zp(e,r)}}var nh={readContext:es,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useInsertionEffect:Yr,useLayoutEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useMutableSource:Yr,useSyncExternalStore:Yr,useId:Yr,unstable_isNewReconciler:!1},X4={readContext:es,useCallback:function(e,t){return Bs().memoizedState=[e,t===void 0?null:t],e},useContext:es,useEffect:_g,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,kd(4194308,4,ox.bind(null,t,e),r)},useLayoutEffect:function(e,t){return kd(4194308,4,e,t)},useInsertionEffect:function(e,t){return kd(4,2,e,t)},useMemo:function(e,t){var r=Bs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Bs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=J4.bind(null,rr,e),[n.memoizedState,e]},useRef:function(e){var t=Bs();return e={current:e},t.memoizedState=e},useState:wg,useDebugValue:_1,useDeferredValue:function(e){return Bs().memoizedState=e},useTransition:function(){var e=wg(!1),t=e[0];return e=K4.bind(null,e[1]),Bs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=rr,s=Bs();if(Xt){if(r===void 0)throw Error(Pe(407));r=r()}else{if(r=t(),Dr===null)throw Error(Pe(349));Za&30||Z5(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,_g(tx.bind(null,n,i,e),[e]),n.flags|=2048,zu(9,ex.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Bs(),t=Dr.identifierPrefix;if(Xt){var r=vi,n=gi;r=(n&~(1<<32-ws(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=G4++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Q4={readContext:es,useCallback:ux,useContext:es,useEffect:w1,useImperativeHandle:lx,useInsertionEffect:ix,useLayoutEffect:ax,useMemo:cx,useReducer:Bf,useRef:sx,useState:function(){return Bf(Uu)},useDebugValue:_1,useDeferredValue:function(e){var t=ts();return dx(t,Cr.memoizedState,e)},useTransition:function(){var e=Bf(Uu)[0],t=ts().memoizedState;return[e,t]},useMutableSource:X5,useSyncExternalStore:Q5,useId:hx,unstable_isNewReconciler:!1},Z4={readContext:es,useCallback:ux,useContext:es,useEffect:w1,useImperativeHandle:lx,useInsertionEffect:ix,useLayoutEffect:ax,useMemo:cx,useReducer:Uf,useRef:sx,useState:function(){return Uf(Uu)},useDebugValue:_1,useDeferredValue:function(e){var t=ts();return Cr===null?t.memoizedState=e:dx(t,Cr.memoizedState,e)},useTransition:function(){var e=Uf(Uu)[0],t=ts().memoizedState;return[e,t]},useMutableSource:X5,useSyncExternalStore:Q5,useId:hx,unstable_isNewReconciler:!1};function gs(e,t){if(e&&e.defaultProps){t=nr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function tp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:nr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sh={isMounted:function(e){return(e=e._reactInternals)?ao(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=cn(),s=oa(e),i=xi(n,s);i.payload=t,r!=null&&(i.callback=r),t=ia(e,i,s),t!==null&&(_s(t,e,s,n),jd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=cn(),s=oa(e),i=xi(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ia(e,i,s),t!==null&&(_s(t,e,s,n),jd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=cn(),n=oa(e),s=xi(r,n);s.tag=2,t!=null&&(s.callback=t),t=ia(e,s,n),t!==null&&(_s(t,e,n,r),jd(t,e,n))}};function Ng(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Tu(r,n)||!Tu(s,i):!0}function gx(e,t,r){var n=!1,s=ca,i=t.contextType;return typeof i=="object"&&i!==null?i=es(i):(s=xn(t)?Xa:nn.current,n=t.contextTypes,i=(n=n!=null)?cl(e,s):ca),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function jg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Sh.enqueueReplaceState(t,t.state,null)}function rp(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},p1(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=es(i):(i=xn(t)?Xa:nn.current,s.context=cl(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(tp(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Sh.enqueueReplaceState(s,s.state,null),eh(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function pl(e,t){try{var r="",n=t;do r+=Aw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function zf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function np(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var e3=typeof WeakMap=="function"?WeakMap:Map;function vx(e,t,r){r=xi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ih||(ih=!0,fp=n),np(e,t)},r}function xx(e,t,r){r=xi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){np(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){np(e,t),typeof n!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Sg(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new e3;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=p3.bind(null,e,t,r),t.then(e,e))}function kg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ag(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xi(-1,1),t.tag=2,ia(r,t,1))),r.lanes|=1),e)}var t3=Si.ReactCurrentOwner,gn=!1;function un(e,t,r,n){t.child=e===null?G5(t,null,r,n):hl(t,e.child,r,n)}function Lg(e,t,r,n,s){r=r.render;var i=t.ref;return rl(t,s),n=y1(e,t,r,n,i,s),r=b1(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ni(e,t,s)):(Xt&&r&&o1(t),t.flags|=1,un(e,t,n,s),t.child)}function Eg(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!C1(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,yx(e,t,i,n,s)):(e=Cd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Tu,r(a,n)&&e.ref===t.ref)return Ni(e,t,s)}return t.flags|=1,e=la(i,n),e.ref=t.ref,e.return=t,t.child=e}function yx(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Tu(i,n)&&e.ref===t.ref)if(gn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(gn=!0);else return t.lanes=e.lanes,Ni(e,t,s)}return sp(e,t,r,n,s)}function bx(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Jo,Rn),Rn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qt(Jo,Rn),Rn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,qt(Jo,Rn),Rn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,qt(Jo,Rn),Rn|=n;return un(e,t,s,r),t.child}function wx(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function sp(e,t,r,n,s){var i=xn(r)?Xa:nn.current;return i=cl(t,i),rl(t,s),r=y1(e,t,r,n,i,s),n=b1(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ni(e,t,s)):(Xt&&n&&o1(t),t.flags|=1,un(e,t,r,s),t.child)}function Cg(e,t,r,n,s){if(xn(r)){var i=!0;Jd(t)}else i=!1;if(rl(t,s),t.stateNode===null)Ad(e,t),gx(t,r,n),rp(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=es(d):(d=xn(r)?Xa:nn.current,d=cl(t,d));var f=r.getDerivedStateFromProps,g=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||u!==d)&&jg(t,a,n,d),Gi=!1;var v=t.memoizedState;a.state=v,eh(t,n,a,s),u=t.memoizedState,l!==n||v!==u||vn.current||Gi?(typeof f=="function"&&(tp(t,r,f,n),u=t.memoizedState),(l=Gi||Ng(t,r,l,n,v,u,d))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=d,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,J5(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:gs(t.type,l),a.props=d,g=t.pendingProps,v=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=es(u):(u=xn(r)?Xa:nn.current,u=cl(t,u));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||v!==u)&&jg(t,a,n,u),Gi=!1,v=t.memoizedState,a.state=v,eh(t,n,a,s);var N=t.memoizedState;l!==g||v!==N||vn.current||Gi?(typeof p=="function"&&(tp(t,r,p,n),N=t.memoizedState),(d=Gi||Ng(t,r,d,n,v,N,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,N,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,N,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=N),a.props=n,a.state=N,a.context=u,n=d):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return ip(e,t,r,n,i,s)}function ip(e,t,r,n,s,i){wx(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&mg(t,r,!1),Ni(e,t,i);n=t.stateNode,t3.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=hl(t,e.child,null,i),t.child=hl(t,null,l,i)):un(e,t,l,i),t.memoizedState=n.state,s&&mg(t,r,!0),t.child}function _x(e){var t=e.stateNode;t.pendingContext?pg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pg(e,t.context,!1),m1(e,t.containerInfo)}function Pg(e,t,r,n,s){return dl(),u1(s),t.flags|=256,un(e,t,r,n),t.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function op(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nx(e,t,r){var n=t.pendingProps,s=tr.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),qt(tr,s&1),e===null)return Z0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Lh(a,n,0,null),e=Ja(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=op(r),t.memoizedState=ap,e):N1(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return r3(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=la(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=la(l,i):(i=Ja(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?op(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=ap,n}return i=e.child,e=i.sibling,n=la(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function N1(e,t){return t=Lh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rd(e,t,r,n){return n!==null&&u1(n),hl(t,e.child,null,r),e=N1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function r3(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=zf(Error(Pe(422))),rd(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Lh({mode:"visible",children:n.children},s,0,null),i=Ja(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&hl(t,e.child,null,a),t.child.memoizedState=op(a),t.memoizedState=ap,i);if(!(t.mode&1))return rd(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Pe(419)),n=zf(i,n,void 0),rd(e,t,a,n)}if(l=(a&e.childLanes)!==0,gn||l){if(n=Dr,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_i(e,s),_s(n,e,s,-1))}return E1(),n=zf(Error(Pe(421))),rd(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=m3.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,In=sa(s.nextSibling),Mn=t,Xt=!0,bs=null,e!==null&&(Yn[Xn++]=gi,Yn[Xn++]=vi,Yn[Xn++]=Qa,gi=e.id,vi=e.overflow,Qa=t),t=N1(t,n.children),t.flags|=4096,t)}function Rg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ep(e.return,t,r)}function $f(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function jx(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(un(e,t,n.children,r),n=tr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rg(e,r,t);else if(e.tag===19)Rg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qt(tr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&th(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),$f(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&th(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$f(t,!0,r,null,i);break;case"together":$f(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ad(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ni(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),eo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Pe(153));if(t.child!==null){for(e=t.child,r=la(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=la(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function n3(e,t,r){switch(t.tag){case 3:_x(t),dl();break;case 5:Y5(t);break;case 1:xn(t.type)&&Jd(t);break;case 4:m1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;qt(Qd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qt(tr,tr.current&1),t.flags|=128,null):r&t.child.childLanes?Nx(e,t,r):(qt(tr,tr.current&1),e=Ni(e,t,r),e!==null?e.sibling:null);qt(tr,tr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jx(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qt(tr,tr.current),n)break;return null;case 22:case 23:return t.lanes=0,bx(e,t,r)}return Ni(e,t,r)}var Sx,lp,kx,Ax;Sx=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lp=function(){};kx=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Wa(qs.current);var i=null;switch(r){case"input":s=C0(e,s),n=C0(e,n),i=[];break;case"select":s=nr({},s,{value:void 0}),n=nr({},n,{value:void 0}),i=[];break;case"textarea":s=T0(e,s),n=T0(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Gd)}I0(r,n);var a;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ku.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var u=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(d,r)),r=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ku.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Vt("scroll",e),i||l===u||(i=[])):(i=i||[]).push(d,u))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Ax=function(e,t,r,n){r!==n&&(t.flags|=4)};function nu(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function s3(e,t,r){var n=t.pendingProps;switch(l1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(t),null;case 1:return xn(t.type)&&Kd(),Xr(t),null;case 3:return n=t.stateNode,fl(),Gt(vn),Gt(nn),v1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ed(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bs!==null&&(gp(bs),bs=null))),lp(e,t),Xr(t),null;case 5:g1(t);var s=Wa(Fu.current);if(r=t.type,e!==null&&t.stateNode!=null)kx(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Pe(166));return Xr(t),null}if(e=Wa(qs.current),ed(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Us]=t,n[Du]=i,e=(t.mode&1)!==0,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(s=0;s<du.length;s++)Vt(du[s],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":zm(n,i),Vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Vt("invalid",n);break;case"textarea":qm(n,i),Vt("invalid",n)}I0(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Zc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Zc(n.textContent,l,e),s=["children",""+l]):ku.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Vt("scroll",n)}switch(r){case"input":Vc(n),$m(n,i,!0);break;case"textarea":Vc(n),Hm(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Gd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=t5(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Us]=t,e[Du]=n,Sx(e,t,!1,!1),t.stateNode=e;e:{switch(a=D0(r,n),r){case"dialog":Vt("cancel",e),Vt("close",e),s=n;break;case"iframe":case"object":case"embed":Vt("load",e),s=n;break;case"video":case"audio":for(s=0;s<du.length;s++)Vt(du[s],e);s=n;break;case"source":Vt("error",e),s=n;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),s=n;break;case"details":Vt("toggle",e),s=n;break;case"input":zm(e,n),s=C0(e,n),Vt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=nr({},n,{value:void 0}),Vt("invalid",e);break;case"textarea":qm(e,n),s=T0(e,n),Vt("invalid",e);break;default:s=n}I0(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?s5(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&r5(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Au(e,u):typeof u=="number"&&Au(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ku.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Vt("scroll",e):u!=null&&Gp(e,i,u,a))}switch(r){case"input":Vc(e),$m(e,n,!1);break;case"textarea":Vc(e),Hm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ua(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Qo(e,!!n.multiple,i,!1):n.defaultValue!=null&&Qo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Gd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xr(t),null;case 6:if(e&&t.stateNode!=null)Ax(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Pe(166));if(r=Wa(Fu.current),Wa(qs.current),ed(t)){if(n=t.stateNode,r=t.memoizedProps,n[Us]=t,(i=n.nodeValue!==r)&&(e=Mn,e!==null))switch(e.tag){case 3:Zc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Us]=t,t.stateNode=n}return Xr(t),null;case 13:if(Gt(tr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&In!==null&&t.mode&1&&!(t.flags&128))V5(),dl(),t.flags|=98560,i=!1;else if(i=ed(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Pe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Pe(317));i[Us]=t}else dl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xr(t),i=!1}else bs!==null&&(gp(bs),bs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||tr.current&1?Pr===0&&(Pr=3):E1())),t.updateQueue!==null&&(t.flags|=4),Xr(t),null);case 4:return fl(),lp(e,t),e===null&&Ou(t.stateNode.containerInfo),Xr(t),null;case 10:return h1(t.type._context),Xr(t),null;case 17:return xn(t.type)&&Kd(),Xr(t),null;case 19:if(Gt(tr),i=t.memoizedState,i===null)return Xr(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)nu(i,!1);else{if(Pr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=th(e),a!==null){for(t.flags|=128,nu(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qt(tr,tr.current&1|2),t.child}e=e.sibling}i.tail!==null&&pr()>ml&&(t.flags|=128,n=!0,nu(i,!1),t.lanes=4194304)}else{if(!n)if(e=th(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),nu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Xt)return Xr(t),null}else 2*pr()-i.renderingStartTime>ml&&r!==1073741824&&(t.flags|=128,n=!0,nu(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pr(),t.sibling=null,r=tr.current,qt(tr,n?r&1|2:r&1),t):(Xr(t),null);case 22:case 23:return L1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Rn&1073741824&&(Xr(t),t.subtreeFlags&6&&(t.flags|=8192)):Xr(t),null;case 24:return null;case 25:return null}throw Error(Pe(156,t.tag))}function i3(e,t){switch(l1(t),t.tag){case 1:return xn(t.type)&&Kd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fl(),Gt(vn),Gt(nn),v1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return g1(t),null;case 13:if(Gt(tr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Pe(340));dl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gt(tr),null;case 4:return fl(),null;case 10:return h1(t.type._context),null;case 22:case 23:return L1(),null;case 24:return null;default:return null}}var nd=!1,rn=!1,a3=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Ko(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ur(e,t,n)}else r.current=null}function up(e,t,r){try{r()}catch(n){ur(e,t,n)}}var Tg=!1;function o3(e,t){if(W0=Hd,e=R5(),a1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,d=0,f=0,g=e,v=null;t:for(;;){for(var p;g!==r||s!==0&&g.nodeType!==3||(l=a+s),g!==i||n!==0&&g.nodeType!==3||(u=a+n),g.nodeType===3&&(a+=g.nodeValue.length),(p=g.firstChild)!==null;)v=g,g=p;for(;;){if(g===e)break t;if(v===r&&++d===s&&(l=a),v===i&&++f===n&&(u=a),(p=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=p}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(G0={focusedElem:e,selectionRange:r},Hd=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var j=N.memoizedProps,k=N.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?j:gs(t.type,j),k);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(S){ur(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return N=Tg,Tg=!1,N}function yu(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&up(t,r,i)}s=s.next}while(s!==n)}}function kh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function cp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Lx(e){var t=e.alternate;t!==null&&(e.alternate=null,Lx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Us],delete t[Du],delete t[Y0],delete t[q4],delete t[H4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ex(e){return e.tag===5||e.tag===3||e.tag===4}function Og(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ex(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Gd));else if(n!==4&&(e=e.child,e!==null))for(dp(e,t,r),e=e.sibling;e!==null;)dp(e,t,r),e=e.sibling}function hp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hp(e,t,r),e=e.sibling;e!==null;)hp(e,t,r),e=e.sibling}var Vr=null,xs=!1;function qi(e,t,r){for(r=r.child;r!==null;)Cx(e,t,r),r=r.sibling}function Cx(e,t,r){if($s&&typeof $s.onCommitFiberUnmount=="function")try{$s.onCommitFiberUnmount(xh,r)}catch{}switch(r.tag){case 5:rn||Ko(r,t);case 6:var n=Vr,s=xs;Vr=null,qi(e,t,r),Vr=n,xs=s,Vr!==null&&(xs?(e=Vr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vr.removeChild(r.stateNode));break;case 18:Vr!==null&&(xs?(e=Vr,r=r.stateNode,e.nodeType===8?If(e.parentNode,r):e.nodeType===1&&If(e,r),Pu(e)):If(Vr,r.stateNode));break;case 4:n=Vr,s=xs,Vr=r.stateNode.containerInfo,xs=!0,qi(e,t,r),Vr=n,xs=s;break;case 0:case 11:case 14:case 15:if(!rn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&up(r,t,a),s=s.next}while(s!==n)}qi(e,t,r);break;case 1:if(!rn&&(Ko(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ur(r,t,l)}qi(e,t,r);break;case 21:qi(e,t,r);break;case 22:r.mode&1?(rn=(n=rn)||r.memoizedState!==null,qi(e,t,r),rn=n):qi(e,t,r);break;default:qi(e,t,r)}}function Ig(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new a3),t.forEach(function(n){var s=g3.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function fs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Vr=l.stateNode,xs=!1;break e;case 3:Vr=l.stateNode.containerInfo,xs=!0;break e;case 4:Vr=l.stateNode.containerInfo,xs=!0;break e}l=l.return}if(Vr===null)throw Error(Pe(160));Cx(i,a,s),Vr=null,xs=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){ur(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Px(t,e),t=t.sibling}function Px(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fs(t,e),Ds(e),n&4){try{yu(3,e,e.return),kh(3,e)}catch(j){ur(e,e.return,j)}try{yu(5,e,e.return)}catch(j){ur(e,e.return,j)}}break;case 1:fs(t,e),Ds(e),n&512&&r!==null&&Ko(r,r.return);break;case 5:if(fs(t,e),Ds(e),n&512&&r!==null&&Ko(r,r.return),e.flags&32){var s=e.stateNode;try{Au(s,"")}catch(j){ur(e,e.return,j)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Zv(s,i),D0(l,a);var d=D0(l,i);for(a=0;a<u.length;a+=2){var f=u[a],g=u[a+1];f==="style"?s5(s,g):f==="dangerouslySetInnerHTML"?r5(s,g):f==="children"?Au(s,g):Gp(s,f,g,d)}switch(l){case"input":P0(s,i);break;case"textarea":e5(s,i);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Qo(s,!!i.multiple,p,!1):v!==!!i.multiple&&(i.defaultValue!=null?Qo(s,!!i.multiple,i.defaultValue,!0):Qo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Du]=i}catch(j){ur(e,e.return,j)}}break;case 6:if(fs(t,e),Ds(e),n&4){if(e.stateNode===null)throw Error(Pe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(j){ur(e,e.return,j)}}break;case 3:if(fs(t,e),Ds(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pu(t.containerInfo)}catch(j){ur(e,e.return,j)}break;case 4:fs(t,e),Ds(e);break;case 13:fs(t,e),Ds(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(k1=pr())),n&4&&Ig(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(rn=(d=rn)||f,fs(t,e),rn=d):fs(t,e),Ds(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(Me=e,f=e.child;f!==null;){for(g=Me=f;Me!==null;){switch(v=Me,p=v.child,v.tag){case 0:case 11:case 14:case 15:yu(4,v,v.return);break;case 1:Ko(v,v.return);var N=v.stateNode;if(typeof N.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(j){ur(n,r,j)}}break;case 5:Ko(v,v.return);break;case 22:if(v.memoizedState!==null){Mg(g);continue}}p!==null?(p.return=v,Me=p):Mg(g)}f=f.sibling}e:for(f=null,g=e;;){if(g.tag===5){if(f===null){f=g;try{s=g.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=g.stateNode,u=g.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=n5("display",a))}catch(j){ur(e,e.return,j)}}}else if(g.tag===6){if(f===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(j){ur(e,e.return,j)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;f===g&&(f=null),g=g.return}f===g&&(f=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:fs(t,e),Ds(e),n&4&&Ig(e);break;case 21:break;default:fs(t,e),Ds(e)}}function Ds(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ex(r)){var n=r;break e}r=r.return}throw Error(Pe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Au(s,""),n.flags&=-33);var i=Og(e);hp(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Og(e);dp(e,l,a);break;default:throw Error(Pe(161))}}catch(u){ur(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function l3(e,t,r){Me=e,Rx(e)}function Rx(e,t,r){for(var n=(e.mode&1)!==0;Me!==null;){var s=Me,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||nd;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||rn;l=nd;var d=rn;if(nd=a,(rn=u)&&!d)for(Me=s;Me!==null;)a=Me,u=a.child,a.tag===22&&a.memoizedState!==null?Fg(s):u!==null?(u.return=a,Me=u):Fg(s);for(;i!==null;)Me=i,Rx(i),i=i.sibling;Me=s,nd=l,rn=d}Dg(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Me=i):Dg(e)}}function Dg(e){for(;Me!==null;){var t=Me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rn||kh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!rn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:gs(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&bg(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bg(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var g=f.dehydrated;g!==null&&Pu(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}rn||t.flags&512&&cp(t)}catch(v){ur(t,t.return,v)}}if(t===e){Me=null;break}if(r=t.sibling,r!==null){r.return=t.return,Me=r;break}Me=t.return}}function Mg(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Me=r;break}Me=t.return}}function Fg(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kh(4,t)}catch(u){ur(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){ur(t,s,u)}}var i=t.return;try{cp(t)}catch(u){ur(t,i,u)}break;case 5:var a=t.return;try{cp(t)}catch(u){ur(t,a,u)}}}catch(u){ur(t,t.return,u)}if(t===e){Me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Me=l;break}Me=t.return}}var u3=Math.ceil,sh=Si.ReactCurrentDispatcher,j1=Si.ReactCurrentOwner,Zn=Si.ReactCurrentBatchConfig,At=0,Dr=null,_r=null,Wr=0,Rn=0,Jo=fa(0),Pr=0,$u=null,eo=0,Ah=0,S1=0,bu=null,mn=null,k1=0,ml=1/0,hi=null,ih=!1,fp=null,aa=null,sd=!1,Zi=null,ah=0,wu=0,pp=null,Ld=-1,Ed=0;function cn(){return At&6?pr():Ld!==-1?Ld:Ld=pr()}function oa(e){return e.mode&1?At&2&&Wr!==0?Wr&-Wr:W4.transition!==null?(Ed===0&&(Ed=g5()),Ed):(e=It,e!==0||(e=window.event,e=e===void 0?16:N5(e.type)),e):1}function _s(e,t,r,n){if(50<wu)throw wu=0,pp=null,Error(Pe(185));Zu(e,r,n),(!(At&2)||e!==Dr)&&(e===Dr&&(!(At&2)&&(Ah|=r),Pr===4&&Yi(e,Wr)),yn(e,n),r===1&&At===0&&!(t.mode&1)&&(ml=pr()+500,Nh&&pa()))}function yn(e,t){var r=e.callbackNode;Ww(e,t);var n=qd(e,e===Dr?Wr:0);if(n===0)r!==null&&Gm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Gm(r),t===1)e.tag===0?V4(Bg.bind(null,e)):$5(Bg.bind(null,e)),z4(function(){!(At&6)&&pa()}),r=null;else{switch(v5(n)){case 1:r=Qp;break;case 4:r=p5;break;case 16:r=$d;break;case 536870912:r=m5;break;default:r=$d}r=Ux(r,Tx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Tx(e,t){if(Ld=-1,Ed=0,At&6)throw Error(Pe(327));var r=e.callbackNode;if(nl()&&e.callbackNode!==r)return null;var n=qd(e,e===Dr?Wr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=oh(e,n);else{t=n;var s=At;At|=2;var i=Ix();(Dr!==e||Wr!==t)&&(hi=null,ml=pr()+500,Ka(e,t));do try{h3();break}catch(l){Ox(e,l)}while(!0);d1(),sh.current=i,At=s,_r!==null?t=0:(Dr=null,Wr=0,t=Pr)}if(t!==0){if(t===2&&(s=z0(e),s!==0&&(n=s,t=mp(e,s))),t===1)throw r=$u,Ka(e,0),Yi(e,n),yn(e,pr()),r;if(t===6)Yi(e,n);else{if(s=e.current.alternate,!(n&30)&&!c3(s)&&(t=oh(e,n),t===2&&(i=z0(e),i!==0&&(n=i,t=mp(e,i))),t===1))throw r=$u,Ka(e,0),Yi(e,n),yn(e,pr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Pe(345));case 2:Fa(e,mn,hi);break;case 3:if(Yi(e,n),(n&130023424)===n&&(t=k1+500-pr(),10<t)){if(qd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){cn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=J0(Fa.bind(null,e,mn,hi),t);break}Fa(e,mn,hi);break;case 4:if(Yi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-ws(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=pr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*u3(n/1960))-n,10<n){e.timeoutHandle=J0(Fa.bind(null,e,mn,hi),n);break}Fa(e,mn,hi);break;case 5:Fa(e,mn,hi);break;default:throw Error(Pe(329))}}}return yn(e,pr()),e.callbackNode===r?Tx.bind(null,e):null}function mp(e,t){var r=bu;return e.current.memoizedState.isDehydrated&&(Ka(e,t).flags|=256),e=oh(e,t),e!==2&&(t=mn,mn=r,t!==null&&gp(t)),e}function gp(e){mn===null?mn=e:mn.push.apply(mn,e)}function c3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ns(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yi(e,t){for(t&=~S1,t&=~Ah,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ws(t),n=1<<r;e[r]=-1,t&=~n}}function Bg(e){if(At&6)throw Error(Pe(327));nl();var t=qd(e,0);if(!(t&1))return yn(e,pr()),null;var r=oh(e,t);if(e.tag!==0&&r===2){var n=z0(e);n!==0&&(t=n,r=mp(e,n))}if(r===1)throw r=$u,Ka(e,0),Yi(e,t),yn(e,pr()),r;if(r===6)throw Error(Pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fa(e,mn,hi),yn(e,pr()),null}function A1(e,t){var r=At;At|=1;try{return e(t)}finally{At=r,At===0&&(ml=pr()+500,Nh&&pa())}}function to(e){Zi!==null&&Zi.tag===0&&!(At&6)&&nl();var t=At;At|=1;var r=Zn.transition,n=It;try{if(Zn.transition=null,It=1,e)return e()}finally{It=n,Zn.transition=r,At=t,!(At&6)&&pa()}}function L1(){Rn=Jo.current,Gt(Jo)}function Ka(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,U4(r)),_r!==null)for(r=_r.return;r!==null;){var n=r;switch(l1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Kd();break;case 3:fl(),Gt(vn),Gt(nn),v1();break;case 5:g1(n);break;case 4:fl();break;case 13:Gt(tr);break;case 19:Gt(tr);break;case 10:h1(n.type._context);break;case 22:case 23:L1()}r=r.return}if(Dr=e,_r=e=la(e.current,null),Wr=Rn=t,Pr=0,$u=null,S1=Ah=eo=0,mn=bu=null,Va!==null){for(t=0;t<Va.length;t++)if(r=Va[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Va=null}return e}function Ox(e,t){do{var r=_r;try{if(d1(),Sd.current=nh,rh){for(var n=rr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}rh=!1}if(Za=0,Tr=Cr=rr=null,xu=!1,Bu=0,j1.current=null,r===null||r.return===null){Pr=1,$u=t,_r=null;break}e:{var i=e,a=r.return,l=r,u=t;if(t=Wr,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=l,g=f.tag;if(!(f.mode&1)&&(g===0||g===11||g===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=kg(a);if(p!==null){p.flags&=-257,Ag(p,a,l,i,t),p.mode&1&&Sg(i,d,t),t=p,u=d;var N=t.updateQueue;if(N===null){var j=new Set;j.add(u),t.updateQueue=j}else N.add(u);break e}else{if(!(t&1)){Sg(i,d,t),E1();break e}u=Error(Pe(426))}}else if(Xt&&l.mode&1){var k=kg(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ag(k,a,l,i,t),u1(pl(u,l));break e}}i=u=pl(u,l),Pr!==4&&(Pr=2),bu===null?bu=[i]:bu.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=vx(i,u,t);yg(i,x);break e;case 1:l=u;var b=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(aa===null||!aa.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=xx(i,l,t);yg(i,S);break e}}i=i.return}while(i!==null)}Mx(r)}catch(I){t=I,_r===r&&r!==null&&(_r=r=r.return);continue}break}while(!0)}function Ix(){var e=sh.current;return sh.current=nh,e===null?nh:e}function E1(){(Pr===0||Pr===3||Pr===2)&&(Pr=4),Dr===null||!(eo&268435455)&&!(Ah&268435455)||Yi(Dr,Wr)}function oh(e,t){var r=At;At|=2;var n=Ix();(Dr!==e||Wr!==t)&&(hi=null,Ka(e,t));do try{d3();break}catch(s){Ox(e,s)}while(!0);if(d1(),At=r,sh.current=n,_r!==null)throw Error(Pe(261));return Dr=null,Wr=0,Pr}function d3(){for(;_r!==null;)Dx(_r)}function h3(){for(;_r!==null&&!Mw();)Dx(_r)}function Dx(e){var t=Bx(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?Mx(e):_r=t,j1.current=null}function Mx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=i3(r,t),r!==null){r.flags&=32767,_r=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pr=6,_r=null;return}}else if(r=s3(r,t,Rn),r!==null){_r=r;return}if(t=t.sibling,t!==null){_r=t;return}_r=t=e}while(t!==null);Pr===0&&(Pr=5)}function Fa(e,t,r){var n=It,s=Zn.transition;try{Zn.transition=null,It=1,f3(e,t,r,n)}finally{Zn.transition=s,It=n}return null}function f3(e,t,r,n){do nl();while(Zi!==null);if(At&6)throw Error(Pe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Pe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Gw(e,i),e===Dr&&(_r=Dr=null,Wr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sd||(sd=!0,Ux($d,function(){return nl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Zn.transition,Zn.transition=null;var a=It;It=1;var l=At;At|=4,j1.current=null,o3(e,r),Px(r,e),T4(G0),Hd=!!W0,G0=W0=null,e.current=r,l3(r),Fw(),At=l,It=a,Zn.transition=i}else e.current=r;if(sd&&(sd=!1,Zi=e,ah=s),i=e.pendingLanes,i===0&&(aa=null),zw(r.stateNode),yn(e,pr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ih)throw ih=!1,e=fp,fp=null,e;return ah&1&&e.tag!==0&&nl(),i=e.pendingLanes,i&1?e===pp?wu++:(wu=0,pp=e):wu=0,pa(),null}function nl(){if(Zi!==null){var e=v5(ah),t=Zn.transition,r=It;try{if(Zn.transition=null,It=16>e?16:e,Zi===null)var n=!1;else{if(e=Zi,Zi=null,ah=0,At&6)throw Error(Pe(331));var s=At;for(At|=4,Me=e.current;Me!==null;){var i=Me,a=i.child;if(Me.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(Me=d;Me!==null;){var f=Me;switch(f.tag){case 0:case 11:case 15:yu(8,f,i)}var g=f.child;if(g!==null)g.return=f,Me=g;else for(;Me!==null;){f=Me;var v=f.sibling,p=f.return;if(Lx(f),f===d){Me=null;break}if(v!==null){v.return=p,Me=v;break}Me=p}}}var N=i.alternate;if(N!==null){var j=N.child;if(j!==null){N.child=null;do{var k=j.sibling;j.sibling=null,j=k}while(j!==null)}}Me=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Me=a;else e:for(;Me!==null;){if(i=Me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Me=x;break e}Me=i.return}}var b=e.current;for(Me=b;Me!==null;){a=Me;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Me=_;else e:for(a=b;Me!==null;){if(l=Me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kh(9,l)}}catch(I){ur(l,l.return,I)}if(l===a){Me=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Me=S;break e}Me=l.return}}if(At=s,pa(),$s&&typeof $s.onPostCommitFiberRoot=="function")try{$s.onPostCommitFiberRoot(xh,e)}catch{}n=!0}return n}finally{It=r,Zn.transition=t}}return!1}function Ug(e,t,r){t=pl(r,t),t=vx(e,t,1),e=ia(e,t,1),t=cn(),e!==null&&(Zu(e,1,t),yn(e,t))}function ur(e,t,r){if(e.tag===3)Ug(e,e,r);else for(;t!==null;){if(t.tag===3){Ug(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(aa===null||!aa.has(n))){e=pl(r,e),e=xx(t,e,1),t=ia(t,e,1),e=cn(),t!==null&&(Zu(t,1,e),yn(t,e));break}}t=t.return}}function p3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=cn(),e.pingedLanes|=e.suspendedLanes&r,Dr===e&&(Wr&r)===r&&(Pr===4||Pr===3&&(Wr&130023424)===Wr&&500>pr()-k1?Ka(e,0):S1|=r),yn(e,t)}function Fx(e,t){t===0&&(e.mode&1?(t=Kc,Kc<<=1,!(Kc&130023424)&&(Kc=4194304)):t=1);var r=cn();e=_i(e,t),e!==null&&(Zu(e,t,r),yn(e,r))}function m3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Fx(e,r)}function g3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Pe(314))}n!==null&&n.delete(t),Fx(e,r)}var Bx;Bx=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||vn.current)gn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return gn=!1,n3(e,t,r);gn=!!(e.flags&131072)}else gn=!1,Xt&&t.flags&1048576&&q5(t,Xd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ad(e,t),e=t.pendingProps;var s=cl(t,nn.current);rl(t,r),s=y1(null,t,n,e,s,r);var i=b1();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xn(n)?(i=!0,Jd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,p1(t),s.updater=Sh,t.stateNode=s,s._reactInternals=t,rp(t,n,e,r),t=ip(null,t,n,!0,i,r)):(t.tag=0,Xt&&i&&o1(t),un(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ad(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=x3(n),e=gs(n,e),s){case 0:t=sp(null,t,n,e,r);break e;case 1:t=Cg(null,t,n,e,r);break e;case 11:t=Lg(null,t,n,e,r);break e;case 14:t=Eg(null,t,n,gs(n.type,e),r);break e}throw Error(Pe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gs(n,s),sp(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gs(n,s),Cg(e,t,n,s,r);case 3:e:{if(_x(t),e===null)throw Error(Pe(387));n=t.pendingProps,i=t.memoizedState,s=i.element,J5(e,t),eh(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=pl(Error(Pe(423)),t),t=Pg(e,t,n,r,s);break e}else if(n!==s){s=pl(Error(Pe(424)),t),t=Pg(e,t,n,r,s);break e}else for(In=sa(t.stateNode.containerInfo.firstChild),Mn=t,Xt=!0,bs=null,r=G5(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(dl(),n===s){t=Ni(e,t,r);break e}un(e,t,n,r)}t=t.child}return t;case 5:return Y5(t),e===null&&Z0(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,K0(n,s)?a=null:i!==null&&K0(n,i)&&(t.flags|=32),wx(e,t),un(e,t,a,r),t.child;case 6:return e===null&&Z0(t),null;case 13:return Nx(e,t,r);case 4:return m1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hl(t,null,n,r):un(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gs(n,s),Lg(e,t,n,s,r);case 7:return un(e,t,t.pendingProps,r),t.child;case 8:return un(e,t,t.pendingProps.children,r),t.child;case 12:return un(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,qt(Qd,n._currentValue),n._currentValue=a,i!==null)if(Ns(i.value,a)){if(i.children===s.children&&!vn.current){t=Ni(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=xi(-1,r&-r),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),ep(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Pe(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),ep(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}un(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,rl(t,r),s=es(s),n=n(s),t.flags|=1,un(e,t,n,r),t.child;case 14:return n=t.type,s=gs(n,t.pendingProps),s=gs(n.type,s),Eg(e,t,n,s,r);case 15:return yx(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gs(n,s),Ad(e,t),t.tag=1,xn(n)?(e=!0,Jd(t)):e=!1,rl(t,r),gx(t,n,s),rp(t,n,s,r),ip(null,t,n,!0,e,r);case 19:return jx(e,t,r);case 22:return bx(e,t,r)}throw Error(Pe(156,t.tag))};function Ux(e,t){return f5(e,t)}function v3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,t,r,n){return new v3(e,t,r,n)}function C1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function x3(e){if(typeof e=="function")return C1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jp)return 11;if(e===Yp)return 14}return 2}function la(e,t){var r=e.alternate;return r===null?(r=Qn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Cd(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")C1(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Bo:return Ja(r.children,s,i,t);case Kp:a=8,s|=8;break;case k0:return e=Qn(12,r,t,s|2),e.elementType=k0,e.lanes=i,e;case A0:return e=Qn(13,r,t,s),e.elementType=A0,e.lanes=i,e;case L0:return e=Qn(19,r,t,s),e.elementType=L0,e.lanes=i,e;case Yv:return Lh(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kv:a=10;break e;case Jv:a=9;break e;case Jp:a=11;break e;case Yp:a=14;break e;case Wi:a=16,n=null;break e}throw Error(Pe(130,e==null?e:typeof e,""))}return t=Qn(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Ja(e,t,r,n){return e=Qn(7,e,n,t),e.lanes=r,e}function Lh(e,t,r,n){return e=Qn(22,e,n,t),e.elementType=Yv,e.lanes=r,e.stateNode={isHidden:!1},e}function qf(e,t,r){return e=Qn(6,e,null,t),e.lanes=r,e}function Hf(e,t,r){return t=Qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function y3(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function P1(e,t,r,n,s,i,a,l,u){return e=new y3(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},p1(i),e}function b3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zx(e){if(!e)return ca;e=e._reactInternals;e:{if(ao(e)!==e||e.tag!==1)throw Error(Pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Pe(171))}if(e.tag===1){var r=e.type;if(xn(r))return z5(e,r,t)}return t}function $x(e,t,r,n,s,i,a,l,u){return e=P1(r,n,!0,e,s,i,a,l,u),e.context=zx(null),r=e.current,n=cn(),s=oa(r),i=xi(n,s),i.callback=t??null,ia(r,i,s),e.current.lanes=s,Zu(e,s,n),yn(e,n),e}function Eh(e,t,r,n){var s=t.current,i=cn(),a=oa(s);return r=zx(r),t.context===null?t.context=r:t.pendingContext=r,t=xi(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ia(s,t,a),e!==null&&(_s(e,s,a,i),jd(e,s,a)),a}function lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function R1(e,t){zg(e,t),(e=e.alternate)&&zg(e,t)}function w3(){return null}var qx=typeof reportError=="function"?reportError:function(e){console.error(e)};function T1(e){this._internalRoot=e}Ch.prototype.render=T1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Pe(409));Eh(e,t,null,null)};Ch.prototype.unmount=T1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;to(function(){Eh(null,e,null,null)}),t[wi]=null}};function Ch(e){this._internalRoot=e}Ch.prototype.unstable_scheduleHydration=function(e){if(e){var t=b5();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ji.length&&t!==0&&t<Ji[r].priority;r++);Ji.splice(r,0,e),r===0&&_5(e)}};function O1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ph(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $g(){}function _3(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var d=lh(a);i.call(d)}}var a=$x(t,n,e,0,null,!1,!1,"",$g);return e._reactRootContainer=a,e[wi]=a.current,Ou(e.nodeType===8?e.parentNode:e),to(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=lh(u);l.call(d)}}var u=P1(e,0,!1,null,null,!1,!1,"",$g);return e._reactRootContainer=u,e[wi]=u.current,Ou(e.nodeType===8?e.parentNode:e),to(function(){Eh(t,u,r,n)}),u}function Rh(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=lh(a);l.call(u)}}Eh(t,a,e,s)}else a=_3(r,t,e,s,n);return lh(a)}x5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=cu(t.pendingLanes);r!==0&&(Zp(t,r|1),yn(t,pr()),!(At&6)&&(ml=pr()+500,pa()))}break;case 13:to(function(){var n=_i(e,1);if(n!==null){var s=cn();_s(n,e,1,s)}}),R1(e,1)}};e1=function(e){if(e.tag===13){var t=_i(e,134217728);if(t!==null){var r=cn();_s(t,e,134217728,r)}R1(e,134217728)}};y5=function(e){if(e.tag===13){var t=oa(e),r=_i(e,t);if(r!==null){var n=cn();_s(r,e,t,n)}R1(e,t)}};b5=function(){return It};w5=function(e,t){var r=It;try{return It=e,t()}finally{It=r}};F0=function(e,t,r){switch(t){case"input":if(P0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=_h(n);if(!s)throw Error(Pe(90));Qv(n),P0(n,s)}}}break;case"textarea":e5(e,r);break;case"select":t=r.value,t!=null&&Qo(e,!!r.multiple,t,!1)}};o5=A1;l5=to;var N3={usingClientEntryPoint:!1,Events:[tc,qo,_h,i5,a5,A1]},su={findFiberByHostInstance:Ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j3={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=d5(e),e===null?null:e.stateNode},findFiberByHostInstance:su.findFiberByHostInstance||w3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{xh=id.inject(j3),$s=id}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N3;Bn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O1(t))throw Error(Pe(200));return b3(e,t,null,r)};Bn.createRoot=function(e,t){if(!O1(e))throw Error(Pe(299));var r=!1,n="",s=qx;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=P1(e,1,!1,null,null,r,!1,n,s),e[wi]=t.current,Ou(e.nodeType===8?e.parentNode:e),new T1(t)};Bn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Pe(188)):(e=Object.keys(e).join(","),Error(Pe(268,e)));return e=d5(t),e=e===null?null:e.stateNode,e};Bn.flushSync=function(e){return to(e)};Bn.hydrate=function(e,t,r){if(!Ph(t))throw Error(Pe(200));return Rh(null,e,t,!0,r)};Bn.hydrateRoot=function(e,t,r){if(!O1(e))throw Error(Pe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=qx;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=$x(t,null,e,1,r??null,s,!1,i,a),e[wi]=t.current,Ou(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ch(t)};Bn.render=function(e,t,r){if(!Ph(t))throw Error(Pe(200));return Rh(null,e,t,!1,r)};Bn.unmountComponentAtNode=function(e){if(!Ph(e))throw Error(Pe(40));return e._reactRootContainer?(to(function(){Rh(null,null,e,!1,function(){e._reactRootContainer=null,e[wi]=null})}),!0):!1};Bn.unstable_batchedUpdates=A1;Bn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ph(r))throw Error(Pe(200));if(e==null||e._reactInternals===void 0)throw Error(Pe(38));return Rh(e,t,r,!1,n)};Bn.version="18.3.1-next-f1338f8080-20240426";function Hx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hx)}catch(e){console.error(e)}}Hx(),Hv.exports=Bn;var S3=Hv.exports,qg=S3;j0.createRoot=qg.createRoot,j0.hydrateRoot=qg.hydrateRoot;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hg="popstate";function k3(e={}){function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return vp("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:qu(s)}return L3(t,r,null,e)}function Qt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function A3(){return Math.random().toString(36).substring(2,10)}function Vg(e,t){return{usr:e.state,key:e.key,idx:t}}function vp(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?yl(t):t,state:r,key:t&&t.key||n||A3()}}function qu({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function L3(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l="POP",u=null,d=f();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function f(){return(a.state||{idx:null}).idx}function g(){l="POP";let k=f(),x=k==null?null:k-d;d=k,u&&u({action:l,location:j.location,delta:x})}function v(k,x){l="PUSH";let b=vp(j.location,k,x);d=f()+1;let _=Vg(b,d),S=j.createHref(b);try{a.pushState(_,"",S)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(S)}i&&u&&u({action:l,location:j.location,delta:1})}function p(k,x){l="REPLACE";let b=vp(j.location,k,x);d=f();let _=Vg(b,d),S=j.createHref(b);a.replaceState(_,"",S),i&&u&&u({action:l,location:j.location,delta:0})}function N(k){return E3(k)}let j={get action(){return l},get location(){return e(s,a)},listen(k){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Hg,g),u=k,()=>{s.removeEventListener(Hg,g),u=null}},createHref(k){return t(s,k)},createURL:N,encodeLocation(k){let x=N(k);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:v,replace:p,go(k){return a.go(k)}};return j}function E3(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:qu(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Vx(e,t,r="/"){return C3(e,t,r,!1)}function C3(e,t,r,n){let s=typeof t=="string"?yl(t):t,i=ji(s.pathname||"/",r);if(i==null)return null;let a=Wx(e);P3(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=$3(i);l=U3(a[u],d,n)}return l}function Wx(e,t=[],r=[],n="",s=!1){let i=(a,l,u=s,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&u)return;Qt(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let g=yi([n,f.relativePath]),v=r.concat(f);a.children&&a.children.length>0&&(Qt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Wx(a.children,t,v,g,u)),!(a.path==null&&!a.index)&&t.push({path:g,score:F3(g,a.index),routesMeta:v})};return e.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let d of Gx(a.path))i(a,l,!0,d)}),t}function Gx(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Gx(n.join("/")),l=[];return l.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function P3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:B3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var R3=/^:[\w-]+$/,T3=3,O3=2,I3=1,D3=10,M3=-2,Wg=e=>e==="*";function F3(e,t){let r=e.split("/"),n=r.length;return r.some(Wg)&&(n+=M3),t&&(n+=O3),r.filter(s=>!Wg(s)).reduce((s,i)=>s+(R3.test(i)?T3:i===""?I3:D3),n)}function B3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function U3(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",g=uh({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),v=u.route;if(!g&&d&&r&&!n[n.length-1].route.index&&(g=uh({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:yi([i,g.pathname]),pathnameBase:G3(yi([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=yi([i,g.pathnameBase]))}return a}function uh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=z3(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:g},v)=>{if(f==="*"){let N=l[v]||"";a=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const p=l[v];return g&&!p?d[f]=void 0:d[f]=(p||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:e}}function z3(e,t=!1,r=!0){rs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function $3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ji(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var q3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H3=e=>q3.test(e);function V3(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?yl(e):e,i;if(r)if(H3(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),rs(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=Gg(r.substring(1),"/"):i=Gg(r,t)}else i=t;return{pathname:i,search:K3(n),hash:J3(s)}}function Gg(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Vf(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function I1(e){let t=W3(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function D1(e,t,r,n=!1){let s;typeof e=="string"?s=yl(e):(s={...e},Qt(!s.pathname||!s.pathname.includes("?"),Vf("?","pathname","search",s)),Qt(!s.pathname||!s.pathname.includes("#"),Vf("#","pathname","hash",s)),Qt(!s.search||!s.search.includes("#"),Vf("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let g=t.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}l=g>=0?t[g]:"/"}let u=V3(s,l),d=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var yi=e=>e.join("/").replace(/\/\/+/g,"/"),G3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,J3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Y3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function X3(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kx=["POST","PUT","PATCH","DELETE"];new Set(Kx);var Q3=["GET",...Kx];new Set(Q3);var bl=X.createContext(null);bl.displayName="DataRouter";var Th=X.createContext(null);Th.displayName="DataRouterState";X.createContext(!1);var Jx=X.createContext({isTransitioning:!1});Jx.displayName="ViewTransition";var Z3=X.createContext(new Map);Z3.displayName="Fetchers";var e_=X.createContext(null);e_.displayName="Await";var ss=X.createContext(null);ss.displayName="Navigation";var nc=X.createContext(null);nc.displayName="Location";var Hs=X.createContext({outlet:null,matches:[],isDataRoute:!1});Hs.displayName="Route";var M1=X.createContext(null);M1.displayName="RouteError";function t_(e,{relative:t}={}){Qt(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=X.useContext(ss),{hash:s,pathname:i,search:a}=sc(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:yi([r,i])),n.createHref({pathname:l,search:a,hash:s})}function wl(){return X.useContext(nc)!=null}function ma(){return Qt(wl(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(nc).location}var Yx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xx(e){X.useContext(ss).static||X.useLayoutEffect(e)}function ga(){let{isDataRoute:e}=X.useContext(Hs);return e?p_():r_()}function r_(){Qt(wl(),"useNavigate() may be used only in the context of a <Router> component.");let e=X.useContext(bl),{basename:t,navigator:r}=X.useContext(ss),{matches:n}=X.useContext(Hs),{pathname:s}=ma(),i=JSON.stringify(I1(n)),a=X.useRef(!1);return Xx(()=>{a.current=!0}),X.useCallback((u,d={})=>{if(rs(a.current,Yx),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=D1(u,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:yi([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,s,e])}X.createContext(null);function sc(e,{relative:t}={}){let{matches:r}=X.useContext(Hs),{pathname:n}=ma(),s=JSON.stringify(I1(r));return X.useMemo(()=>D1(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function n_(e,t){return Qx(e,t)}function Qx(e,t,r,n,s){var b;Qt(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=X.useContext(ss),{matches:a}=X.useContext(Hs),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",g=l&&l.route;{let _=g&&g.path||"";Zx(d,!g||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let v=ma(),p;if(t){let _=typeof t=="string"?yl(t):t;Qt(f==="/"||((b=_.pathname)==null?void 0:b.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${_.pathname}" was given in the \`location\` prop.`),p=_}else p=v;let N=p.pathname||"/",j=N;if(f!=="/"){let _=f.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(_.length).join("/")}let k=Vx(e,{pathname:j});rs(g||k!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),rs(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=l_(k&&k.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:yi([f,i.encodeLocation?i.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:yi([f,i.encodeLocation?i.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),a,r,n,s);return t&&x?X.createElement(nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},x):x}function s_(){let e=f_(),t=Y3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:i},"ErrorBoundary")," or"," ",X.createElement("code",{style:i},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},t),r?X.createElement("pre",{style:s},r):null,a)}var i_=X.createElement(s_,null),a_=class extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?X.createElement(Hs.Provider,{value:this.props.routeContext},X.createElement(M1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function o_({routeContext:e,match:t,children:r}){let n=X.useContext(bl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),X.createElement(Hs.Provider,{value:e},r)}function l_(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let f=i.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);Qt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,u=-1;if(r)for(let f=0;f<i.length;f++){let g=i[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=f),g.route.id){let{loaderData:v,errors:p}=r,N=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!p||p[g.route.id]===void 0);if(g.route.lazy||N){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let d=r&&n?(f,g)=>{var v,p;n(f,{location:r.location,params:((p=(v=r.matches)==null?void 0:v[0])==null?void 0:p.params)??{},unstable_pattern:X3(r.matches),errorInfo:g})}:void 0;return i.reduceRight((f,g,v)=>{let p,N=!1,j=null,k=null;r&&(p=a&&g.route.id?a[g.route.id]:void 0,j=g.route.errorElement||i_,l&&(u<0&&v===0?(Zx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,k=null):u===v&&(N=!0,k=g.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,v+1)),b=()=>{let _;return p?_=j:N?_=k:g.route.Component?_=X.createElement(g.route.Component,null):g.route.element?_=g.route.element:_=f,X.createElement(o_,{match:g,routeContext:{outlet:f,matches:x,isDataRoute:r!=null},children:_})};return r&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?X.createElement(a_,{location:r.location,revalidation:r.revalidation,component:j,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:d}):b()},null)}function F1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u_(e){let t=X.useContext(bl);return Qt(t,F1(e)),t}function c_(e){let t=X.useContext(Th);return Qt(t,F1(e)),t}function d_(e){let t=X.useContext(Hs);return Qt(t,F1(e)),t}function B1(e){let t=d_(e),r=t.matches[t.matches.length-1];return Qt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function h_(){return B1("useRouteId")}function f_(){var n;let e=X.useContext(M1),t=c_("useRouteError"),r=B1("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function p_(){let{router:e}=u_("useNavigate"),t=B1("useNavigate"),r=X.useRef(!1);return Xx(()=>{r.current=!0}),X.useCallback(async(s,i={})=>{rs(r.current,Yx),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Kg={};function Zx(e,t,r){!t&&!Kg[e]&&(Kg[e]=!0,rs(!1,r))}X.memo(m_);function m_({routes:e,future:t,state:r,unstable_onError:n}){return Qx(e,void 0,r,n,t)}function Jg({to:e,replace:t,state:r,relative:n}){Qt(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=X.useContext(ss);rs(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=X.useContext(Hs),{pathname:a}=ma(),l=ga(),u=D1(e,I1(i),a,n==="path"),d=JSON.stringify(u);return X.useEffect(()=>{l(JSON.parse(d),{replace:t,state:r,relative:n})},[l,d,n,t,r]),null}function Cn(e){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g_({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1,unstable_useTransitions:a}){Qt(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=X.useMemo(()=>({basename:l,navigator:s,static:i,unstable_useTransitions:a,future:{}}),[l,s,i,a]);typeof r=="string"&&(r=yl(r));let{pathname:d="/",search:f="",hash:g="",state:v=null,key:p="default"}=r,N=X.useMemo(()=>{let j=ji(d,l);return j==null?null:{location:{pathname:j,search:f,hash:g,state:v,key:p},navigationType:n}},[l,d,f,g,v,p,n]);return rs(N!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:X.createElement(ss.Provider,{value:u},X.createElement(nc.Provider,{children:t,value:N}))}function v_({children:e,location:t}){return n_(xp(e),t)}function xp(e,t=[]){let r=[];return X.Children.forEach(e,(n,s)=>{if(!X.isValidElement(n))return;let i=[...t,s];if(n.type===X.Fragment){r.push.apply(r,xp(n.props.children,i));return}Qt(n.type===Cn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=xp(n.props.children,i)),r.push(a)}),r}var Pd="get",Rd="application/x-www-form-urlencoded";function Oh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function x_(e){return Oh(e)&&e.tagName.toLowerCase()==="button"}function y_(e){return Oh(e)&&e.tagName.toLowerCase()==="form"}function b_(e){return Oh(e)&&e.tagName.toLowerCase()==="input"}function w_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function __(e,t){return e.button===0&&(!t||t==="_self")&&!w_(e)}var ad=null;function N_(){if(ad===null)try{new FormData(document.createElement("form"),0),ad=!1}catch{ad=!0}return ad}var j_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wf(e){return e!=null&&!j_.has(e)?(rs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rd}"`),null):e}function S_(e,t){let r,n,s,i,a;if(y_(e)){let l=e.getAttribute("action");n=l?ji(l,t):null,r=e.getAttribute("method")||Pd,s=Wf(e.getAttribute("enctype"))||Rd,i=new FormData(e)}else if(x_(e)||b_(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(n=u?ji(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Pd,s=Wf(e.getAttribute("formenctype"))||Wf(l.getAttribute("enctype"))||Rd,i=new FormData(l,e),!N_()){let{name:d,type:f,value:g}=e;if(f==="image"){let v=d?`${d}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else d&&i.append(d,g)}}else{if(Oh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Pd,n=null,s=Rd,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function U1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function k_(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&ji(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function A_(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function E_(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await A_(i,r);return a.links?a.links():[]}return[]}));return T_(n.flat(1).filter(L_).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Yg(e,t,r,n,s,i){let a=(u,d)=>r[d]?u.route.id!==r[d].route.id:!0,l=(u,d)=>{var f;return r[d].pathname!==u.pathname||((f=r[d].route.path)==null?void 0:f.endsWith("*"))&&r[d].params["*"]!==u.params["*"]};return i==="assets"?t.filter((u,d)=>a(u,d)||l(u,d)):i==="data"?t.filter((u,d)=>{var g;let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function C_(e,t,{includeHydrateFallback:r}={}){return P_(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function P_(e){return[...new Set(e)]}function R_(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function T_(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(R_(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function ey(){let e=X.useContext(bl);return U1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function O_(){let e=X.useContext(Th);return U1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var z1=X.createContext(void 0);z1.displayName="FrameworkContext";function ty(){let e=X.useContext(z1);return U1(e,"You must render this element inside a <HydratedRouter> element"),e}function I_(e,t){let r=X.useContext(z1),[n,s]=X.useState(!1),[i,a]=X.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:g}=t,v=X.useRef(null);X.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let j=x=>{x.forEach(b=>{a(b.isIntersecting)})},k=new IntersectionObserver(j,{threshold:.5});return v.current&&k.observe(v.current),()=>{k.disconnect()}}},[e]),X.useEffect(()=>{if(n){let j=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(j)}}},[n]);let p=()=>{s(!0)},N=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,v,{}]:[i,v,{onFocus:iu(l,p),onBlur:iu(u,N),onMouseEnter:iu(d,p),onMouseLeave:iu(f,N),onTouchStart:iu(g,p)}]:[!1,v,{}]}function iu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function D_({page:e,...t}){let{router:r}=ey(),n=X.useMemo(()=>Vx(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?X.createElement(F_,{page:e,matches:n,...t}):null}function M_(e){let{manifest:t,routeModules:r}=ty(),[n,s]=X.useState([]);return X.useEffect(()=>{let i=!1;return E_(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function F_({page:e,matches:t,...r}){let n=ma(),{manifest:s,routeModules:i}=ty(),{basename:a}=ey(),{loaderData:l,matches:u}=O_(),d=X.useMemo(()=>Yg(e,t,u,s,n,"data"),[e,t,u,s,n]),f=X.useMemo(()=>Yg(e,t,u,s,n,"assets"),[e,t,u,s,n]),g=X.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let N=new Set,j=!1;if(t.forEach(x=>{var _;let b=s.routes[x.route.id];!b||!b.hasLoader||(!d.some(S=>S.route.id===x.route.id)&&x.route.id in l&&((_=i[x.route.id])!=null&&_.shouldRevalidate)||b.hasClientLoader?j=!0:N.add(x.route.id))}),N.size===0)return[];let k=k_(e,a,"data");return j&&N.size>0&&k.searchParams.set("_routes",t.filter(x=>N.has(x.route.id)).map(x=>x.route.id).join(",")),[k.pathname+k.search]},[a,l,n,s,d,t,e,i]),v=X.useMemo(()=>C_(f,s),[f,s]),p=M_(f);return X.createElement(X.Fragment,null,g.map(N=>X.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...r})),v.map(N=>X.createElement("link",{key:N,rel:"modulepreload",href:N,...r})),p.map(({key:N,link:j})=>X.createElement("link",{key:N,nonce:r.nonce,...j})))}function B_(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var ry=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ry&&(window.__reactRouterVersion="7.10.1")}catch{}function U_({basename:e,children:t,unstable_useTransitions:r,window:n}){let s=X.useRef();s.current==null&&(s.current=k3({window:n,v5Compat:!0}));let i=s.current,[a,l]=X.useState({action:i.action,location:i.location}),u=X.useCallback(d=>{r===!1?l(d):X.startTransition(()=>l(d))},[r]);return X.useLayoutEffect(()=>i.listen(u),[i,u]),X.createElement(g_,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i,unstable_useTransitions:r===!0})}var ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ir=X.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:l,target:u,to:d,preventScrollReset:f,viewTransition:g,...v},p){let{basename:N,unstable_useTransitions:j}=X.useContext(ss),k=typeof d=="string"&&ny.test(d),x,b=!1;if(typeof d=="string"&&k&&(x=d,ry))try{let H=new URL(window.location.href),P=d.startsWith("//")?new URL(H.protocol+d):new URL(d),F=ji(P.pathname,N);P.origin===H.origin&&F!=null?d=F+P.search+P.hash:b=!0}catch{rs(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=t_(d,{relative:s}),[S,I,W]=I_(n,v),G=H_(d,{replace:a,state:l,target:u,preventScrollReset:f,relative:s,viewTransition:g,unstable_useTransitions:j});function q(H){t&&t(H),H.defaultPrevented||G(H)}let T=X.createElement("a",{...v,...W,href:x||_,onClick:b||i?t:q,ref:B_(p,I),target:u,"data-discover":!k&&r==="render"?"true":void 0});return S&&!k?X.createElement(X.Fragment,null,T,X.createElement(D_,{page:_})):T});Ir.displayName="Link";var z_=X.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:l,children:u,...d},f){let g=sc(a,{relative:d.relative}),v=ma(),p=X.useContext(Th),{navigator:N,basename:j}=X.useContext(ss),k=p!=null&&J_(g)&&l===!0,x=N.encodeLocation?N.encodeLocation(g).pathname:g.pathname,b=v.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(b=b.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&j&&(_=ji(_,j)||_);const S=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let I=b===x||!s&&b.startsWith(x)&&b.charAt(S)==="/",W=_!=null&&(_===x||!s&&_.startsWith(x)&&_.charAt(x.length)==="/"),G={isActive:I,isPending:W,isTransitioning:k},q=I?t:void 0,T;typeof n=="function"?T=n(G):T=[n,I?"active":null,W?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let H=typeof i=="function"?i(G):i;return X.createElement(Ir,{...d,"aria-current":q,className:T,ref:f,style:H,to:a,viewTransition:l},typeof u=="function"?u(G):u)});z_.displayName="NavLink";var $_=X.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=Pd,action:l,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:g,...v},p)=>{let{unstable_useTransitions:N}=X.useContext(ss),j=G_(),k=K_(l,{relative:d}),x=a.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&ny.test(l),_=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let I=S.nativeEvent.submitter,W=(I==null?void 0:I.getAttribute("formmethod"))||a,G=()=>j(I||S.currentTarget,{fetcherKey:t,method:W,navigate:r,replace:s,state:i,relative:d,preventScrollReset:f,viewTransition:g});N&&r!==!1?X.startTransition(()=>G()):G()};return X.createElement("form",{ref:p,method:x,action:k,onSubmit:n?u:_,...v,"data-discover":!b&&e==="render"?"true":void 0})});$_.displayName="Form";function q_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sy(e){let t=X.useContext(bl);return Qt(t,q_(e)),t}function H_(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a,unstable_useTransitions:l}={}){let u=ga(),d=ma(),f=sc(e,{relative:i});return X.useCallback(g=>{if(__(g,t)){g.preventDefault();let v=r!==void 0?r:qu(d)===qu(f),p=()=>u(e,{replace:v,state:n,preventScrollReset:s,relative:i,viewTransition:a});l?X.startTransition(()=>p()):p()}},[d,u,f,r,n,t,e,s,i,a,l])}var V_=0,W_=()=>`__${String(++V_)}__`;function G_(){let{router:e}=sy("useSubmit"),{basename:t}=X.useContext(ss),r=h_(),n=e.fetch,s=e.navigate;return X.useCallback(async(i,a={})=>{let{action:l,method:u,encType:d,formData:f,body:g}=S_(i,t);if(a.navigate===!1){let v=a.fetcherKey||W_();await n(v,r,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||u,formEncType:a.encType||d,flushSync:a.flushSync})}else await s(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||u,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,s,t,r])}function K_(e,{relative:t}={}){let{basename:r}=X.useContext(ss),n=X.useContext(Hs);Qt(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...sc(e||".",{relative:t})},a=ma();if(e==null){i.search=a.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(g=>g).forEach(g=>l.append("index",g));let f=l.toString();i.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:yi([r,i.pathname])),qu(i)}function J_(e,{relative:t}={}){let r=X.useContext(Jx);Qt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=sy("useViewTransitionState"),s=sc(e,{relative:t});if(!r.isTransitioning)return!1;let i=ji(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=ji(r.nextLocation.pathname,n)||r.nextLocation.pathname;return uh(s.pathname,a)!=null||uh(s.pathname,i)!=null}const Y_=()=>{var g;const[e,t]=X.useState(null),[r,n]=X.useState(!1),[s,i]=X.useState(!1),a=ga();X.useEffect(()=>{const v=localStorage.getItem("user");v&&t(JSON.parse(v));const p=()=>{n(window.scrollY>10)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]);const l=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t(null),i(!1);const v=document.createElement("div");v.className="fixed top-20 right-4 bg-gradient-to-r from-red-500 to-rose-500 text-white px-6 py-3 rounded-lg shadow-2xl z-50 animate-slide-in border border-white/10",v.textContent=" Logged out successfully",document.body.appendChild(v),setTimeout(()=>v.remove(),3e3),a("/")},u={admin:"from-blue-400 to-blue-500",doctor:"from-emerald-400 to-teal-500",patient:"from-purple-400 to-pink-500",lab:"from-amber-400 to-orange-500",pharmacy:"from-cyan-400 to-sky-500"},d={admin:"Admin",doctor:"Doctor",patient:"Patient",lab:"Lab",pharmacy:"Pharmacy"},f={admin:o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})}),doctor:o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})}),patient:o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})}),lab:o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4-3h2v13h-2z"})}),pharmacy:o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V8a2 2 0 00-2-2h-5L9 4H4zm7 5a1 1 0 10-2 0v1H8a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V9z",clipRule:"evenodd"})})};return o.jsxs(o.Fragment,{children:[o.jsx("nav",{className:`fixed w-full top-0 z-50 transition-all duration-300 ${r?"bg-white/95 backdrop-blur-md border-b border-gray-200 shadow-xl shadow-gray-200/50":"bg-white/80 backdrop-blur-sm border-b border-gray-100"}`,children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs(Ir,{to:"/",className:"flex items-center space-x-3 group",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-xl blur-md opacity-30 group-hover:opacity-50 transition-opacity animate-pulse-slow"}),o.jsx("div",{className:"relative w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center transform group-hover:scale-105 transition-all duration-300 shadow-xl shadow-blue-500/20",children:o.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"})})}),o.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-br from-amber-400 to-amber-500 rounded-full flex items-center justify-center shadow-lg shadow-amber-500/30 animate-bounce-slow border border-amber-300/50",children:o.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-bold text-xl text-gray-800 group-hover:text-blue-600 transition-colors",children:"SMART APPOINTMENT MANAGMENT"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Healthcare Management"})]})]}),e?o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>i(!s),className:"flex items-center space-x-3 bg-gray-50 hover:bg-gray-100 rounded-lg px-3 py-2 transition-all duration-300 border border-gray-200 hover:border-gray-300 group",children:[o.jsx("div",{className:`w-8 h-8 rounded-lg bg-gradient-to-r ${u[e.role]||"from-gray-400 to-gray-500"} flex items-center justify-center text-white shadow-md`,children:f[e.role]||o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),o.jsxs("div",{className:"hidden md:block text-left",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900 transition-colors",children:e.name||((g=e.email)==null?void 0:g.split("@")[0])}),o.jsxs("p",{className:"text-xs text-gray-500 capitalize flex items-center gap-1",children:[o.jsx("span",{className:`w-1.5 h-1.5 rounded-full bg-gradient-to-r ${u[e.role]}`}),d[e.role]||e.role]})]}),o.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-all duration-300 ${s?"rotate-180 text-blue-500":"group-hover:text-gray-500"}`,fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-xl shadow-gray-200/50 border border-gray-200 py-1 z-50 animate-fade-in overflow-hidden",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Signed in as"}),o.jsx("p",{className:"text-sm font-medium text-gray-700 truncate",children:e.email})]}),o.jsxs(Ir,{to:`/${e.role}`,className:"flex items-center gap-2 px-4 py-2.5 text-sm text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-all duration-200",onClick:()=>i(!1),children:[o.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Dashboard"]}),o.jsxs(Ir,{to:`/${e.role}/profile`,className:"flex items-center gap-2 px-4 py-2.5 text-sm text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-all duration-200",onClick:()=>i(!1),children:[o.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),"Profile Settings"]}),o.jsxs("button",{onClick:l,className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 hover:text-red-700 transition-all duration-200 border-t border-gray-100",children:[o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1H3zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),"Sign Out"]})]})]})]}),o.jsx("button",{onClick:l,className:"md:hidden p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-300",title:"Logout",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1H3zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})})})]}):o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ir,{to:"/register",className:"hidden md:inline-flex px-4 py-2 text-gray-500 hover:text-gray-700 font-medium transition-colors relative group",children:o.jsxs("span",{className:"relative",children:["Register",o.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-blue-500 to-indigo-500 group-hover:w-full transition-all duration-300"})]})}),o.jsxs(Ir,{to:"/login",className:"relative px-5 py-2 bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white font-medium rounded-lg transition-all duration-300 shadow-lg shadow-blue-500/20 flex items-center space-x-2 group overflow-hidden",children:[o.jsx("span",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),o.jsx("svg",{className:"w-4 h-4 relative",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z",clipRule:"evenodd"})}),o.jsx("span",{className:"relative",children:"Sign In"})]})]})]})})}),o.jsx("div",{className:"h-16"}),o.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes slide-in {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.4; transform: scale(1); }
          50% { opacity: 0.6; transform: scale(1.1); }
        }
        
        @keyframes bounce-slow {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-3px); }
        }
        
        .animate-fade-in {
          animation: fade-in 0.2s ease-out;
        }
        
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
        
        .animate-pulse-slow {
          animation: pulse-slow 3s ease-in-out infinite;
        }
        
        .animate-bounce-slow {
          animation: bounce-slow 2s ease-in-out infinite;
        }
      `})]})};function Ih(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function X_(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(f){try{d(n.next(f))}catch(g){a(g)}}function u(f){try{d(n.throw(f))}catch(g){a(g)}}function d(f){f.done?i(f.value):s(f.value).then(l,u)}d((n=n.apply(e,t||[])).next())})}const Q_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class $1 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Z_ extends $1{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Xg extends $1{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Qg extends $1{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yp||(yp={}));class e6{constructor(t,{headers:r={},customFetch:n,region:s=yp.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Q_(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return X_(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:u,body:d,signal:f,timeout:g}=n;let v={},{region:p}=n;p||(p=this.region);const N=new URL(`${this.url}/${r}`);p&&p!=="any"&&(v["x-region"]=p,N.searchParams.set("forceFunctionRegion",p));let j;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",j=d):typeof d=="string"?(v["Content-Type"]="text/plain",j=d):typeof FormData<"u"&&d instanceof FormData?j=d:(v["Content-Type"]="application/json",j=JSON.stringify(d)):j=d;let k=f;g&&(a=new AbortController,i=setTimeout(()=>a.abort(),g),f?(k=a.signal,f.addEventListener("abort",()=>a.abort())):k=a.signal);const x=yield this.fetch(N.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),l),body:j,signal:k}).catch(I=>{throw new Z_(I)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new Xg(x);if(!x.ok)throw new Qg(x);let _=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return _==="application/json"?S=yield x.json():_==="application/octet-stream"||_==="application/pdf"?S=yield x.blob():_==="text/event-stream"?S=x:_==="multipart/form-data"?S=yield x.formData():S=yield x.text(),{data:S,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof Qg||l instanceof Xg?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var t6=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},r6=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,u=null,d=i.status,f=i.statusText;if(i.ok){var g,v;if(r.method!=="HEAD"){var p;const x=await i.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=x:l=JSON.parse(x))}const j=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),k=(v=i.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");j&&k&&k.length>1&&(u=parseInt(k[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,u=null,d=406,f="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var N;const j=await i.text();try{a=JSON.parse(j),Array.isArray(a)&&i.status===404&&(l=[],a=null,d=200,f="OK")}catch{i.status===404&&j===""?(d=204,f="No Content"):a={message:j}}if(a&&r.isMaybeSingle&&(!(a==null||(N=a.details)===null||N===void 0)&&N.includes("0 rows"))&&(a=null,d=200,f="OK"),a&&r.shouldThrowOnError)throw new t6(a)}return{error:a,data:l,count:u,status:d,statusText:f}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="";const u=i==null?void 0:i.cause;if(u){var d,f,g,v;const N=(d=u==null?void 0:u.message)!==null&&d!==void 0?d:"",j=(f=u==null?void 0:u.code)!==null&&f!==void 0?f:"";l=`${(g=i==null?void 0:i.name)!==null&&g!==void 0?g:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(v=u==null?void 0:u.name)!==null&&v!==void 0?v:"Error"}: ${N}`,j&&(l+=` (${j})`),u!=null&&u.stack&&(l+=`
${u.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},n6=class extends r6{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Zg=new RegExp("[,()]");var To=class extends n6{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Zg.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Zg.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},s6=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new To({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new To({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new To({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new To({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new To({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},i6=class iy{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new s6(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new iy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const u=new URL(`${this.url}/rpc/${t}`);let d;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{u.searchParams.append(g,v)})):(l="POST",d=r);const f=new Headers(this.headers);return i&&f.set("Prefer",`count=${i}`),new To({method:l,url:u,headers:f,schema:this.schemaName,body:d,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class a6{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const o6="2.88.0",l6=`realtime-js/${o6}`,ay="1.0.0",u6="2.0.0",e2=ay,bp=1e4,c6=1e3,d6=100;var Ki;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ki||(Ki={}));var Er;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Er||(Er={}));var ys;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ys||(ys={}));var wp;(function(e){e.websocket="websocket"})(wp||(wp={}));var za;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(za||(za={}));class h6{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",u=(i=t.join_ref)!==null&&i!==void 0?i:"",d=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(f).length===0?"":JSON.stringify(f);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+a.length+d.length+g.length,p=new ArrayBuffer(this.HEADER_LENGTH+v);let N=new DataView(p),j=0;N.setUint8(j++,this.KINDS.userBroadcastPush),N.setUint8(j++,u.length),N.setUint8(j++,l.length),N.setUint8(j++,a.length),N.setUint8(j++,d.length),N.setUint8(j++,g.length),N.setUint8(j++,r),Array.from(u,x=>N.setUint8(j++,x.charCodeAt(0))),Array.from(l,x=>N.setUint8(j++,x.charCodeAt(0))),Array.from(a,x=>N.setUint8(j++,x.charCodeAt(0))),Array.from(d,x=>N.setUint8(j++,x.charCodeAt(0))),Array.from(g,x=>N.setUint8(j++,x.charCodeAt(0)));var k=new Uint8Array(p.byteLength+n.byteLength);return k.set(new Uint8Array(p),0),k.set(new Uint8Array(n),p.byteLength),k.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,u]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:u})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let u=this.HEADER_LENGTH+4;const d=n.decode(t.slice(u,u+s));u=u+s;const f=n.decode(t.slice(u,u+i));u=u+i;const g=n.decode(t.slice(u,u+a));u=u+a;const v=t.slice(u,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,N={type:this.BROADCAST_EVENT,event:f,payload:p};return a>0&&(N.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class oy{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $t;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})($t||($t={}));const t2=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=f6(a,e,t,s),i),{}):{}},f6=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?ly(i,a):_p(a)},ly=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return v6(t,r)}switch(e){case $t.bool:return p6(t);case $t.float4:case $t.float8:case $t.int2:case $t.int4:case $t.int8:case $t.numeric:case $t.oid:return m6(t);case $t.json:case $t.jsonb:return g6(t);case $t.timestamp:return x6(t);case $t.abstime:case $t.date:case $t.daterange:case $t.int4range:case $t.int8range:case $t.money:case $t.reltime:case $t.text:case $t.time:case $t.timestamptz:case $t.timetz:case $t.tsrange:case $t.tstzrange:return _p(t);default:return _p(t)}},_p=e=>e,p6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},m6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},g6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},v6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>ly(t,l))}return e},x6=e=>typeof e=="string"?e.replace(" ","T"):e,uy=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Gf{constructor(t,r,n={},s=bp){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var r2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(r2||(r2={}));class _u{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_u.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=_u.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_u.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},u={};return this.map(i,(d,f)=>{a[d]||(u[d]=f)}),this.map(a,(d,f)=>{const g=i[d];if(g){const v=f.map(k=>k.presence_ref),p=g.map(k=>k.presence_ref),N=f.filter(k=>p.indexOf(k.presence_ref)<0),j=g.filter(k=>v.indexOf(k.presence_ref)<0);N.length>0&&(l[d]=N),j.length>0&&(u[d]=j)}else l[d]=f}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var d;const f=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),f.length>0){const g=t[l].map(p=>p.presence_ref),v=f.filter(p=>g.indexOf(p.presence_ref)<0);t[l].unshift(...v)}n(l,f,u)}),this.map(a,(l,u)=>{let d=t[l];if(!d)return;const f=u.map(g=>g.presence_ref);d=d.filter(g=>f.indexOf(g.presence_ref)<0),t[l]=d,s(l,d,u),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var n2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(n2||(n2={}));var Nu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Nu||(Nu={}));var fi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fi||(fi={}));class Yo{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Er.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Gf(this,ys.join,this.params,this.timeout),this.rejoinTimer=new oy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Er.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Er.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ys.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new _u(this),this.broadcastEndpointURL=uy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Er.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,d=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[Nu.PRESENCE]&&this.bindings[Nu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},v={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(fi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(fi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(fi.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,k=(N=j==null?void 0:j.length)!==null&&N!==void 0?N:0,x=[];for(let b=0;b<k;b++){const _=j[b],{filter:{event:S,schema:I,table:W,filter:G}}=_,q=p&&p[b];if(q&&q.event===S&&Yo.isFilterValueEqual(q.schema,I)&&Yo.isFilterValueEqual(q.table,W)&&Yo.isFilterValueEqual(q.filter,G))x.push(Object.assign(Object.assign({},_),{id:q.id}));else{this.unsubscribe(),this.state=Er.errored,t==null||t(fi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(fi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Er.errored,t==null||t(fi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Er.joined&&t===Nu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,u;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Er.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ys.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Gf(this,ys.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Er.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Gf(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>d6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:f}=ys;if(n&&[l,u,d,f].indexOf(a)>=0&&n!==this._joinRef())return;let v=this._onMessage(a,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var N,j,k;return((N=p.filter)===null||N===void 0?void 0:N.event)==="*"||((k=(j=p.filter)===null||j===void 0?void 0:j.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(p=>p.callback(v,n)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var N,j,k,x,b,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const S=p.id,I=(N=p.filter)===null||N===void 0?void 0:N.event;return S&&((j=r.ids)===null||j===void 0?void 0:j.includes(S))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const S=(b=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((_=r==null?void 0:r.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof v=="object"&&"ids"in v){const N=v.data,{schema:j,table:k,commit_timestamp:x,type:b,errors:_}=N;v=Object.assign(Object.assign({},{schema:j,table:k,commit_timestamp:x,eventType:b,new:{},old:{},errors:_}),this._getPayloadRecords(N))}p.callback(v,n)})}_isClosed(){return this.state===Er.closed}_isJoined(){return this.state===Er.joined}_isJoining(){return this.state===Er.joining}_isLeaving(){return this.state===Er.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Yo.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ys.close,{},t)}_onError(t){this._on(ys.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Er.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=t2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=t2(t.columns,t.old_record)),r}}const Kf=()=>{},od={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},y6=[1e3,2e3,5e3,1e4],b6=1e4,w6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _6{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bp,this.transport=null,this.heartbeatIntervalMs=od.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kf,this.ref=0,this.reconnectTimer=null,this.vsn=e2,this.logger=Kf,this.conn=null,this.sendBuffer=[],this.serializer=new h6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${wp.websocket}`,this.httpEndpoint=uy(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=a6.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ki.connecting:return za.Connecting;case Ki.open:return za.Open;case Ki.closing:return za.Closing;default:return za.Closed}}isConnected(){return this.connectionState()===za.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Yo(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(c6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},od.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ki.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ki.open||this.conn.readyState===Ki.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ys.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([w6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:l6};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ys.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new oy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},od.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,u,d,f,g,v,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:bp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:od.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Kf,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:e2,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:N=>y6[N-1]||b6,this.vsn){case ay:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:(N,j)=>j(JSON.stringify(N)),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:(N,j)=>j(JSON.parse(N));break;case u6:this.encode=(v=t==null?void 0:t.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Hu=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function N6(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function j6(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function S6(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const l=N6(e.baseUrl,n,s),u=await j6(e.auth),d=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...u,...a},body:i?JSON.stringify(i):void 0}),f=await d.text(),g=(d.headers.get("content-type")||"").includes("application/json"),v=g&&f?JSON.parse(f):f;if(!d.ok){const p=g?v:void 0,N=p==null?void 0:p.error;throw new Hu((N==null?void 0:N.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:N==null?void 0:N.type,icebergCode:N==null?void 0:N.code,details:p})}return{status:d.status,headers:d.headers,data:v}}}}function ld(e){return e.join("")}var k6=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ld(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ld(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ld(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ld(e.namespace)}`}),!0}catch(t){if(t instanceof Hu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Hu&&r.status===409)return;throw r}}};function jo(e){return e.join("")}var A6=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Hu&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Hu&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},L6=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=S6({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new k6(this.client,t),this.tableOps=new A6(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Dh=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function er(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var E6=class extends Dh{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Np=class extends Dh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const q1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),C6=()=>Response,jp=e=>{if(Array.isArray(e))return e.map(r=>jp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=jp(n)}),t},P6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},R6=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function T6(e,t){if(Vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O6(e){var t=T6(e,"string");return Vu(t)=="symbol"?t:t+""}function I6(e,t,r){return(t=O6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){I6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Jf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},D6=async(e,t,r)=>{e instanceof await C6()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new E6(Jf(n),s,i))}).catch(n=>{t(new Np(Jf(n),n))}):t(new Np(Jf(e),e))},M6=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(P6(n)?(s.headers=at({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),at(at({},s),r))};async function ic(e,t,r,n,s,i){return new Promise((a,l)=>{e(r,M6(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>a(u)).catch(u=>D6(u,l,n))})}async function Wu(e,t,r,n){return ic(e,"GET",t,r,n)}async function vs(e,t,r,n,s){return ic(e,"POST",t,n,s,r)}async function Sp(e,t,r,n,s){return ic(e,"PUT",t,n,s,r)}async function F6(e,t,r,n){return ic(e,"HEAD",t,at(at({},r),{},{noResolveJson:!0}),n)}async function H1(e,t,r,n,s){return ic(e,"DELETE",t,n,s,r)}var B6=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(er(t))return{data:null,error:t};throw t}}};let cy;cy=Symbol.toStringTag;var U6=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[cy]="BlobDownloadBuilder",this.promise=null}asStream(){return new B6(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(er(t))return{data:null,error:t};throw t}}};const z6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},i2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var $6=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=q1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const a=at(at({},i2),n);let l=at(at({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",s.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),u&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(l=at(at({},l),n.headers));const d=s._removeEmptyFolders(t),f=s._getFinalPath(d),g=await(e=="PUT"?Sp:vs)(s.fetch,`${s.url}/object/${f}`,i,at({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(er(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let u;const d=at({upsert:i2.upsert},n),f=at(at({},s.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",d.cacheControl)):(u=r,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType),{data:{path:i,fullPath:(await Sp(s.fetch,l.toString(),u,{headers:f})).Key},error:null}}catch(u){if(s.shouldThrowOnError)throw u;if(er(u))return{data:null,error:u};throw u}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=at({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await vs(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),l=a.searchParams.get("token");if(!l)throw new Dh("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await vs(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(er(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await vs(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(er(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await vs(n.fetch,`${n.url}/object/sign/${s}`,at({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(er(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await vs(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>at(at({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(er(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),a=()=>Wu(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new U6(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:jp(await Wu(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await F6(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(er(n)&&n instanceof Np){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await H1(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=at(at(at({},z6),t),{},{prefix:e||""});return{data:await vs(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(er(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=at({},e);return{data:await vs(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const dy="2.88.0",hy={"X-Client-Info":`storage-js/${dy}`};var q6=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=at(at({},hy),t),this.fetch=q1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Wu(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Wu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await vs(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Sp(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(er(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await vs(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await H1(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},H6=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=at(at({},hy),t),this.fetch=q1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await vs(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Wu(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await H1(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(er(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!R6(e))throw new Dh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new L6({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}}}})}};const V1={"X-Client-Info":`storage-js/${dy}`,"Content-Type":"application/json"};var fy=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Tn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Yf=class extends fy{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},V6=class extends fy{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const W1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),W6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},a2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),G6=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new Yf(a2(i),n,a))}).catch(()=>{const i=n+"";t(new Yf(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new Yf(s.statusText||`HTTP ${n} error`,n,i))}}else t(new V6(a2(e),e))},K6=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(W6(n)?(s.headers=at({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,at(at({},s),r)):s};async function J6(e,t,r,n,s,i){return new Promise((a,l)=>{e(r,K6(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>a(u)).catch(u=>G6(u,l,n))})}async function On(e,t,r,n,s){return J6(e,"POST",t,n,s,r)}var Y6=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=at(at({},V1),t),this.fetch=W1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await On(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await On(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await On(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await On(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}}},X6=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=at(at({},V1),t),this.fetch=W1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await On(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await On(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await On(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await On(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await On(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}}},Q6=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=at(at({},V1),t),this.fetch=W1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await On(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await On(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await On(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await On(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}}},Z6=class extends Q6{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new eN(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},eN=class extends Y6{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new tN(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},tN=class extends X6{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,at(at({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},rN=class extends q6{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new $6(this.url,this.headers,e,this.fetch)}get vectors(){return new Z6(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new H6(this.url+"/iceberg",this.headers,this.fetch)}};const py="2.88.0",Oo=30*1e3,kp=3,Xf=kp*Oo,nN="http://localhost:9999",sN="supabase.auth.token",iN={"X-Client-Info":`gotrue-js/${py}`},Ap="X-Supabase-Api-Version",my={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oN=10*60*1e3;class Gu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lN extends Gu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function uN(e){return Ye(e)&&e.name==="AuthApiError"}class $a extends Gu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ki extends Gu{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Pn extends ki{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cN(e){return Ye(e)&&e.name==="AuthSessionMissingError"}class So extends ki{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ud extends ki{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cd extends ki{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dN(e){return Ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class o2 extends ki{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hN extends ki{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Lp extends ki{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Qf(e){return Ye(e)&&e.name==="AuthRetryableFetchError"}class l2 extends ki{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ep extends ki{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),u2=` 	
\r=`.split(""),fN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<u2.length;t+=1)e[u2[t].charCodeAt(0)]=-2;for(let t=0;t<ch.length;t+=1)e[ch[t].charCodeAt(0)]=t;return e})();function c2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ch[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ch[n]),t.queuedBits-=6}}function gy(e,t,r){const n=fN[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function d2(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{gN(a,n,r)};for(let a=0;a<e.length;a+=1)gy(e.charCodeAt(a),s,i);return t.join("")}function pN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mN(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}pN(n,t)}}function gN(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function sl(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)gy(e.charCodeAt(s),r,n);return new Uint8Array(t)}function vN(e){const t=[];return mN(e,r=>t.push(r)),new Uint8Array(t)}function Ga(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>c2(s,r,n)),c2(null,r,n),t.join("")}function xN(e){return Math.round(Date.now()/1e3)+e}function yN(){return Symbol("auth-callback")}const Hr=()=>typeof window<"u"&&typeof document<"u",Ia={tested:!1,writable:!1},vy=()=>{if(!Hr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ia.tested)return Ia.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ia.tested=!0,Ia.writable=!0}catch{Ia.tested=!0,Ia.writable=!1}return Ia.writable};function bN(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const xy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Io=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Da=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qr=async(e,t)=>{await e.removeItem(t)};class Mh{constructor(){this.promise=new Mh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Mh.promiseConstructor=Promise;function Zf(e){const t=e.split(".");if(t.length!==3)throw new Ep("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!aN.test(t[n]))throw new Ep("JWT not in base64url format");return{header:JSON.parse(d2(t[0])),payload:JSON.parse(d2(t[1])),signature:sl(t[2]),raw:{header:t[0],payload:t[1]}}}async function _N(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function NN(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function jN(e){return("0"+e.toString(16)).substr(-2)}function SN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,jN).join("")}async function kN(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function AN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await kN(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ko(e,t,r=!1){const n=SN();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Io(e,`${t}-code-verifier`,s);const i=await AN(n);return[i,n===i?"plain":"s256"]}const LN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function EN(e){const t=e.headers.get(Ap);if(!t||!t.match(LN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function CN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function PN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const RN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ao(e){if(!RN.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function e0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function TN(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function h2(e){return JSON.parse(JSON.stringify(e))}const Ba=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ON=[502,503,504];async function f2(e){var t;if(!wN(e))throw new Lp(Ba(e),0);if(ON.includes(e.status))throw new Lp(Ba(e),e.status);let r;try{r=await e.json()}catch(i){throw new $a(Ba(i),i)}let n;const s=EN(e);if(s&&s.getTime()>=my["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new l2(Ba(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Pn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new l2(Ba(r),e.status,r.weak_password.reasons);throw new lN(Ba(r),e.status||500,n)}const IN=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function it(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ap]||(i[Ap]=my["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await DN(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function DN(e,t,r,n,s,i){const a=IN(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new Lp(Ba(u),0)}if(l.ok||await f2(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await f2(u)}}function ms(e){var t;let r=null;BN(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=xN(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function p2(e){const t=ms(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function MN(e){return{data:e,error:null}}function FN(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Ih(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function m2(e){return e}function BN(e){return e.access_token&&e.refresh_token&&e.expires_in}const t0=["global","local","others"];class UN{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=xy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=t0[0]){if(t0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${t0.join(", ")}`);try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xi})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ih(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:FN,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xi})}catch(r){if(Ye(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},f=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:m2});if(f.error)throw f.error;const g=await f.json(),v=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(N=>{const j=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(N.split(";")[1].split("=")[1]);d[`${k}Page`]=j}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Ye(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ao(t);try{return await it(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xi})}catch(r){if(Ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ao(t);try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Xi})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ao(t);try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xi})}catch(n){if(Ye(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ao(t.userId);try{const{data:r,error:n}=await it(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ao(t.userId),Ao(t.id);try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,u;try{const d={nextPage:null,lastPage:0,total:0},f=await it(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:m2});if(f.error)throw f.error;const g=await f.json(),v=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(N=>{const j=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(N.split(";")[1].split("=")[1]);d[`${k}Page`]=j}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Ye(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await it(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await it(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ye(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await it(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ye(r))return{data:null,error:r};throw r}}}function g2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Lo={debug:!!(globalThis&&vy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zN extends yy{}async function $N(e,t,r){Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Lo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function qN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function by(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function HN(e){return parseInt(e,16)}function VN(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function WN(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:u,resources:d,scheme:f,uri:g,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=by(e.address),N=f?`${f}://${n}`:n,j=e.statement?`${e.statement}
`:"",k=`${N} wants you to sign in with your Ethereum account:
${p}

${j}`;let x=`URI: ${g}
Version: ${v}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),u&&(x+=`
Request ID: ${u}`),d){let b=`
Resources:`;for(const _ of d){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);b+=`
- ${_}`}x+=b}return`${k}
${x}`}class wr extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class dh extends wr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function GN({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new wr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new wr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new wr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new wr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new wr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new wr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new wr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new wr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(wy(a)){if(i.rp.id!==a)return new wr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new wr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new wr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function KN({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new wr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new wr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(wy(n)){if(r.rpId!==n)return new wr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new wr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new wr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new wr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class JN{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const YN=new JN;function XN(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Ih(e,["challenge","user","excludeCredentials"]),i=sl(t).buffer,a=Object.assign(Object.assign({},r),{id:sl(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:sl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function QN(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ih(e,["challenge","allowCredentials"]),s=sl(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:sl(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function ZN(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ga(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ga(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ej(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ga(new Uint8Array(s.authenticatorData)),clientDataJSON:Ga(new Uint8Array(s.clientDataJSON)),signature:Ga(new Uint8Array(s.signature)),userHandle:s.userHandle?Ga(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wy(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function v2(){var e,t;return!!(Hr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function tj(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dh("Browser returned unexpected credential type",t)}:{data:null,error:new dh("Empty credential response",t)}}catch(t){return{data:null,error:GN({error:t,options:e})}}}async function rj(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dh("Browser returned unexpected credential type",t)}:{data:null,error:new dh("Empty credential response",t)}}catch(t){return{data:null,error:KN({error:t,options:e})}}}const nj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=hh(l,a):n[i]=hh(a)}else n[i]=a}return n}function ij(e,t){return hh(nj,e,t||{})}function aj(e,t){return hh(sj,e,t||{})}class oj{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:l};const u=s??YN.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:d}=a.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(a.webauthn.type){case"create":{const d=ij(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:g}=await tj({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:g}}case"request":{const d=aj(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:g}=await rj(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:g}}}}catch(a){return Ye(a)?{data:null,error:a}:{data:null,error:new $a("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Gu("rpId is required for WebAuthn authentication")};try{if(!v2())return{data:null,error:new $a("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return Ye(a)?{data:null,error:a}:{data:null,error:new $a("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Gu("rpId is required for WebAuthn registration")};try{if(!v2())return{data:null,error:new $a("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(f=>{var g;return(g=f.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(a){return Ye(a)?{data:null,error:a}:{data:null,error:new $a("Unexpected error in register",a)}}}}qN();const lj={url:nN,storageKey:sN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function x2(e,t,r){return await r()}const Eo={};class Ku{get jwks(){var t,r;return(r=(t=Eo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Eo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},lj),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Ku.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ku.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Hr()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new UN({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=xy(i.fetch),this.lock=i.lock||x2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&Hr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=$N:this.lock=x2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:vy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=g2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=g2(this.memoryStorage)),Hr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${py}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Hr()&&(r=bN(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Hr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),dN(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ye(r)?this._returnResult({error:r}):this._returnResult({error:new $a("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ms}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(Ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:f,password:g,options:v}=t;let p=null,N=null;this.flowType==="pkce"&&([p,N]=await ko(this.storage,this.storageKey)),i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:f,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:p,code_challenge_method:N},xform:ms})}else if("phone"in t){const{phone:f,password:g,options:v}=t;i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:ms})}else throw new ud("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await qr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(i){if(await qr(this.storage,`${this.storageKey}-code-verifier`),Ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:p2})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:p2})}else throw new ud("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new So;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,u,d,f,g,v;let p,N;if("message"in t)p=t.message,N=t.signature;else{const{chain:j,wallet:k,statement:x,options:b}=t;let _;if(Hr())if(typeof k=="object")_=k;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")_=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=k}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),I=await _.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=by(I[0]);let G=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!G){const T=await _.request({method:"eth_chainId"});G=HN(T)}const q={domain:S.host,address:W,statement:x,uri:S.href,version:"1",chainId:G,nonce:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=b==null?void 0:b.signInWithEthereum)===null||f===void 0?void 0:f.resources};p=WN(q),N=await _.request({method:"personal_sign",params:[VN(p),W]})}try{const{data:j,error:k}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:N},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ms});if(k)throw k;if(!j||!j.session||!j.user){const x=new So;return this._returnResult({data:{user:null,session:null},error:x})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:k})}catch(j){if(Ye(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(t){var r,n,s,i,a,l,u,d,f,g,v,p;let N,j;if("message"in t)N=t.message,j=t.signature;else{const{chain:k,wallet:x,statement:b,options:_}=t;let S;if(Hr())if(typeof x=="object")S=x;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))S=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const I=new URL((r=_==null?void 0:_.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const W=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),b?{statement:b}:null));let G;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")G=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)G=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)N=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),j=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${I.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(s=(n=_==null?void 0:_.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_==null?void 0:_.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((g=(f=_==null?void 0:_.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||g===void 0)&&g.length?["Resources",..._.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const W=await S.signMessage(new TextEncoder().encode(N),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=W}}try{const{data:k,error:x}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Ga(j)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ms});if(x)throw x;if(!k||!k.session||!k.user){const b=new So;return this._returnResult({data:{user:null,session:null},error:b})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:x})}catch(k){if(Ye(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const r=await Da(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new hN;const{data:i,error:a}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ms});if(await qr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new So;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await qr(this.storage,`${this.storageKey}-code-verifier`),Ye(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ms}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const f=new So;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:u}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await ko(this.storage,this.storageKey));const{error:g}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:f}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new ud("You must provide either an email or phone number.")}catch(l){if(await qr(this.storage,`${this.storageKey}-code-verifier`),Ye(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ms});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,d=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(s){if(Ye(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await ko(this.storage,this.storageKey));const d=await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:MN});return!((i=d.data)===null||i===void 0)&&i.url&&Hr()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await qr(this.storage,`${this.storageKey}-code-verifier`),Ye(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Pn;const{error:s}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ye(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await it(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await it(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new ud("You must provide either an email or phone number and a type")}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Da(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Xf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Da(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=e0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=TN(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xi}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pn}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Xi})})}catch(r){if(Ye(r))return cN(r)&&(await this._removeSession(),await qr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Pn;const a=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await ko(this.storage,this.storageKey));const{data:d,error:f}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Xi});if(f)throw f;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await qr(this.storage,`${this.storageKey}-code-verifier`),Ye(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Zf(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ye(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Pn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Hr())throw new cd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new o2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new o2("No code detected.");const{data:b,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:u,token_type:d}=t;if(!i||!l||!a||!d)throw new cd("No session defined in URL");const f=Math.round(Date.now()/1e3),g=parseInt(l);let v=f+g;u&&(v=parseInt(u));const p=v-f;p*1e3<=Oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${g}s`);const N=v-g;f-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,v,f):f-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,v,f);const{data:j,error:k}=await this._getUser(i);if(k)throw k;const x={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:g,expires_at:v,refresh_token:a,token_type:d,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(Ye(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Da(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(uN(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await qr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=yN(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ko(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await qr(this.storage,`${this.storageKey}-code-verifier`),Ye(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,u,d,f;const{data:g,error:v}=i;if(v)throw v;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Hr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ye(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:u,access_token:d,nonce:f}=t,g=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:u,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ms}),{data:v,error:p}=g;return p?this._returnResult({data:{user:null,session:null},error:p}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new So}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:p}))}catch(s){if(await qr(this.storage,`${this.storageKey}-code-verifier`),Ye(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await NN(async s=>(s>0&&await _N(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ms})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Qf(i)&&Date.now()+a-n<Oo})}catch(n){if(this._debug(r,"error",n),Ye(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Hr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Da(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Da(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Io(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:e0()}else if(s&&!s.user&&!s.user){const a=await Da(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await qr(this.storage,this.storageKey+"-user"),await Io(this.storage,this.storageKey,s)):s.user=e0()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xf;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Xf}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Qf(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Mh;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Pn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Ye(i)){const a={data:null,error:i};return Qf(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await qr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Io(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=h2(s);await Io(this.storage,this.storageKey,i)}else{const s=h2(r);await Io(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await qr(this.storage,this.storageKey),await qr(this.storage,this.storageKey+"-code-verifier"),await qr(this.storage,this.storageKey+"-user"),this.userStorage&&await qr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Hr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Oo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Oo}ms, refresh threshold is ${kp} ticks`),s<=kp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Hr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await ko(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await it(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await it(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ZN(t.webauthn.credential_response):ej(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:XN(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:QN(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Zf(n.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await it(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Pn})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Pn});const a=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Hr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ye(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Pn});const a=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Hr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ye(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await it(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Pn})})}catch(t){if(Ye(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await it(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Pn})})}catch(r){if(Ye(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+oN>s)return n;const{data:i,error:a}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:N}=await this.getSession();if(N||!p.session)return this._returnResult({data:null,error:N});n=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:u}}=Zf(n);r!=null&&r.allowExpired||CN(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const f=PN(s.alg),g=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,g,a,vN(`${l}.${u}`)))throw new Ep("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(Ye(n))return this._returnResult({data:null,error:n});throw n}}}Ku.nextInstanceID={};const uj=Ku,cj="2.88.0";let hu="";typeof Deno<"u"?hu="deno":typeof document<"u"?hu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hu="react-native":hu="node";const dj={"X-Client-Info":`supabase-js-${hu}/${cj}`},hj={headers:dj},fj={schema:"public"},pj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mj={};function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function gj(e,t){if(Ju(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vj(e){var t=gj(e,"string");return Ju(t)=="symbol"?t:t+""}function xj(e,t,r){return(t=vj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(r),!0).forEach(function(n){xj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const yj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bj=()=>Headers,wj=(e,t,r)=>{const n=yj(r),s=bj();return async(i,a)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(i,lr(lr({},a),{},{headers:d}))}};function _j(e){return e.endsWith("/")?e:e+"/"}function Nj(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:u,auth:d,realtime:f,global:g}=t,v={db:lr(lr({},u),s),auth:lr(lr({},d),i),realtime:lr(lr({},f),a),storage:{},global:lr(lr(lr({},g),l),{},{headers:lr(lr({},(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function jj(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_j(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Sj=class extends uj{constructor(e){super(e)}},kj=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=jj(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:fj,realtime:mj,auth:lr(lr({},pj),{},{storageKey:a}),global:hj},u=Nj(r??{},l);if(this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=u.auth)!==null&&d!==void 0?d:{},this.headers,u.global.fetch)}this.fetch=wj(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(lr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new i6(new URL("rest/v1",i).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new rN(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new e6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:l,debug:u,throwOnError:d},f,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sj({url:this.authUrl.href,headers:lr(lr({},v),f),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:l,debug:u,throwOnError:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new _6(this.realtimeUrl.href,lr(lr({},e),{},{params:lr(lr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Aj=(e,t,r)=>new kj(e,t,r);function Lj(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Lj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ej="https://oetveaursxqpjowuxanv.supabase.co",Cj="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9ldHZlYXVyc3hxcGpvd3V4YW52Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwNDg0NjUsImV4cCI6MjA4NjYyNDQ2NX0.GCX6BghWRCZ6Y_ObZMzxFHHJ1Ee20O0qYOVjZ8L3xns",We=Aj(Ej,Cj),Pj=()=>{const[e,t]=X.useState(!1),[r,n]=X.useState({phone:"",location:""}),[s,i]=X.useState(!1);X.useEffect(()=>{const u=localStorage.getItem("token"),d=localStorage.getItem("user");if(u&&d){const f=JSON.parse(d),g={admin:"/admin",doctor:"/doctor",patient:"/patient",lab:"/lab",pharmacy:"/pharmacy"}[f.role];g&&(window.location.href=g)}},[]);const a=()=>{if(!navigator.geolocation){n(u=>({...u,location:"Geolocation not supported"}));return}navigator.geolocation.getCurrentPosition(u=>{const d=u.coords.latitude,f=u.coords.longitude,g=`https://www.google.com/maps?q=${d},${f}`;n(v=>({...v,location:`GPS: ${d.toFixed(6)}, ${f.toFixed(6)} | ${g}`}))},()=>{n(u=>({...u,location:"Location access denied"}))})},l=async u=>{u.preventDefault(),i(!0);try{const{data:d,error:f}=await We.from("emergency_requests").insert({phone:r.phone||"Not provided",location:r.location||"No GPS data"});if(f)throw f;alert("Emergency request submitted successfully"),t(!1),n({phone:"",location:""})}catch(d){alert(d.message)}finally{i(!1)}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 via-white to-amber-50 font-sans",children:[o.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-10",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(37, 99, 235, 0.1) 1px, transparent 0)",backgroundSize:"40px 40px"}})}),o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-20 left-10 opacity-5 animate-float-slow",children:o.jsx("svg",{className:"w-32 h-32 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"})})}),o.jsx("div",{className:"absolute bottom-20 right-10 opacity-5 animate-float-slower",children:o.jsx("svg",{className:"w-40 h-40 text-indigo-600",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4-3h2v13h-2z"})})})]}),o.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:o.jsxs("button",{onClick:()=>{t(!0),a()},className:"group relative bg-gradient-to-r from-red-500 to-rose-500 text-white px-5 py-3 rounded-full font-semibold shadow-lg hover:shadow-red-500/30 transition-all duration-300 flex items-center gap-2",children:[o.jsx("span",{className:"absolute inset-0 rounded-full bg-white/20 animate-ripple-subtle"}),o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),o.jsx("span",{className:"text-sm",children:"Emergency"}),o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M20 8h-2V6h-2v2h-2v2h2v2h2v-2h2v6H4v-6h2v2h2v-2h2V8h2V6h-2V4h-2v2H8v2h2v2H8v2H6v-2H4v2H2v6h20v-6h-2v-2z"})})]})}),o.jsxs("div",{className:"relative pt-24 pb-16 px-4 sm:px-6 lg:px-8 max-w-6xl mx-auto",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("div",{className:"inline-flex items-center gap-2 bg-white/90 border border-amber-200 rounded-full px-3 py-1.5 shadow-md backdrop-blur-sm",children:o.jsxs("span",{className:"relative flex h-2 w-2",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]})})}),o.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[o.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4 tracking-tight",children:[o.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"SMART HOSPITAL MANAGEMENT"}),o.jsx("br",{}),o.jsx("span",{className:"text-amber-900"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mb-12",children:[o.jsxs(Ir,{to:"/register",className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg font-medium shadow-lg hover:brightness-110 transition-all duration-300 flex items-center justify-center gap-2",children:[o.jsx("span",{children:"Patient Registration"}),o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),o.jsxs(Ir,{to:"/login",className:"px-6 py-3 bg-white text-amber-800 border border-amber-200 rounded-lg font-medium shadow-md hover:bg-amber-50 transition-all duration-300 flex items-center justify-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z",clipRule:"evenodd"})}),o.jsx("span",{children:"Staff Login"})]})]})]})]}),o.jsxs("div",{className:"py-12 px-4 sm:px-6 lg:px-8 max-w-5xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-10",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-amber-900 mb-2",children:"Comprehensive Solutions"}),o.jsx("p",{className:"text-base text-amber-600",children:"Everything you need in one platform"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsx(Ir,{to:"/register",className:"group",children:o.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-lg shadow-amber-200/50 border border-amber-100 hover:border-amber-200 transition-all duration-300 overflow-hidden",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center text-white",children:o.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),o.jsx("span",{className:"bg-emerald-100 text-emerald-600 text-xs px-2 py-1 rounded-full border border-emerald-200",children:"New Patient?"})]}),o.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-2",children:"Patient Portal"}),o.jsx("p",{className:"text-sm text-amber-600 mb-4",children:"Access health records, appointments, and more."}),o.jsxs("div",{className:"flex items-center text-blue-600 text-sm font-medium group-hover:text-blue-700",children:[o.jsx("span",{children:"Get Started"}),o.jsx("svg",{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})})}),o.jsx(Ir,{to:"/login",className:"group",children:o.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-xl shadow-lg shadow-amber-200/50 border border-amber-100 hover:border-amber-200 transition-all duration-300 overflow-hidden",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 text-xs font-medium border border-blue-200",children:"A"}),o.jsx("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center text-emerald-600 text-xs font-medium border border-emerald-200",children:"D"}),o.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center text-purple-600 text-xs font-medium border border-purple-200",children:"L"}),o.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center text-amber-600 text-xs font-medium border border-amber-200",children:"P"})]}),o.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-2",children:"Staff Portal"}),o.jsx("p",{className:"text-sm text-amber-600 mb-4",children:"Secure access for all hospital staff."}),o.jsxs("div",{className:"flex items-center text-blue-600 text-sm font-medium group-hover:text-blue-700",children:[o.jsx("span",{children:"Access Dashboard"}),o.jsx("svg",{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})})})]})]})]}),e&&o.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full shadow-2xl shadow-amber-200/50 border border-amber-100",children:[o.jsx("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 text-white px-5 py-4 rounded-t-xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold",children:"Emergency Response"}),o.jsx("p",{className:"text-xs text-red-100",children:"Immediate assistance"})]})]}),o.jsx("button",{onClick:()=>t(!1),className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center hover:bg-white/30 transition-all",children:""})]})}),o.jsxs("form",{onSubmit:l,className:"p-5 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-amber-700 mb-1 block",children:"Phone (optional)"}),o.jsx("input",{type:"tel",placeholder:"Enter your number",value:r.phone,onChange:u=>n(d=>({...d,phone:u.target.value})),className:"w-full px-3 py-2 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-900 placeholder-amber-400 focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-amber-700 mb-1 block",children:"Location"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:r.location,readOnly:!0,placeholder:"Click detect location",className:"w-full px-3 py-2 bg-amber-50 border border-amber-200 rounded-lg text-sm text-amber-900 placeholder-amber-400 pr-20"}),o.jsx("button",{type:"button",onClick:a,className:"absolute right-1 top-1/2 -translate-y-1/2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-3 py-1 rounded text-xs font-medium hover:brightness-110 transition-all",children:"Detect"})]})]}),o.jsx("button",{type:"submit",disabled:s,className:"w-full py-3 bg-gradient-to-r from-red-500 to-rose-500 text-white font-medium rounded-lg text-sm hover:brightness-110 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:s?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),o.jsx("span",{children:"Sending..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z"})}),o.jsx("span",{children:"Request Assistance"})]})}),o.jsx("p",{className:"text-xs text-amber-500 text-center",children:"By submitting, you share your location with emergency services"})]})]})}),o.jsx("style",{jsx:!0,children:`
        @keyframes float-slow {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-20px); }
        }
        
        @keyframes float-slower {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(20px); }
        }
        
        @keyframes fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        
        .animate-float-slow {
          animation: float-slow 8s ease-in-out infinite;
        }
        
        .animate-float-slower {
          animation: float-slower 12s ease-in-out infinite;
        }
        
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
        
        .animate-ripple-subtle {
          animation: ripple-subtle 2s linear infinite;
        }
        
        @keyframes ripple-subtle {
          0% { transform: scale(1); opacity: 0.3; }
          100% { transform: scale(2); opacity: 0; }
        }
      `})]})},Rj=()=>{const[e,t]=X.useState({username:"",password:"",role:""}),[r,n]=X.useState(!1),[s,i]=X.useState(""),[a,l]=X.useState([]),[u,d]=X.useState(!0),[f,g]=X.useState(!1),v=ga();X.useEffect(()=>{(async()=>{try{const{data:x,error:b}=await We.from("labs").select("name").order("name",{ascending:!0});if(b)throw b;l(x||[])}catch(x){console.error("Error fetching labs:",x),l([])}finally{d(!1)}})()},[]);const p=async k=>{k.preventDefault(),n(!0),i("");try{let x=null;if(e.role==="admin"&&e.username==="admin@hospital.com"&&e.password==="admin123")x={role:"admin",name:"Hospital Admin",email:"admin@hospital.com",id:"admin-001"};else if(e.role==="doctor"){const{data:S}=await We.from("doctors").select("*").eq("email",e.username.toLowerCase().trim()).eq("password",e.password).single();S&&(x={role:"doctor",...S})}else if(e.role==="assistant"){const{data:S}=await We.from("assistant_doctor").select("*").eq("email",e.username.toLowerCase().trim()).eq("password",e.password).single();S&&(x={role:"assistant",...S,full_name:S.full_name||S.name})}else if(e.role==="lab"){const{data:S,error:I}=await We.from("labs").select("*").eq("name",e.username.trim()).single();if(S&&!I&&e.password==="lab123")x={role:"lab",name:S.name,username:S.name,email:`${S.name.toLowerCase().replace(/\s+/g,"")}@lab.com`,id:S.id,lab_id:S.id};else throw e.password!=="lab123"?new Error(' Lab password must be "lab123" only!'):new Error(` Lab "${e.username}" not found!`)}else if(e.role==="pharmacy"&&e.username==="pharmacy@hospital.com"&&e.password==="pharma123")x={role:"pharmacy",name:"Pharmacy Tech",email:"pharmacy@hospital.com",id:"pharma-001"};else if(e.role==="patient"){const{data:S}=await We.from("patients").select("*").eq("email",e.username.toLowerCase().trim()).eq("password",e.password).single();S&&(x={role:"patient",...S})}else if(e.role==="ambulance"){const I=[{username:"driver1@hospital.com",password:"driver123",name:"Ravi Kumar",vehicle:"Ambulance A1",id:"driver-001"},{username:"driver2@hospital.com",password:"driver123",name:"Priya Sharma",vehicle:"Ambulance A2",id:"driver-002"},{username:"driver3@hospital.com",password:"driver123",name:"Amit Patel",vehicle:"Ambulance A3",id:"driver-003"}].find(W=>W.username===e.username&&W.password===e.password);I&&(x={role:"ambulance",...I})}if(!x)throw new Error("Invalid credentials for selected role");localStorage.setItem("token",`${e.role}-token-${Date.now()}`),localStorage.setItem("user",JSON.stringify(x));const b=document.createElement("div");b.className="fixed top-4 right-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-3 rounded-lg shadow-2xl z-50 animate-slide-in border border-green-400/30",b.textContent=` Welcome, ${x.name}!`,document.body.appendChild(b),setTimeout(()=>b.remove(),3e3),v({admin:"/admin",doctor:"/doctor",assistant:"/assistant-dashboard",lab:"/lab",pharmacy:"/pharmacy",patient:"/patient",ambulance:"/ambulance"}[x.role],{replace:!0})}catch(x){i(x.message)}finally{n(!1)}},N=k=>({admin:"from-blue-400 to-blue-500",doctor:"from-green-400 to-green-500",assistant:"from-teal-400 to-teal-500",lab:"from-purple-400 to-purple-500",pharmacy:"from-orange-400 to-orange-500",patient:"from-indigo-400 to-indigo-500",ambulance:"from-red-400 to-red-500"})[k]||"from-gray-400 to-gray-500",j=k=>({admin:"Admin",doctor:"Doctor",assistant:"Asst.",lab:"Lab",pharmacy:"Pharma",patient:"Patient",ambulance:"EMS"})[k]||k;return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-b from-blue-50 via-white to-gray-50 font-sans",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-blue-200/40 rounded-full mix-blend-multiply filter blur-3xl animate-pulse-slow"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-200/40 rounded-full mix-blend-multiply filter blur-3xl animate-pulse-slower"}),o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(59, 130, 246, 0.08) 1px, transparent 0)",backgroundSize:"40px 40px"}})]}),o.jsxs("div",{className:"max-w-md w-full relative",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("div",{className:"relative inline-flex",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-2xl blur-xl opacity-30 animate-pulse"}),o.jsx("div",{className:"relative inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-2xl shadow-xl mb-4 border border-white/50",children:o.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"})})}),o.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-br from-amber-400 to-amber-500 rounded-full flex items-center justify-center shadow-lg shadow-amber-500/30 border border-amber-300/50",children:o.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]}),o.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-1",children:"SMART APPOINTMENT MANAGMENT"}),o.jsx("p",{className:"text-gray-500",children:"Secure Hospital Management System"})]}),o.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl shadow-gray-300/50 border border-white/80 overflow-hidden",children:[o.jsxs("div",{className:`bg-gradient-to-r ${e.role?N(e.role):"from-gray-200 to-gray-300"} px-6 py-4 transition-all duration-300 relative overflow-hidden`,children:[o.jsx("div",{className:"absolute inset-0 bg-white/20 animate-shimmer"}),o.jsxs("div",{className:"flex items-center justify-between relative",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:"Secure Login"}),o.jsx("p",{className:"text-white/80 text-sm mt-1",children:e.role?`${e.role.charAt(0).toUpperCase()+e.role.slice(1)} Access`:"Select your role to continue"})]}),e.role&&o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full text-white text-sm font-medium border border-white/30",children:e.role})]})]}),s&&o.jsxs("div",{className:"mx-6 mt-6 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg flex items-start",children:[o.jsx("svg",{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.jsx("span",{className:"font-medium text-sm",children:s})]}),o.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-semibold text-gray-700",children:["Select Role ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["admin","doctor","assistant","lab","pharmacy","patient","ambulance"].map(k=>o.jsxs("button",{type:"button",onClick:()=>t({...e,role:k,username:"",password:""}),className:`relative px-3 py-2 rounded-lg text-sm font-medium capitalize transition-all duration-300 overflow-hidden group ${e.role===k?`bg-gradient-to-r ${N(k)} text-white shadow-lg shadow-${k}-400/30 border border-white/50`:"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-200 hover:border-gray-300"}`,children:[o.jsx("span",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),o.jsx("span",{className:"relative",children:j(k)})]},k))})]}),e.role==="lab"&&o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl p-5 border border-purple-200 animate-fade-in",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-500 rounded-lg flex items-center justify-center shadow-lg shadow-purple-500/20",children:o.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4-3h2v13h-2z"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-purple-700",children:"Laboratory Access"}),o.jsx("p",{className:"text-xs text-purple-600/80",children:"Use exact lab name from list"})]})]}),u?o.jsxs("div",{className:"flex items-center justify-center py-4 bg-white rounded-lg border border-purple-200",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-purple-300 border-t-purple-600 rounded-full animate-spin mr-2"}),o.jsx("span",{className:"text-sm text-purple-600",children:"Loading labs..."})]}):a.length===0?o.jsx("div",{className:"text-center py-4 bg-white rounded-lg border border-purple-200",children:o.jsx("p",{className:"text-sm text-purple-600",children:"No labs found in database"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-lg p-3 mb-3 border border-purple-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Default Password:"}),o.jsx("code",{className:"bg-purple-100 text-purple-700 px-2 py-0.5 rounded text-sm font-mono border border-purple-300",children:"lab123"})]}),o.jsx("div",{className:"max-h-32 overflow-y-auto custom-scrollbar-light",children:a.map((k,x)=>o.jsxs("button",{type:"button",onClick:()=>t({...e,username:k.name}),className:`w-full text-left px-3 py-2 rounded-lg mb-1 text-sm transition-all duration-300 ${e.username===k.name?"bg-gradient-to-r from-purple-500 to-indigo-500 text-white shadow-md":"hover:bg-purple-50 text-gray-700 hover:text-purple-700"}`,children:[o.jsx("span",{className:"font-medium",children:k.name}),e.username===k.name&&o.jsx("span",{className:"float-right text-white/90",children:""})]},x))})]}),o.jsxs("p",{className:"text-xs text-purple-600/80 text-center",children:[a.length," lab",a.length!==1?"s":""," available"]})]})]}),e.role==="admin"&&o.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200 animate-fade-in"}),e.role&&e.role!=="lab"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:e.role==="ambulance"?"Driver Email":e.role==="doctor"?"Doctor Email":e.role==="assistant"?"Assistant Email":e.role==="patient"?"Patient Email":e.role==="pharmacy"?"Pharmacy Email":"Username / Email"}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors",children:o.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[o.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),o.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),o.jsx("input",{type:"text",placeholder:e.role==="ambulance"?"driver1@hospital.com":e.role==="assistant"?"assistant@hospital.com":e.role==="doctor"?"doctor@hospital.com":e.role==="patient"?"patient@email.com":e.role==="pharmacy"?"pharmacy@hospital.com":"Enter your username",value:e.username,onChange:k=>t({...e,username:k.target.value}),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-300 focus:border-blue-400 transition-all outline-none text-gray-700 placeholder-gray-400",required:!0,disabled:r})]})]}),e.role&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Password"}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),o.jsx("input",{type:f?"text":"password",placeholder:e.role==="lab"?"lab123":e.role==="ambulance"?"driver123":e.role==="admin"?"admin123":e.role==="pharmacy"?"pharma123":"Enter password",value:e.password,onChange:k=>t({...e,password:k.target.value}),className:"w-full pl-10 pr-12 py-3 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-300 focus:border-blue-400 transition-all outline-none text-gray-700 placeholder-gray-400",required:!0,disabled:r}),o.jsx("button",{type:"button",onClick:()=>g(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-blue-500 transition-colors",children:f?o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3c-1.478 0-2.87.367-4.106 1.012L3.707 2.293zM10 5.5a4.5 4.5 0 014.472 5.025l-6.597-6.597A4.5 4.5 0 0110 5.5zm6.5 4.5c0 1.132-.282 2.2-.78 3.14l-1.618-1.618A2.5 2.5 0 0014.5 10a2.5 2.5 0 00-.398-1.36l1.618-1.618A6.5 6.5 0 0116.5 10zm-10.5 0a2.5 2.5 0 01.398-1.36L4.68 7.022A6.5 6.5 0 003.5 10a6.5 6.5 0 001.18 2.978l1.618-1.618A2.5 2.5 0 016 10z",clipRule:"evenodd"})}):o.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[o.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),o.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]}),e.role==="lab"&&o.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:[o.jsx("span",{className:"font-medium",children:"Note:"}),' Password is always "lab123"']})]}),e.role&&o.jsxs("button",{type:"submit",disabled:r||!e.username||!e.password,className:`w-full py-3 px-4 rounded-lg font-semibold text-white transition-all duration-300 flex items-center justify-center space-x-2 relative overflow-hidden group ${r||!e.username||!e.password?"bg-gray-300 cursor-not-allowed opacity-50 text-gray-600":`bg-gradient-to-r ${N(e.role)} hover:shadow-lg hover:shadow-${e.role}-400/30 transform hover:-translate-y-0.5`}`,children:[o.jsx("span",{className:"absolute inset-0 bg-white/30 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white/50 border-t-white rounded-full animate-spin"}),o.jsx("span",{children:"Verifying..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Sign In"}),o.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),!e.role&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Select a role above to continue"})})]})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsx("p",{className:"text-xs text-gray-400",children:" 2024 MediCare Plus. All rights reserved."})})]}),o.jsx("style",{jsx:!0,children:`
        @keyframes fade-in {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes slide-in {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.4; transform: scale(1); }
          50% { opacity: 0.6; transform: scale(1.1); }
        }
        
        @keyframes pulse-slower {
          0%, 100% { opacity: 0.3; transform: scale(1); }
          50% { opacity: 0.5; transform: scale(1.2); }
        }
        
        @keyframes bounce-slow {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
        }
        
        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
        
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
        
        .animate-pulse-slow {
          animation: pulse-slow 6s ease-in-out infinite;
        }
        
        .animate-pulse-slower {
          animation: pulse-slower 8s ease-in-out infinite;
        }
        
        .animate-bounce-slow {
          animation: bounce-slow 2s ease-in-out infinite;
        }
        
        .animate-shimmer {
          animation: shimmer 3s infinite;
        }
        
        .custom-scrollbar-light::-webkit-scrollbar {
          width: 4px;
        }
        
        .custom-scrollbar-light::-webkit-scrollbar-track {
          background: rgba(243, 244, 246, 0.8);
          border-radius: 4px;
        }
        
        .custom-scrollbar-light::-webkit-scrollbar-thumb {
          background: rgba(139, 92, 246, 0.4);
          border-radius: 4px;
        }
        
        .custom-scrollbar-light::-webkit-scrollbar-thumb:hover {
          background: rgba(139, 92, 246, 0.6);
        }
      `})]})},Tj=()=>{const[e,t]=X.useState({name:"",email:"",password:"",phone:"",age:""}),[r,n]=X.useState(!1),[s,i]=X.useState(""),[a,l]=X.useState(!1),u=ga(),d=async v=>{v.preventDefault(),n(!0),i("");try{const{data:p,error:N}=await We.from("patients").insert([{name:e.name.trim(),email:e.email.toLowerCase().trim(),phone:e.phone.trim()||null,age:parseInt(e.age)||null,password:e.password}]).select();if(N)throw N;localStorage.setItem("token","patient-token"),localStorage.setItem("user",JSON.stringify({role:"patient",...p[0]}));const j=document.createElement("div");j.className="fixed top-4 right-4 bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-6 py-3 rounded-lg shadow-xl z-50 animate-slide-in border border-emerald-200",j.innerHTML=`
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          <span>Welcome, ${e.name}! Your account has been created.</span>
        </div>
      `,document.body.appendChild(j),setTimeout(()=>j.remove(),4e3),u("/patient")}catch(p){i(p.message)}finally{n(!1)}},g=(()=>{if(!e.password)return null;const v={score:0,text:"",color:""};switch(e.password.length>=8&&v.score++,/[A-Z]/.test(e.password)&&v.score++,/[0-9]/.test(e.password)&&v.score++,/[^A-Za-z0-9]/.test(e.password)&&v.score++,v.score){case 0:case 1:v.text="Weak",v.color="bg-red-500";break;case 2:v.text="Fair",v.color="bg-yellow-500";break;case 3:v.text="Good",v.color="bg-blue-500";break;case 4:v.text="Strong",v.color="bg-green-500";break}return v})();return o.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-b from-amber-50 via-white to-amber-50 font-sans",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-emerald-200 rounded-full mix-blend-multiply filter blur-3xl animate-pulse-slow"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-teal-200 rounded-full mix-blend-multiply filter blur-3xl animate-pulse-slower"}),o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(16, 185, 129, 0.05) 1px, transparent 0)",backgroundSize:"40px 40px"}})]}),o.jsxs("div",{className:"max-w-md w-full relative",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsxs("div",{className:"relative inline-flex",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-teal-400 rounded-2xl blur-xl opacity-30 animate-pulse"}),o.jsx("div",{className:"relative inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-2xl shadow-xl mb-4 border border-white",children:o.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),o.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-br from-amber-400 to-amber-500 rounded-full flex items-center justify-center shadow-lg border border-amber-200",children:o.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]}),o.jsx("h1",{className:"text-3xl font-bold text-amber-900 mb-1",children:"Patient Registration"}),o.jsx("p",{className:"text-amber-600",children:"Create your account to access healthcare services"})]}),o.jsxs("div",{className:"bg-white/90 backdrop-blur-xl rounded-2xl shadow-xl shadow-amber-200/50 border border-amber-100 overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 px-6 py-4 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-white/20 animate-shimmer"}),o.jsxs("div",{className:"flex items-center justify-between relative",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z"})}),"New Patient"]}),o.jsx("p",{className:"text-white/80 text-sm mt-1",children:"Fill in your details to register"})]}),o.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full text-white text-sm font-medium border border-white/30",children:"Step 1 of 1"})]})]}),s&&o.jsxs("div",{className:"mx-6 mt-6 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg flex items-start",children:[o.jsx("svg",{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),o.jsx("span",{className:"font-medium text-sm",children:s})]}),o.jsxs("form",{onSubmit:d,className:"p-6 space-y-5",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-semibold text-amber-700",children:["Full Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-amber-400 group-focus-within:text-emerald-500 transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),o.jsx("input",{type:"text",placeholder:"Enter your full name",value:e.name,onChange:v=>t({...e,name:v.target.value}),className:"w-full pl-10 pr-4 py-3 bg-amber-50/50 border border-amber-200 rounded-lg focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-500 transition-all outline-none text-amber-900 placeholder-amber-400",required:!0,disabled:r})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-semibold text-amber-700",children:["Email Address ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-amber-400 group-focus-within:text-emerald-500 transition-colors",children:o.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[o.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),o.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),o.jsx("input",{type:"email",placeholder:"your@email.com",value:e.email,onChange:v=>t({...e,email:v.target.value}),className:"w-full pl-10 pr-4 py-3 bg-amber-50/50 border border-amber-200 rounded-lg focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-500 transition-all outline-none text-amber-900 placeholder-amber-400",required:!0,disabled:r})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-amber-700",children:"Phone"}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-amber-400 group-focus-within:text-emerald-500 transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})})}),o.jsx("input",{type:"tel",placeholder:"+91 98765 43210",value:e.phone,onChange:v=>t({...e,phone:v.target.value}),className:"w-full pl-10 pr-4 py-3 bg-amber-50/50 border border-amber-200 rounded-lg focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-500 transition-all outline-none text-amber-900 placeholder-amber-400",disabled:r})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-amber-700",children:"Age"}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-amber-400 group-focus-within:text-emerald-500 transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),o.jsx("input",{type:"number",placeholder:"25",value:e.age,onChange:v=>t({...e,age:v.target.value}),className:"w-full pl-10 pr-4 py-3 bg-amber-50/50 border border-amber-200 rounded-lg focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-500 transition-all outline-none text-amber-900 placeholder-amber-400",min:"1",max:"120",disabled:r})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-semibold text-amber-700",children:["Password ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-amber-400 group-focus-within:text-emerald-500 transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),o.jsx("input",{type:a?"text":"password",placeholder:"Create a strong password",value:e.password,onChange:v=>t({...e,password:v.target.value}),className:"w-full pl-10 pr-12 py-3 bg-amber-50/50 border border-amber-200 rounded-lg focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-500 transition-all outline-none text-amber-900 placeholder-amber-400",required:!0,disabled:r}),o.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-amber-400 hover:text-emerald-500 transition-colors",children:a?o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3c-1.478 0-2.87.367-4.106 1.012L3.707 2.293zM10 5.5a4.5 4.5 0 014.472 5.025l-6.597-6.597A4.5 4.5 0 0110 5.5zm6.5 4.5c0 1.132-.282 2.2-.78 3.14l-1.618-1.618A2.5 2.5 0 0014.5 10a2.5 2.5 0 00-.398-1.36l1.618-1.618A6.5 6.5 0 0116.5 10zm-10.5 0a2.5 2.5 0 01.398-1.36L4.68 7.022A6.5 6.5 0 003.5 10a6.5 6.5 0 001.18 2.978l1.618-1.618A2.5 2.5 0 016 10z",clipRule:"evenodd"})}):o.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[o.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),o.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]}),e.password&&g&&o.jsxs("div",{className:"mt-2 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex space-x-1 flex-1",children:[o.jsx("div",{className:`h-1 flex-1 rounded-full ${g.score>=1?g.color:"bg-amber-200"}`}),o.jsx("div",{className:`h-1 flex-1 rounded-full ${g.score>=2?g.color:"bg-amber-200"}`}),o.jsx("div",{className:`h-1 flex-1 rounded-full ${g.score>=3?g.color:"bg-amber-200"}`}),o.jsx("div",{className:`h-1 flex-1 rounded-full ${g.score>=4?g.color:"bg-amber-200"}`})]}),o.jsx("span",{className:`text-xs font-medium ml-2 ${g.score<=1?"text-red-500":g.score===2?"text-yellow-600":g.score===3?"text-blue-600":"text-green-600"}`,children:g.text})]}),o.jsx("p",{className:"text-xs text-amber-500",children:"Use at least 8 characters with uppercase, numbers & symbols"})]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx("input",{type:"checkbox",id:"terms",className:"mt-1 rounded bg-amber-50 border-amber-300 text-emerald-600 focus:ring-emerald-500/30 focus:ring-offset-0",required:!0}),o.jsxs("label",{htmlFor:"terms",className:"text-xs text-amber-600",children:["I agree to the"," ",o.jsx("a",{href:"#",className:"text-emerald-600 hover:text-emerald-700 font-medium transition-colors",children:"Terms of Service"})," ","and"," ",o.jsx("a",{href:"#",className:"text-emerald-600 hover:text-emerald-700 font-medium transition-colors",children:"Privacy Policy"})]})]}),o.jsxs("button",{type:"submit",disabled:r,className:`w-full py-3 px-4 rounded-lg font-semibold text-white transition-all duration-300 flex items-center justify-center space-x-2 relative overflow-hidden group ${r?"bg-amber-300 cursor-not-allowed opacity-50":"bg-gradient-to-r from-emerald-500 to-teal-500 hover:shadow-lg hover:shadow-emerald-500/20 transform hover:-translate-y-0.5"}`,children:[o.jsx("span",{className:"absolute inset-0 bg-white/30 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),r?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),o.jsx("span",{children:"Creating Account..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Create Patient Account"}),o.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})]}),o.jsx("div",{className:"px-6 pb-6",children:o.jsxs("div",{className:"text-center space-y-3",children:[o.jsxs("p",{className:"text-sm text-amber-600",children:["Already have an account?"," ",o.jsx(Ir,{to:"/login",className:"text-emerald-600 hover:text-emerald-700 font-semibold hover:underline transition-colors",children:"Sign in here"})]}),o.jsxs(Ir,{to:"/",className:"inline-flex items-center text-sm text-amber-500 hover:text-emerald-600 transition-colors group",children:[o.jsx("svg",{className:"w-4 h-4 mr-1 group-hover:-translate-x-1 transition-transform",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to Home"]})]})})]}),o.jsx("div",{className:"text-center mt-6",children:o.jsx("p",{className:"text-xs text-amber-400",children:" 2024 MediCare Plus. All rights reserved."})})]}),o.jsx("style",{jsx:!0,children:`
        @keyframes slide-in {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.3; transform: scale(1); }
          50% { opacity: 0.5; transform: scale(1.1); }
        }
        
        @keyframes pulse-slower {
          0%, 100% { opacity: 0.2; transform: scale(1); }
          50% { opacity: 0.4; transform: scale(1.2); }
        }
        
        @keyframes bounce-slow {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-5px); }
        }
        
        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
        
        .animate-pulse-slow {
          animation: pulse-slow 6s ease-in-out infinite;
        }
        
        .animate-pulse-slower {
          animation: pulse-slower 8s ease-in-out infinite;
        }
        
        .animate-bounce-slow {
          animation: bounce-slow 2s ease-in-out infinite;
        }
        
        .animate-shimmer {
          animation: shimmer 3s infinite;
        }
      `})]})},Oj=()=>{const[e,t]=X.useState([]),[r,n]=X.useState([]),[s,i]=X.useState([]),[a,l]=X.useState(!0),[u,d]=X.useState({name:"",testFields:[{id:Date.now(),name:""}]}),[f,g]=X.useState({full_name:"",phone:"",email:"",password:""});X.useEffect(()=>{v()},[]);const v=async()=>{l(!0);const{data:I}=await We.from("doctors").select("*");t(I||[]);const{data:W}=await We.from("patients").select("*");n(W||[]);const{data:G}=await We.from("labs").select("*");i(G||[]),l(!1)},p=async I=>{confirm("Delete doctor?")&&(await We.from("doctors").delete().eq("id",I),v(),alert(" Doctor deleted!"))},N=async I=>{confirm("Delete patient?")&&(await We.from("patients").delete().eq("id",I),v(),alert(" Patient deleted!"))},j=async I=>{confirm("Delete lab?")&&(await We.from("labs").delete().eq("id",I),v(),alert(" Lab deleted!"))},k=()=>{d(I=>({...I,testFields:[...I.testFields,{id:Date.now(),name:""}]}))},x=I=>{d(W=>({...W,testFields:W.testFields.filter(G=>G.id!==I)}))},b=(I,W)=>{d(G=>({...G,testFields:G.testFields.map(q=>q.id===I?{...q,name:W}:q)}))},_=async()=>{if(!u.name.trim()){alert("Enter lab name!");return}const I=u.testFields.filter(G=>G.name.trim()).map(G=>G.name.trim());if(I.length===0){alert("Add at least 1 test!");return}const{error:W}=await We.from("labs").insert([{name:u.name.trim(),available_tests:I}]);W?alert("Error: "+W.message):(d({name:"",testFields:[{id:Date.now(),name:""}]}),v(),alert(` "${u.name}" added with ${I.length} tests!`))},S=async()=>{const{full_name:I,phone:W,email:G,password:q}=f;if(!I||!G||!q){alert("Please fill all required fields!");return}try{const{error:T}=await We.from("assistant_doctor").insert([{full_name:I.trim(),phone:W.trim(),email:G.trim().toLowerCase(),password:q.trim()}]);T?alert(" Error: "+T.message):(g({full_name:"",phone:"",email:"",password:""}),v(),alert(` "${I}" added as Assistant Doctor!`))}catch(T){alert(" Failed to add doctor: "+T.message)}};return a?o.jsx("div",{className:"p-8 text-center text-gray-600",children:"Loading dashboard..."}):o.jsxs("div",{className:"p-8 max-w-7xl mx-auto bg-gray-50 min-h-screen",children:[o.jsxs("div",{className:"flex justify-between items-center mb-12",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Admin Dashboard"}),o.jsxs("p",{className:"text-xl text-gray-600 animate-pulse",children:[e.length," Doctors | ",r.length," Patients | ",s.length," Labs"]})]}),o.jsx("span",{className:"px-6 py-2 bg-gradient-to-r from-red-500 to-pink-600 text-white font-bold rounded-xl shadow-lg",children:"ADMIN"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[o.jsx("div",{className:"bg-white p-8 rounded-3xl shadow-lg hover:shadow-xl border border-gray-100 group",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Doctors"}),o.jsx("p",{className:"text-3xl font-bold text-gray-800",children:e.length}),o.jsx("span",{className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded-full",children:"Supabase"})]}),o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center group-hover:rotate-12 transition-all text-white text-2xl",children:"MD"})]})}),o.jsx("div",{className:"bg-white p-8 rounded-3xl shadow-lg hover:shadow-xl border border-gray-100 group",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Patients"}),o.jsx("p",{className:"text-3xl font-bold text-gray-800",children:r.length}),o.jsx("span",{className:"text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded-full",children:"Supabase"})]}),o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center text-white text-2xl",children:"PT"})]})}),o.jsx("div",{className:"bg-white p-8 rounded-3xl shadow-lg hover:shadow-xl border border-gray-100 group",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Labs"}),o.jsx("p",{className:"text-3xl font-bold text-gray-800",children:s.length}),o.jsx("span",{className:"text-xs bg-purple-50 text-purple-600 px-2 py-1 rounded-full",children:"Supabase"})]}),o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-violet-600 rounded-2xl flex items-center justify-center group-hover:rotate-12 transition-all text-white text-2xl",children:"LB"})]})}),o.jsx("div",{className:"bg-white p-8 rounded-3xl shadow-lg border border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Appointments"}),o.jsx("p",{className:"text-3xl font-bold text-gray-800",children:"45"})]}),o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-600 rounded-2xl flex items-center justify-center text-white text-2xl",children:"AP"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12",children:[o.jsx(Ir,{to:"/admin/add-doctor",className:"group bg-gradient-to-r from-emerald-500 to-green-600 text-white p-8 rounded-3xl shadow-lg hover:shadow-xl hover:-translate-y-2 transition-all",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center group-hover:rotate-12 transition-transform text-2xl",children:"+"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Add Doctor"}),o.jsxs("p",{className:"opacity-90",children:["Total: ",e.length]})]})]})}),o.jsx(Ir,{to:"/admin/patients",className:"group bg-gradient-to-r from-purple-500 to-violet-600 text-white p-8 rounded-3xl shadow-lg hover:shadow-xl hover:-translate-y-2 transition-all",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center group-hover:rotate-12 transition-transform text-2xl",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Manage Patients"}),o.jsxs("p",{className:"opacity-90",children:["Total: ",r.length]})]})]})}),o.jsx("button",{onClick:()=>document.getElementById("lab-section").scrollIntoView({behavior:"smooth"}),className:"group bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-8 rounded-3xl shadow-lg hover:shadow-xl hover:-translate-y-2 transition-all",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center group-hover:rotate-12 transition-transform text-2xl",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Manage Labs"}),o.jsxs("p",{className:"opacity-90",children:["Total: ",s.length]})]})]})})]}),o.jsxs("div",{id:"assistant-doctor-section",className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-8 rounded-3xl shadow-lg mb-8 border border-blue-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Add Assistant Doctor"}),o.jsx("button",{onClick:v,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-2xl transition-all",children:"Refresh"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 p-8 bg-white/80 backdrop-blur-sm rounded-3xl shadow-lg",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-bold text-blue-800 mb-3",children:"Full Name"}),o.jsx("input",{type:"text",placeholder:"Dr. John Smith",value:f.full_name,onChange:I=>g({...f,full_name:I.target.value}),className:"w-full p-4 border border-gray-200 rounded-2xl text-lg focus:border-blue-400 focus:ring-2 focus:ring-blue-100 bg-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-bold text-blue-800 mb-3",children:"Phone"}),o.jsx("input",{type:"tel",placeholder:"9876543210",value:f.phone,onChange:I=>g({...f,phone:I.target.value}),className:"w-full p-4 border border-gray-200 rounded-2xl text-lg focus:border-blue-400 focus:ring-2 focus:ring-blue-100 bg-white"})]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("label",{className:"block text-lg font-bold text-blue-800 mb-3",children:"Email"}),o.jsx("input",{type:"email",placeholder:"john.smith@hospital.com",value:f.email,onChange:I=>g({...f,email:I.target.value}),className:"w-full p-4 border border-gray-200 rounded-2xl text-lg focus:border-blue-400 focus:ring-2 focus:ring-blue-100 bg-white"})]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("label",{className:"block text-lg font-bold text-blue-800 mb-3",children:"Password"}),o.jsx("input",{type:"password",placeholder:"Enter secure password",value:f.password,onChange:I=>g({...f,password:I.target.value}),className:"w-full p-4 border border-gray-200 rounded-2xl text-lg focus:border-blue-400 focus:ring-2 focus:ring-blue-100 bg-white"})]}),o.jsx("button",{onClick:S,disabled:!f.full_name||!f.email||!f.password,className:"col-span-full lg:col-span-1 p-6 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-black text-xl rounded-3xl shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3",children:"Create Assistant Doctor"})]})]}),o.jsxs("div",{id:"lab-section",className:"bg-gradient-to-r from-purple-50 to-indigo-50 p-8 rounded-3xl shadow-lg mb-8 border border-purple-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Lab Management"}),o.jsx("button",{onClick:v,className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-2xl transition-all",children:"Refresh Labs"})]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 p-8 bg-white/80 backdrop-blur-sm rounded-3xl shadow-lg mb-8",children:[o.jsx("input",{type:"text",placeholder:"Lab Name (Internal Lab, SRL Diagnostics, Metropolis...)",value:u.name,onChange:I=>d({...u,name:I.target.value}),className:"p-4 border border-gray-200 rounded-2xl text-lg focus:border-purple-400 focus:ring-2 focus:ring-purple-100 col-span-2 md:col-span-1 bg-white"}),o.jsxs("div",{className:"md:col-span-3",children:[o.jsxs("label",{className:"block text-lg font-bold text-purple-800 mb-4 flex items-center",children:["Available Tests",o.jsxs("span",{className:"ml-3 bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm font-bold",children:[u.testFields.filter(I=>I.name.trim()).length," tests"]})]}),o.jsx("div",{className:"space-y-3 mb-4 max-h-96 overflow-y-auto",children:u.testFields.map(I=>o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-purple-50 rounded-2xl border border-purple-100 hover:border-purple-300 group transition-all hover:shadow-sm",children:[o.jsx("input",{type:"text",placeholder:`Test ${u.testFields.indexOf(I)+1} (CBC, Lipid Profile, Thyroid TSH, LFT, KFT...)`,value:I.name,onChange:W=>b(I.id,W.target.value),className:"flex-1 p-3 border border-gray-200 rounded-xl focus:border-purple-400 focus:ring-2 focus:ring-purple-100 text-lg bg-white"}),u.testFields.length>1&&o.jsx("button",{onClick:()=>x(I.id),className:"px-4 py-3 bg-red-500 hover:bg-red-600 text-white rounded-2xl font-bold text-sm transition-all group-hover:scale-105 flex-shrink-0 shadow-md hover:shadow-lg",title:"Remove Test",children:""})]},I.id))}),o.jsx("button",{onClick:k,className:"w-full p-4 border-2 border-dashed border-purple-300 bg-purple-50 hover:bg-purple-100 text-purple-700 font-bold rounded-2xl transition-all hover:border-purple-400 flex items-center justify-center gap-2 hover:shadow-md text-lg mb-4",children:"+ Add Another Test Field"})]}),o.jsxs("button",{onClick:_,disabled:!u.name.trim()||u.testFields.filter(I=>I.name.trim()).length===0,className:"col-span-full lg:col-span-1 p-5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold rounded-2xl shadow-lg hover:shadow-xl transition-all text-xl disabled:opacity-50 disabled:cursor-not-allowed",children:["Create Lab",o.jsxs("span",{className:"block text-sm mt-1",children:["(",u.testFields.filter(I=>I.name.trim()).length," tests)"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(I=>o.jsxs("div",{className:"group bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl border border-gray-200 hover:border-purple-300 transition-all overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center text-white font-bold text-lg",children:"LB"}),o.jsx("button",{onClick:()=>j(I.id),className:"px-3 py-2 bg-red-500 hover:bg-red-600 text-white text-xs font-bold rounded-xl transition-all opacity-0 group-hover:opacity-100 group-hover:scale-105 shadow-md hover:shadow-lg",title:"Delete Lab",children:"Delete"})]}),o.jsx("h3",{className:"font-bold text-xl text-gray-800 mb-3 truncate",children:I.name}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[I.available_tests.slice(0,4).map(W=>o.jsx("span",{className:"bg-purple-50 text-purple-700 px-3 py-1 rounded-full text-sm font-medium border border-purple-100",children:W},W)),I.available_tests.length>4&&o.jsxs("span",{className:"bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs font-medium",children:["+",I.available_tests.length-4," more"]})]}),o.jsxs("p",{className:"text-xs text-gray-500",children:[I.available_tests.length," tests total"]})]},I.id))})]}),o.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-lg border border-gray-200 mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["Doctors (",e.length,")"]}),o.jsx("button",{onClick:v,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-all",children:"Refresh"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(I=>o.jsxs("div",{className:"p-6 bg-gray-50 rounded-2xl hover:shadow-lg transition-all border border-gray-200 hover:border-blue-300 group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white font-bold text-sm",children:"DR"}),o.jsx("button",{onClick:()=>p(I.id),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white text-xs font-bold rounded-lg transition-all group-hover:scale-105",children:"Delete"})]}),o.jsx("h4",{className:"font-bold text-xl text-gray-800 mb-2",children:I.name}),o.jsx("p",{className:"text-blue-600 font-semibold mb-2 px-3 py-1 bg-blue-50 rounded-full inline-block text-sm border border-blue-100",children:I.specialty}),o.jsx("p",{className:"text-sm text-gray-600 mb-2 truncate",children:I.email}),o.jsx("p",{className:"text-xs text-gray-500",children:I.phone||"No phone"})]},I.id))})]}),o.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-lg border border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:["Patients (",r.length,")"]}),o.jsx("button",{onClick:v,className:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-medium transition-all",children:"Refresh"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.slice(0,6).map(I=>o.jsxs("div",{className:"p-6 bg-gray-50 rounded-2xl hover:shadow-lg transition-all border border-gray-200 hover:border-emerald-300 group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center text-white font-bold text-sm",children:"PT"}),o.jsx("button",{onClick:()=>N(I.id),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white text-xs font-bold rounded-lg transition-all group-hover:scale-105",children:"Delete"})]}),o.jsx("h4",{className:"font-bold text-xl text-gray-800 mb-2",children:I.name}),o.jsx("p",{className:"text-sm text-gray-600 mb-2 truncate",children:I.email}),I.phone&&o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:I.phone}),I.age&&o.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["Age: ",I.age]})]},I.id))}),r.length>6&&o.jsx("div",{className:"text-center mt-8",children:o.jsxs(Ir,{to:"/admin/patients",className:"text-blue-600 hover:text-blue-700 font-semibold underline",children:["View All ",r.length," Patients "]})})]})]})},Ij=()=>{var bt,xt;const[e,t]=X.useState([]),[r,n]=X.useState([]),[s,i]=X.useState(null),[a,l]=X.useState(!0),[u,d]=X.useState([]),[f,g]=X.useState(!1),[v,p]=X.useState(null),[N,j]=X.useState({}),[k,x]=X.useState(""),[b,_]=X.useState([]),[S,I]=X.useState(!1),[W,G]=X.useState([]),[q,T]=X.useState(null),[H,P]=X.useState(!1),[F,K]=X.useState(!1),[J,ce]=X.useState([]),[fe,he]=X.useState(!1),[Y,ae]=X.useState(null),[ge,me]=X.useState({start:"09:00",end:"11:59"}),[C,z]=X.useState({start:"12:00",end:"18:00"}),[V,Z]=X.useState({start:"18:00",end:"22:00"}),te=JSON.parse(localStorage.getItem("user")||"{}");X.useEffect(()=>{Le();const re=setInterval(()=>{s&&(Re(s),ie(s))},1e4);return()=>clearInterval(re)},[s]);const ie=async re=>{try{const{data:Ae,error:je}=await We.from("doctors_assignments").select("*").eq("doctor_id",re).order("created_at",{ascending:!1});if(je)throw je;ce(Ae||[])}catch(Ae){console.error("Error fetching assistant assignments:",Ae)}},de=async re=>{if(confirm("EMERGENCY! Delay first waiting patient by 30 minutes?"))try{const Ae=e.find(je=>je.status==="waiting");if(Ae){const je=new Date(Ae.created_at),qe=new Date(je.getTime()+30*60*1e3);await We.from("patient_queue").update({created_at:qe.toISOString(),status:"delayed_emergency"}).eq("id",Ae.id),await We.from("doctors_assignments").update({handled:!0}).eq("id",re),alert("Emergency patient prioritized! First waiting patient delayed 30 mins"),Re(s),ie(s)}else alert("No waiting patients to delay")}catch(Ae){console.error("Emergency error:",Ae),alert("Emergency action failed")}},pe=async()=>{const{data:re}=await We.from("labs").select("*");d(re||[])},we=async()=>{const{data:re}=await We.from("medicines").select("*").order("name");_(re||[])},Le=async()=>{let re=te.id;if(te.email){const{data:Ae}=await We.from("doctors").select("id, image").eq("email",te.email).single();Ae!=null&&Ae.id&&(re=Ae.id),Ae!=null&&Ae.image&&T(Ae.image)}re&&(i(re),await Promise.all([Oe(re),Re(re),ie(re),pe(),we()])),l(!1)},Re=async re=>{const{data:Ae}=await We.from("patient_queue").select(`
        *, 
        patients (
          id, name, email, phone, age
        )
      `).eq("doctor_id",re).in("status",["waiting","lab_pending","completed_15min","delayed_emergency"]).order("created_at",{ascending:!1});t(Ae||[])},Oe=async re=>{const Ae=new Date().toISOString().split("T")[0],{data:je}=await We.from("doctor_schedules").select("*").eq("doctor_id",re).eq("date",Ae).order("slot_type");n(je||[]),je==null||je.forEach(qe=>{qe.slot_type==="morning"&&me({start:qe.start_time,end:qe.end_time}),qe.slot_type==="afternoon"&&z({start:qe.start_time,end:qe.end_time}),qe.slot_type==="night"&&Z({start:qe.start_time,end:qe.end_time})})},ze=async(re,Ae,je)=>{try{if(!s)return;const qe=new Date().toISOString().split("T")[0],{data:et}=await We.from("doctor_schedules").select("id").eq("doctor_id",s).eq("date",qe).eq("slot_type",re).maybeSingle();let Ke;const tt={start_time:Ae,end_time:je,is_available:!0};et?Ke=await We.from("doctor_schedules").update(tt).eq("id",et.id):Ke=await We.from("doctor_schedules").insert([{...tt,doctor_id:s,slot_type:re,date:qe}]),Ke.error?(console.error("Save error:",Ke.error),alert(" Save failed")):(alert(` ${re.toUpperCase()} slot saved!`),Oe(s))}catch(qe){console.error("Save error:",qe),alert(" Save failed")}},E=async re=>{confirm("Mark patient as completed?")&&(await We.from("patient_queue").update({status:"completed"}).eq("id",re),alert("Patient completed and removed from queue."),Re(s))},ve=re=>{p(re),j({}),x(""),g(!0)},Ce=re=>{p(re),G([]),I(!0)},Ie=async()=>{if(W.length===0){alert("Select at least one medicine");return}const Ae=b.filter(je=>W.includes(je.id)).map(je=>`${je.name} (${je.type}) - ${je.company}`).join(", ");await We.from("pharmacy_requests").insert([{patient_id:v.patients.id,doctor_id:s,medicine:Ae,medicine_ids:W,status:"pending"}]),alert("Prescription sent to Pharmacy!"),I(!1),G([])},Ne=re=>{x(re===k?"":re)},Qe=(re,Ae)=>{j(je=>{const qe=je[re]||[],et=qe.includes(Ae)?qe.filter(Ke=>Ke!==Ae):[...qe,Ae];return{...je,[re]:et}})},De=async()=>{var Ae;const re=Object.values(N).flat();if(!k){alert("Please select a lab first!");return}if(re.length===0){alert("Select at least 1 test!");return}try{console.log("Submitting lab request:",{patientQueueId:v.id,patientId:(Ae=v.patients)==null?void 0:Ae.id,doctorId:s,labName:k,tests:re});const{error:je}=await We.from("patient_queue").update({status:"lab_pending"}).eq("id",v.id);if(je)throw console.error("Queue update error:",je),new Error("Failed to update patient status");const qe={patient_queue_id:v.id,patient_id:v.patients.id,doctor_id:s,lab_name:k,tests_ordered:re,status:"pending",created_at:new Date().toISOString()};console.log("Inserting lab request:",qe);const{error:et,data:Ke}=await We.from("lab_requests").insert([qe]).select().single();if(et)throw console.error("Lab insert error:",et),new Error(`Failed to create lab request: ${et.message}`);console.log("Lab request SUCCESS:",Ke),alert(`${re.length} tests sent to ${k}!`),g(!1),j({}),x(""),Re(s)}catch(je){console.error("Lab request FAILED:",je),alert(`Failed to send tests: ${je.message}`)}},Ze=async re=>{var qe,et;const Ae=re.target.files[0];if(!Ae)return;K(!0);const je=new FormData;je.append("file",Ae),je.append("upload_preset","hospital_preset"),je.append("folder","public");try{const tt=await(await fetch("https://api.cloudinary.com/v1_1/dhc3fnbl2/image/upload",{method:"POST",body:je})).json();tt.secure_url?await $e(tt.secure_url):(console.error("Cloudinary error:",((qe=tt.error)==null?void 0:qe.message)||tt),alert(`Cloudinary Error: ${(et=tt.error)==null?void 0:et.message}

1. Go to Cloudinary Settings > Upload
2. Add 'Upload Preset'
3. Name: hospital_preset
4. Mode: Unsigned`))}catch(Ke){console.error("Error uploading image:",Ke),alert("Failed to upload image")}finally{K(!1)}},$e=async re=>{try{const{error:Ae}=await We.from("doctors").update({image:re}).eq("id",s);if(Ae)throw Ae;T(re),alert("Profile picture updated!")}catch(Ae){console.error("Error updating profile:",Ae),alert("Failed to update profile in database")}},Lt=async re=>{await We.from("doctors_assignments").update({handled:!0}).eq("id",re);const{data:Ae}=await We.from("patient_queue").select("id").eq("doctor_id",s).eq("status","delayed_emergency").limit(1).single();Ae&&await We.from("patient_queue").update({status:"waiting"}).eq("id",Ae.id),ie(s),Re(s)},yt=re=>{ae(re),he(!0)},ct=[{type:"morning",title:"Morning",state:ge,setState:me,save:()=>ze("morning",ge.start,ge.end)},{type:"afternoon",title:"Afternoon",state:C,setState:z,save:()=>ze("afternoon",C.start,C.end)},{type:"night",title:"Night",state:V,setState:Z,save:()=>ze("night",V.start,V.end)}];return a?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-amber-50 via-white to-amber-50",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-20 h-20 border-4 border-emerald-300 border-t-emerald-600 rounded-full animate-spin mx-auto mb-4"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full animate-pulse"})})]}),o.jsx("p",{className:"text-xl text-amber-600",children:"Loading Doctor Dashboard..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 via-white to-amber-50 p-4 md:p-8 font-sans",children:[o.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-10",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(16, 185, 129, 0.1) 1px, transparent 0)",backgroundSize:"40px 40px"}})}),o.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"bg-white/90 backdrop-blur-xl rounded-2xl shadow-xl shadow-amber-200/50 border border-amber-100 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative cursor-pointer group",onClick:()=>P(!0),children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-teal-400 rounded-xl blur-lg opacity-30 animate-pulse group-hover:opacity-50 transition-opacity"}),o.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-xl flex items-center justify-center overflow-hidden border-2 border-transparent group-hover:border-white/40 transition-all",children:q?o.jsx("img",{src:q,alt:"Profile",className:"w-full h-full object-cover"}):o.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),o.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-white rounded-full flex items-center justify-center border border-amber-200 shadow-sm",children:o.jsx("svg",{className:"w-3 h-3 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})})]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-amber-900",children:"Doctor Dashboard"}),o.jsxs("p",{className:"text-emerald-600 mt-1",children:["Dr. ",te.name]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("div",{className:"bg-white rounded-xl px-4 py-2 border border-amber-200 shadow-sm",children:[o.jsx("span",{className:"text-amber-500 text-sm",children:"Waiting"}),o.jsx("p",{className:"text-2xl font-bold text-amber-900",children:e.filter(re=>re.status==="waiting").length})]}),o.jsxs("div",{className:"bg-white rounded-xl px-4 py-2 border border-amber-200 shadow-sm",children:[o.jsx("span",{className:"text-purple-500 text-sm",children:"Lab Pending"}),o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.filter(re=>re.status==="lab_pending").length})]}),o.jsxs("div",{className:"bg-white rounded-xl px-4 py-2 border border-amber-200 shadow-sm",children:[o.jsx("span",{className:"text-amber-500 text-sm",children:"15min Timer"}),o.jsx("p",{className:"text-2xl font-bold text-amber-600",children:e.filter(re=>re.status==="completed_15min").length})]}),o.jsxs("div",{className:"bg-white rounded-xl px-4 py-2 border border-amber-200 shadow-sm",children:[o.jsx("span",{className:"text-indigo-500 text-sm",children:"Assistant"}),o.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:J.length})]})]})]})})}),J.length>0&&o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-xl rounded-2xl shadow-xl shadow-amber-200/50 border border-amber-100 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-b border-amber-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"text-xl font-bold text-amber-900 flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),"Assistant Assignments (",J.length,")"]}),o.jsx("button",{onClick:()=>ie(s),className:"px-3 py-1.5 bg-white hover:bg-amber-50 text-amber-600 rounded-lg text-sm font-medium transition-all border border-amber-200",children:"Refresh"})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:J.slice(0,6).map(re=>o.jsx("div",{className:"bg-white rounded-xl border border-amber-200 hover:border-indigo-300 transition-all duration-300 group shadow-sm hover:shadow-md",children:o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-lg flex items-center justify-center text-white",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-amber-900 group-hover:text-indigo-600 transition-colors",children:re.patient_name}),o.jsx("p",{className:"text-xs text-amber-500",children:new Date(re.created_at).toLocaleTimeString()})]})]}),o.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-600 text-xs rounded-full border border-indigo-200",children:["Room ",re.room_no]})]}),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsxs("button",{onClick:()=>de(re.id),className:"flex-1 bg-red-50 hover:bg-red-100 text-red-600 hover:text-red-700 px-3 py-2 rounded-lg text-sm font-medium transition-all border border-red-200 flex items-center justify-center gap-1",children:[o.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),"Emergency"]}),o.jsx("button",{onClick:()=>Lt(re.id),className:"px-3 py-2 bg-white hover:bg-amber-50 text-amber-600 rounded-lg text-sm font-medium transition-all border border-amber-200",children:" Seen"})]})]})},re.id))}),J.length>6&&o.jsx("div",{className:"mt-4 text-center",children:o.jsxs("p",{className:"text-sm text-amber-500",children:["+",J.length-6," more assignments"]})})]})]})}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-xl font-bold text-amber-900 mb-4 flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5 text-emerald-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Today's Schedule"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:ct.map((re,Ae)=>{const je=r.find(qe=>qe.slot_type===re.type);return o.jsx("div",{className:`bg-white/90 backdrop-blur-xl rounded-xl border transition-all duration-300 shadow-sm ${je?"border-emerald-300 bg-emerald-50/50":"border-amber-200 hover:border-blue-300"}`,children:o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${je?"bg-emerald-100 text-emerald-600":"bg-amber-100 text-amber-500"}`,children:[re.type==="morning"&&o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}),re.type==="afternoon"&&o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),re.type==="night"&&o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-amber-900 capitalize",children:re.title}),o.jsx("p",{className:"text-xs text-amber-500",children:je?"Active":"Inactive"})]})]}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-amber-500 mb-1",children:"Start Time"}),o.jsx("input",{type:"time",value:re.state.start,onChange:qe=>re.setState({...re.state,start:qe.target.value}),className:"w-full px-3 py-2 bg-white border border-amber-200 rounded-lg text-amber-900 text-sm focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-500 transition-all outline-none"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-amber-500 mb-1",children:"End Time"}),o.jsx("input",{type:"time",value:re.state.end,onChange:qe=>re.setState({...re.state,end:qe.target.value}),className:"w-full px-3 py-2 bg-white border border-amber-200 rounded-lg text-amber-900 text-sm focus:ring-2 focus:ring-emerald-500/30 focus:border-emerald-500 transition-all outline-none"})]})]}),o.jsx("button",{onClick:re.save,className:`w-full py-2 px-3 rounded-lg text-sm font-medium transition-all ${je?"bg-emerald-100 text-emerald-600 hover:bg-emerald-200 border border-emerald-200":"bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-600 hover:from-blue-200 hover:to-indigo-200 border border-blue-200"}`,children:je?" Active":"Save Slot"})]})},Ae)})})]}),o.jsxs("div",{className:"bg-white/90 backdrop-blur-xl rounded-2xl shadow-xl shadow-amber-200/50 border border-amber-100 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 px-6 py-4 border-b border-amber-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"text-xl font-bold text-amber-900 flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5 text-emerald-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z"})}),"Patient Queue"]}),o.jsxs("span",{className:"flex items-center gap-1 text-sm text-emerald-600",children:[o.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),"Live"]})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200 shadow-sm",children:[o.jsx("p",{className:"text-xs text-amber-500",children:"Waiting"}),o.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:e.filter(re=>re.status==="waiting").length})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200 shadow-sm",children:[o.jsx("p",{className:"text-xs text-purple-500",children:"Lab Pending"}),o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.filter(re=>re.status==="lab_pending").length})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200 shadow-sm",children:[o.jsx("p",{className:"text-xs text-amber-500",children:"15min Timer"}),o.jsx("p",{className:"text-2xl font-bold text-amber-600",children:e.filter(re=>re.status==="completed_15min").length})]}),o.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200 shadow-sm",children:[o.jsx("p",{className:"text-xs text-red-500",children:"Delayed"}),o.jsx("p",{className:"text-2xl font-bold text-red-600",children:e.filter(re=>re.status==="delayed_emergency").length})]})]}),o.jsx("div",{className:"space-y-3",children:e.slice(0,10).map((re,Ae)=>{const je=re.patients,qe=Ae===0&&re.status==="waiting",et=re.status==="completed_15min",Ke=re.status==="delayed_emergency",tt=re.status==="lab_pending";return o.jsx("div",{className:`rounded-lg border transition-all duration-300 ${tt?"bg-purple-50 border-purple-200":et?"bg-amber-50 border-amber-200":Ke?"bg-red-50 border-red-200":qe?"bg-emerald-50 border-emerald-200 scale-[1.02] shadow-md shadow-emerald-200/50":"bg-white border-amber-200 hover:border-blue-300"}`,children:o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center text-lg font-bold ${tt?"bg-purple-100 text-purple-600":et?"bg-amber-100 text-amber-600":Ke?"bg-red-100 text-red-600":qe?"bg-emerald-100 text-emerald-600":"bg-amber-100 text-amber-600"}`,children:tt?"":et?"":Ke?"":qe?"NEXT":Ae+1}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-amber-900 flex items-center gap-2",children:[je==null?void 0:je.name,re.is_new_patient&&o.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-600 text-xs rounded-full border border-blue-200",children:"New Patient"})]}),o.jsx("p",{className:"text-sm text-amber-500",children:je==null?void 0:je.email}),o.jsxs("div",{className:"text-xs text-amber-400 mt-1 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{children:Ke?"Emergency Delay (30min)":et?"Completing in 15min":tt?"Lab tests pending":`Est: ${Ae*15}min`}),re.emergency_level&&o.jsx("span",{className:`font-bold capitalize px-1.5 py-0.5 rounded-full text-white text-xs ${re.emergency_level==="high"?"bg-red-500":re.emergency_level==="medium"?"bg-orange-500":"bg-green-500"}`,children:re.emergency_level})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${tt?"bg-purple-100 text-purple-600 border border-purple-200":et?"bg-amber-100 text-amber-600 border border-amber-200":Ke?"bg-red-100 text-red-600 border border-red-200":"bg-amber-100 text-amber-600 border border-amber-200"}`,children:re.status.replace("_"," ").toUpperCase()}),re.prescription_image_url&&o.jsx("button",{onClick:()=>yt(re.prescription_image_url),className:"px-3 py-1.5 bg-sky-100 hover:bg-sky-200 text-sky-600 rounded-lg text-sm font-medium transition-all border border-sky-200",children:"Prescription"}),re.status==="waiting"&&!Ke&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>ve(re),className:"px-3 py-1.5 bg-purple-100 hover:bg-purple-200 text-purple-600 rounded-lg text-sm font-medium transition-all border border-purple-200",children:"Lab"}),o.jsx("button",{onClick:()=>Ce(re),className:"px-3 py-1.5 bg-orange-100 hover:bg-orange-200 text-orange-600 rounded-lg text-sm font-medium transition-all border border-orange-200",children:"Prescribe"}),o.jsx("button",{onClick:()=>E(re.id),className:"px-3 py-1.5 bg-emerald-100 hover:bg-emerald-200 text-emerald-600 rounded-lg text-sm font-medium transition-all border border-emerald-200",children:"Complete"})]})]})]})})},re.id)})})]})]})]}),f&&v&&o.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl shadow-amber-200/50 border border-amber-100 max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 px-6 py-4 border-b border-amber-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-amber-900 flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4-3h2v13h-2z"})}),"Lab Tests: ",(bt=v.patients)==null?void 0:bt.name]}),o.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"Select lab and tests to send"})]}),o.jsx("button",{onClick:()=>g(!1),className:"w-8 h-8 bg-white hover:bg-amber-50 rounded-lg flex items-center justify-center text-amber-400 hover:text-amber-600 transition-all border border-amber-200",children:""})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-sm font-semibold text-amber-700 mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-4 bg-purple-500 rounded-full"}),"Select Laboratory"]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:u.map(re=>o.jsxs("button",{onClick:()=>Ne(re.name),className:`p-3 rounded-lg border transition-all text-left ${k===re.name?"bg-purple-100 border-purple-300 text-purple-700":"bg-white border-amber-200 text-amber-600 hover:border-purple-300 hover:bg-purple-50"}`,children:[o.jsx("div",{className:"font-medium text-sm",children:re.name}),o.jsxs("div",{className:"text-xs opacity-60 mt-1",children:[re.available_tests.length," tests"]})]},re.id))})]}),k&&o.jsxs("div",{children:[o.jsxs("h3",{className:"text-sm font-semibold text-amber-700 mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-4 bg-emerald-500 rounded-full"}),"Select Tests"]}),o.jsx("div",{className:"space-y-4",children:u.filter(re=>re.name===k).map(re=>o.jsx("div",{className:"bg-white rounded-xl border border-amber-200 p-4",children:o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:re.available_tests.map((Ae,je)=>{var qe,et;return o.jsxs("label",{className:`flex items-center p-2 rounded-lg cursor-pointer transition-all ${(qe=N[re.id])!=null&&qe.includes(Ae)?"bg-emerald-100 border border-emerald-200":"bg-white hover:bg-amber-50 border border-amber-200"}`,children:[o.jsx("input",{type:"checkbox",checked:((et=N[re.id])==null?void 0:et.includes(Ae))||!1,onChange:()=>Qe(re.id,Ae),className:"w-4 h-4 text-emerald-600 rounded border-amber-300 bg-white focus:ring-emerald-500/30 focus:ring-offset-0"}),o.jsx("span",{className:"ml-2 text-sm text-amber-700",children:Ae})]},je)})})},re.id))})]}),o.jsxs("div",{className:"mt-6 flex items-center justify-between pt-4 border-t border-amber-200",children:[o.jsxs("span",{className:"text-sm text-amber-600",children:[Object.values(N).flat().length," tests selected"]}),o.jsxs("button",{onClick:De,disabled:!k||Object.values(N).flat().length===0,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg hover:shadow-emerald-500/30 transition-all",children:["Send to ",k||"Lab"]})]})]})]})}),S&&v&&o.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-amber-100 max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[o.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 px-6 py-4 border-b border-amber-100 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-amber-900",children:"Prescribe Medicine"}),o.jsxs("p",{className:"text-sm text-amber-600",children:["Patient: ",(xt=v.patients)==null?void 0:xt.name]})]}),o.jsx("button",{onClick:()=>I(!1),className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center text-amber-400 hover:text-amber-600 border border-amber-200",children:""})]}),o.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:b.map(re=>o.jsxs("label",{className:`flex items-center p-3 rounded-xl border cursor-pointer transition-all ${W.includes(re.id)?"bg-orange-50 border-orange-300 ring-1 ring-orange-300":"bg-white border-gray-200 hover:border-orange-200"}`,children:[re.image_url&&o.jsx("img",{src:re.image_url,alt:re.name,className:"w-12 h-12 rounded-lg object-cover mr-3"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-gray-800",children:re.name}),o.jsx("p",{className:"text-xs text-gray-500",children:re.company}),o.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[o.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100 rounded-full text-gray-600",children:re.type}),re.strength&&o.jsxs("span",{className:"text-xs px-2 py-0.5 bg-blue-50 rounded-full text-blue-600 font-medium",children:[re.strength,re.unit]})]})]}),o.jsx("input",{type:"checkbox",checked:W.includes(re.id),onChange:Ae=>{Ae.target.checked?G([...W,re.id]):G(W.filter(je=>je!==re.id))},className:"ml-3 w-5 h-5 text-orange-500 rounded border-gray-300 focus:ring-orange-500"})]},re.id))})}),o.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:[W.length," medicines selected"]}),o.jsx("button",{onClick:Ie,className:"px-6 py-2 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg font-medium hover:shadow-lg hover:shadow-orange-500/30 transition-all",children:"Submit Prescription"})]})]})}),fe&&Y&&o.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl shadow-amber-200/50 border border-amber-100 max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-sky-50 to-blue-50 px-6 py-4 border-b border-amber-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{children:o.jsxs("h2",{className:"text-xl font-bold text-amber-900 flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5 text-sky-600",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm0 14H4V6h16v12zM7 10h2v7H7zm4-3h2v10h-2zm4-3h2v13h-2z"})}),"Prescription"]})}),o.jsx("button",{onClick:()=>he(!1),className:"w-8 h-8 bg-white hover:bg-amber-50 rounded-lg flex items-center justify-center text-amber-400 hover:text-amber-600 transition-all border border-amber-200",children:""})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)] flex items-center justify-center",children:o.jsx("img",{src:Y,alt:"Prescription",className:"max-w-full h-auto rounded-lg shadow-lg"})})]})}),H&&o.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-amber-100 max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-amber-900",children:"Profile Settings"}),o.jsx("button",{onClick:()=>P(!1),className:"w-8 h-8 bg-white hover:bg-amber-50 rounded-lg flex items-center justify-center text-amber-400 hover:text-amber-600 transition-all border border-amber-200",children:""})]}),o.jsxs("div",{className:"flex flex-col items-center gap-6",children:[o.jsxs("div",{className:"relative w-32 h-32 rounded-full overflow-hidden border-4 border-emerald-200 shadow-xl shadow-emerald-200/30",children:[q?o.jsx("img",{src:q,alt:"Profile",className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full bg-amber-100 flex items-center justify-center text-4xl",children:o.jsx("svg",{className:"w-16 h-16 text-amber-400",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),F&&o.jsx("div",{className:"absolute inset-0 bg-white/80 flex items-center justify-center backdrop-blur-sm",children:o.jsx("div",{className:"w-8 h-8 border-2 border-emerald-600 border-t-transparent rounded-full animate-spin"})})]}),o.jsxs("label",{className:`cursor-pointer bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-400 hover:to-teal-400 text-white px-6 py-2.5 rounded-xl font-medium transition-all shadow-lg shadow-emerald-500/20 flex items-center gap-2 ${F?"opacity-50 cursor-not-allowed":""}`,children:[F?"Uploading...":"Change Picture",o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Ze,disabled:F})]}),o.jsx("p",{className:"text-xs text-amber-500",children:"Supported formats: JPG, PNG, WEBP"})]})]})}),o.jsx("style",{jsx:!0,children:`
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.5; }
          50% { opacity: 0.8; }
        }
        
        .animate-pulse-slow {
          animation: pulse-slow 3s ease-in-out infinite;
        }
      `})]})},Dj=()=>{var j,k;const[e,t]=X.useState([]),[r,n]=X.useState(null),[s,i]=X.useState(!0),[a,l]=X.useState({pending:0,completed:0}),u=JSON.parse(localStorage.getItem("user")||"{}");X.useEffect(()=>{d();const x=We.channel("lab_requests");return x.on("postgres_changes",{event:"*",schema:"public",table:"lab_requests"},b=>{console.log("New lab request:",b),r!=null&&r.name&&f(r.name)}).subscribe(),()=>{We.removeChannel(x)}},[r==null?void 0:r.name]);const d=async()=>{try{if(console.log("User from localStorage:",u),!u.name){alert("No lab session found. Please login again."),i(!1);return}const{data:x,error:b}=await We.from("labs").select("id, name, available_tests").eq("name",u.name).single();if(b||!x){console.error("Lab not found:",b),alert(`Lab "${u.name}" not found. Please check your credentials.`),i(!1);return}console.log("Lab found:",x.id,x.name),n({id:x.id,name:x.name,labs:x,lab_id:x.id}),f(x.name),i(!1)}catch(x){console.error("Lab init error:",x),alert("Failed to initialize lab session. Please try again."),i(!1)}},f=async x=>{try{console.log("Fetching lab requests for:",x);const{data:b,error:_}=await We.from("lab_requests").select(`
          id, patient_queue_id, patient_id, doctor_id, lab_name, 
          tests_ordered, status, created_at, completed_at
        `).eq("lab_name",x).in("status",["pending","in_progress","completed"]).order("created_at",{ascending:!1});if(_){console.error("Requests error:",_);return}const S=(b==null?void 0:b.map(P=>P.patient_id).filter(Boolean))||[],{data:I}=await We.from("patients").select("id, name, phone, age").in("id",S),W=(b==null?void 0:b.map(P=>P.doctor_id).filter(Boolean))||[],{data:G}=await We.from("doctors").select("id, name").in("id",W),q=(b==null?void 0:b.map(P=>P.patient_queue_id).filter(Boolean))||[],{data:T}=await We.from("patient_queue").select("id, position, status, slot_type").in("id",q),H=(b==null?void 0:b.map(P=>({...P,patients:I==null?void 0:I.find(F=>F.id===P.patient_id),doctors:G==null?void 0:G.find(F=>F.id===P.doctor_id),patient_queue:T==null?void 0:T.find(F=>F.id===P.patient_queue_id)})))||[];console.log("Enriched requests:",H.length),t(H),l({pending:H.filter(P=>P.status==="pending").length,completed:H.filter(P=>P.status==="completed").length})}catch(b){console.error("Fetch requests error:",b)}},g=async(x,b)=>{try{const{error:_}=await We.from("lab_requests").update({status:b,completed_at:b==="completed"?new Date().toISOString():null}).eq("id",x);if(!_){if(b==="completed"){const S=e.find(I=>I.id===x);S!=null&&S.patient_queue_id&&await We.from("patient_queue").update({status:"waiting"}).eq("id",S.patient_queue_id)}f(r.name),alert(`Status updated to ${b.toUpperCase()}`)}}catch(_){console.error("Update error:",_),alert("Failed to update status. Please try again.")}},v=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/"},p=x=>x?new Date(x).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",N=x=>{switch(x){case"pending":return{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200",dot:"bg-amber-500"};case"in_progress":return{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200",dot:"bg-blue-500"};case"completed":return{bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-200",dot:"bg-emerald-500"};default:return{bg:"bg-gray-50",text:"text-gray-700",border:"border-gray-200",dot:"bg-gray-500"}}};return s?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-6"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-full opacity-20 animate-pulse"})})]}),o.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading dashboard..."}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait while we fetch your data"})]})}):r?o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[o.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200/50 sticky top-0 z-10",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-20",children:[o.jsxs("div",{className:"flex items-center space-x-8",children:[o.jsxs(Ir,{to:"/",className:"inline-flex items-center text-sm text-gray-600 hover:text-indigo-600 transition-colors group",children:[o.jsx("svg",{className:"w-5 h-5 mr-1 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),o.jsx("div",{className:"h-8 w-px bg-gray-200"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Lab Dashboard"}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2"}),o.jsx("p",{className:"text-sm text-gray-600",children:r.name})]})]})]}),o.jsxs("button",{onClick:v,className:"inline-flex items-center px-4 py-2 text-sm text-gray-700 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all shadow-sm hover:shadow",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign out"]})]})})}),o.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-all",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-4xl font-light text-gray-900",children:a.pending}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Pending tests"})]}),o.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-xl flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-all",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-4xl font-light text-gray-900",children:a.completed}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Completed tests"})]}),o.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-xl flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-all",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-4xl font-light text-gray-900",children:((k=(j=r.labs)==null?void 0:j.available_tests)==null?void 0:k.length)||0}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Available tests"})]}),o.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})})]})})]}),e.length>0?o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Current Lab Requests"}),o.jsxs("span",{className:"text-sm text-gray-500 bg-white px-3 py-1 rounded-full border border-gray-200",children:[e.length," total"]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(x=>{var _,S,I,W;const b=N(x.status);return o.jsxs("div",{className:"group bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[o.jsxs("div",{className:"p-6 border-b border-gray-100",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl flex items-center justify-center",children:o.jsxs("span",{className:"text-indigo-700 font-medium text-sm",children:["#",((_=x.patient_queue)==null?void 0:_.position)||""]})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:((S=x.patients)==null?void 0:S.name)||"Unknown Patient"}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Dr. ",((I=x.doctors)==null?void 0:I.name)||"Unknown"]})]})]})}),o.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${b.bg} ${b.text} ${b.border}`,children:[o.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${b.dot} mr-1.5`}),x.status.replace("_"," ")]})]}),o.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[o.jsx("svg",{className:"w-3.5 h-3.5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Ordered: ",p(x.created_at)]})]}),o.jsxs("div",{className:"p-6 bg-gray-50/50",children:[o.jsxs("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-3 flex items-center",children:[o.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Ordered Tests (",((W=x.tests_ordered)==null?void 0:W.length)||0,")"]}),o.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto custom-scrollbar pr-2",children:x.tests_ordered&&x.tests_ordered.length>0?x.tests_ordered.map((G,q)=>{var T,H;return o.jsxs("div",{className:"flex items-center justify-between py-1.5 px-3 bg-white rounded-lg border border-gray-100",children:[o.jsx("span",{className:"text-sm text-gray-900",children:G}),((H=(T=r.labs)==null?void 0:T.available_tests)==null?void 0:H.includes(G))&&o.jsx("span",{className:"text-xs px-2 py-0.5 bg-emerald-50 text-emerald-700 rounded-full border border-emerald-200",children:"Available"})]},q)}):o.jsx("p",{className:"text-sm text-gray-400 italic text-center py-4",children:"No tests specified"})})]}),o.jsxs("div",{className:"p-6 bg-white border-t border-gray-100",children:[x.status==="pending"&&o.jsx("button",{onClick:()=>g(x.id,"in_progress"),className:"w-full px-4 py-2.5 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white text-sm font-medium rounded-xl hover:from-indigo-700 hover:to-indigo-800 transition-all shadow-sm hover:shadow-md mb-3",children:"Start Processing"}),(x.status==="pending"||x.status==="in_progress")&&o.jsx("button",{onClick:()=>g(x.id,"completed"),className:"w-full px-4 py-2.5 border-2 border-gray-200 text-gray-700 text-sm font-medium rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all",children:"Mark as Completed"}),x.status==="completed"&&o.jsx("div",{className:"text-center py-2",children:o.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-emerald-50 rounded-xl",children:[o.jsx("svg",{className:"w-4 h-4 text-emerald-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.jsxs("p",{className:"text-sm text-emerald-700",children:["Completed ",x.completed_at&&p(x.completed_at)]})]})})]})]},x.id)})})]}):o.jsxs("div",{className:"text-center py-24",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-32 h-32 mx-auto mb-8 bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-3xl flex items-center justify-center",children:o.jsx("svg",{className:"w-16 h-16 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),o.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-emerald-400 rounded-full flex items-center justify-center text-white text-sm font-bold animate-pulse",children:""})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"All caught up!"}),o.jsx("p",{className:"text-gray-500 mb-8 max-w-sm mx-auto",children:"No pending tests at the moment. New lab requests will appear here automatically."}),o.jsxs("button",{onClick:()=>f(r.name),className:"inline-flex items-center px-4 py-2 bg-white border border-gray-200 rounded-xl text-gray-700 hover:bg-gray-50 hover:border-gray-300 transition-all shadow-sm",children:[o.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})]}),o.jsx("style",{jsx:!0,children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #f1f1f1;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #cbd5e0;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #a0aec0;
        }
      `})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-8",children:o.jsx("div",{className:"max-w-md w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center border border-gray-100",children:[o.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Session Expired"}),o.jsx("p",{className:"text-gray-600 mb-8",children:"Please log in again to continue with your work."}),o.jsxs(Ir,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-indigo-600 text-white font-medium rounded-xl hover:bg-indigo-700 transition-all transform hover:scale-105 shadow-lg hover:shadow-xl",children:[o.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Return to Login"]})]})})})},Mj="modulepreload",Fj=function(e){return"/"+e},b2={},r0=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=Fj(u),u in b2)return;b2[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":Mj,d||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((v,p)=>{g.addEventListener("load",v),g.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function Ot(e){"@babel/helpers - typeof";return Ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(e)}var js=Uint8Array,Dn=Uint16Array,G1=Int32Array,K1=new js([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),J1=new js([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),w2=new js([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_y=function(e,t){for(var r=new Dn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new G1(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},Ny=_y(K1,2),Bj=Ny.b,Cp=Ny.r;Bj[28]=258,Cp[258]=28;var Uj=_y(J1,0),_2=Uj.r,Pp=new Dn(32768);for(var Wt=0;Wt<32768;++Wt){var Hi=(Wt&43690)>>1|(Wt&21845)<<1;Hi=(Hi&52428)>>2|(Hi&13107)<<2,Hi=(Hi&61680)>>4|(Hi&3855)<<4,Pp[Wt]=((Hi&65280)>>8|(Hi&255)<<8)>>1}var ju=function(e,t,r){for(var n=e.length,s=0,i=new Dn(t);s<n;++s)e[s]&&++i[e[s]-1];var a=new Dn(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;var l;if(r){l=new Dn(1<<t);var u=15-t;for(s=0;s<n;++s)if(e[s])for(var d=s<<4|e[s],f=t-e[s],g=a[e[s]-1]++<<f,v=g|(1<<f)-1;g<=v;++g)l[Pp[g]>>u]=d}else for(l=new Dn(n),s=0;s<n;++s)e[s]&&(l[s]=Pp[a[e[s]-1]++]>>15-e[s]);return l},ro=new js(288);for(var Wt=0;Wt<144;++Wt)ro[Wt]=8;for(var Wt=144;Wt<256;++Wt)ro[Wt]=9;for(var Wt=256;Wt<280;++Wt)ro[Wt]=7;for(var Wt=280;Wt<288;++Wt)ro[Wt]=8;var fh=new js(32);for(var Wt=0;Wt<32;++Wt)fh[Wt]=5;var zj=ju(ro,9,0),$j=ju(fh,5,0),jy=function(e){return(e+7)/8|0},qj=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new js(e.subarray(t,r))},ci=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},au=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},n0=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:ky,l:0};if(s==1){var a=new js(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(I,W){return I.f-W.f}),r.push({s:-1,f:25001});var l=r[0],u=r[1],d=0,f=1,g=2;for(r[0]={s:-1,f:l.f+u.f,l,r:u};f!=s-1;)l=r[r[d].f<r[g].f?d++:g++],u=r[d!=f&&r[d].f<r[g].f?d++:g++],r[f++]={s:-1,f:l.f+u.f,l,r:u};for(var v=i[0].s,n=1;n<s;++n)i[n].s>v&&(v=i[n].s);var p=new Dn(v+1),N=Rp(r[f-1],p,0);if(N>t){var n=0,j=0,k=N-t,x=1<<k;for(i.sort(function(W,G){return p[G.s]-p[W.s]||W.f-G.f});n<s;++n){var b=i[n].s;if(p[b]>t)j+=x-(1<<N-p[b]),p[b]=t;else break}for(j>>=k;j>0;){var _=i[n].s;p[_]<t?j-=1<<t-p[_]++-1:++n}for(;n>=0&&j;--n){var S=i[n].s;p[S]==t&&(--p[S],++j)}N=t}return{t:new js(p),l:N}},Rp=function(e,t,r){return e.s==-1?Math.max(Rp(e.l,t,r+1),Rp(e.r,t,r+1)):t[e.s]=r},N2=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Dn(++t),n=0,s=e[0],i=1,a=function(u){r[n++]=u},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=e[l]}return{c:r.subarray(0,n),n:t}},ou=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Sy=function(e,t,r){var n=r.length,s=jy(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},j2=function(e,t,r,n,s,i,a,l,u,d,f){ci(t,f++,r),++s[256];for(var g=n0(s,15),v=g.t,p=g.l,N=n0(i,15),j=N.t,k=N.l,x=N2(v),b=x.c,_=x.n,S=N2(j),I=S.c,W=S.n,G=new Dn(19),q=0;q<b.length;++q)++G[b[q]&31];for(var q=0;q<I.length;++q)++G[I[q]&31];for(var T=n0(G,7),H=T.t,P=T.l,F=19;F>4&&!H[w2[F-1]];--F);var K=d+5<<3,J=ou(s,ro)+ou(i,fh)+a,ce=ou(s,v)+ou(i,j)+a+14+3*F+ou(G,H)+2*G[16]+3*G[17]+7*G[18];if(u>=0&&K<=J&&K<=ce)return Sy(t,f,e.subarray(u,u+d));var fe,he,Y,ae;if(ci(t,f,1+(ce<J)),f+=2,ce<J){fe=ju(v,p,0),he=v,Y=ju(j,k,0),ae=j;var ge=ju(H,P,0);ci(t,f,_-257),ci(t,f+5,W-1),ci(t,f+10,F-4),f+=14;for(var q=0;q<F;++q)ci(t,f+3*q,H[w2[q]]);f+=3*F;for(var me=[b,I],C=0;C<2;++C)for(var z=me[C],q=0;q<z.length;++q){var V=z[q]&31;ci(t,f,ge[V]),f+=H[V],V>15&&(ci(t,f,z[q]>>5&127),f+=z[q]>>12)}}else fe=zj,he=ro,Y=$j,ae=fh;for(var q=0;q<l;++q){var Z=n[q];if(Z>255){var V=Z>>18&31;au(t,f,fe[V+257]),f+=he[V+257],V>7&&(ci(t,f,Z>>23&31),f+=K1[V]);var te=Z&31;au(t,f,Y[te]),f+=ae[te],te>3&&(au(t,f,Z>>5&8191),f+=J1[te])}else au(t,f,fe[Z]),f+=he[Z]}return au(t,f,fe[256]),f+he[256]},Hj=new G1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ky=new js(0),Vj=function(e,t,r,n,s,i){var a=i.z||e.length,l=new js(n+a+5*(1+Math.ceil(a/7e3))+s),u=l.subarray(n,l.length-s),d=i.l,f=(i.r||0)&7;if(t){f&&(u[0]=i.r>>3);for(var g=Hj[t-1],v=g>>13,p=g&8191,N=(1<<r)-1,j=i.p||new Dn(32768),k=i.h||new Dn(N+1),x=Math.ceil(r/3),b=2*x,_=function(ze){return(e[ze]^e[ze+1]<<x^e[ze+2]<<b)&N},S=new G1(25e3),I=new Dn(288),W=new Dn(32),G=0,q=0,T=i.i||0,H=0,P=i.w||0,F=0;T+2<a;++T){var K=_(T),J=T&32767,ce=k[K];if(j[J]=ce,k[K]=J,P<=T){var fe=a-T;if((G>7e3||H>24576)&&(fe>423||!d)){f=j2(e,u,0,S,I,W,q,H,F,T-F,f),H=G=q=0,F=T;for(var he=0;he<286;++he)I[he]=0;for(var he=0;he<30;++he)W[he]=0}var Y=2,ae=0,ge=p,me=J-ce&32767;if(fe>2&&K==_(T-me))for(var C=Math.min(v,fe)-1,z=Math.min(32767,T),V=Math.min(258,fe);me<=z&&--ge&&J!=ce;){if(e[T+Y]==e[T+Y-me]){for(var Z=0;Z<V&&e[T+Z]==e[T+Z-me];++Z);if(Z>Y){if(Y=Z,ae=me,Z>C)break;for(var te=Math.min(me,Z-2),ie=0,he=0;he<te;++he){var de=T-me+he&32767,pe=j[de],we=de-pe&32767;we>ie&&(ie=we,ce=de)}}}J=ce,ce=j[J],me+=J-ce&32767}if(ae){S[H++]=268435456|Cp[Y]<<18|_2[ae];var Le=Cp[Y]&31,Re=_2[ae]&31;q+=K1[Le]+J1[Re],++I[257+Le],++W[Re],P=T+Y,++G}else S[H++]=e[T],++I[e[T]]}}for(T=Math.max(T,P);T<a;++T)S[H++]=e[T],++I[e[T]];f=j2(e,u,d,S,I,W,q,H,F,T-F,f),d||(i.r=f&7|u[f/8|0]<<3,f-=7,i.h=k,i.p=j,i.i=T,i.w=P)}else{for(var T=i.w||0;T<a+d;T+=65535){var Oe=T+65535;Oe>=a&&(u[f/8|0]=d,Oe=a),f=Sy(u,f+1,e.subarray(T,Oe))}i.i=a}return qj(l,0,n+jy(f)+s)},Ay=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Wj=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new js(i.length+e.length);a.set(i),a.set(e,i.length),e=a,s.w=i.length}return Vj(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},Ly=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Gj=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=Ay();s.p(t.dictionary),Ly(e,2,s.d())}};function Tp(e,t){t||(t={});var r=Ay();r.p(e);var n=Wj(e,t,t.dictionary?6:2,4);return Gj(n,t),Ly(n,n.length-4,r.d()),n}var Kj=typeof TextDecoder<"u"&&new TextDecoder,Jj=0;try{Kj.decode(ky,{stream:!0}),Jj=1}catch{}function Yj(e){if(Array.isArray(e))return e}function Xj(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,a,l=[],u=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(d)throw s}}return l}}function S2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Qj(e,t){if(e){if(typeof e=="string")return S2(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S2(e,t):void 0}}function Zj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k2(e,t){return Yj(e)||Xj(e,t)||Qj(e,t)||Zj()}function A2(e,t="utf8"){return new TextDecoder(t).decode(e)}const e8=new TextEncoder;function t8(e){return e8.encode(e)}const r8=1024*8,n8=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),s0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Y1{constructor(t=r8,r={}){Tt(this,"buffer");Tt(this,"byteLength");Tt(this,"byteOffset");Tt(this,"length");Tt(this,"offset");Tt(this,"lastWrittenByte");Tt(this,"littleEndian");Tt(this,"_data");Tt(this,"_mark");Tt(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let a=s;(ArrayBuffer.isView(t)||t instanceof Y1)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=s0[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===n8&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const u=new s0[r](l.buffer);return this.offset+=n,u.reverse(),u}const a=new s0[r](i);return this.offset+=n,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return A2(this.readBytes(t))}decodeText(t=1,r="utf8"){return A2(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(t8(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function _l(e){let t=e.length;for(;--t>=0;)e[t]=0}const s8=3,i8=258,Ey=29,a8=256,o8=a8+1+Ey,Cy=30,l8=512,u8=new Array((o8+2)*2);_l(u8);const c8=new Array(Cy*2);_l(c8);const d8=new Array(l8);_l(d8);const h8=new Array(i8-s8+1);_l(h8);const f8=new Array(Ey);_l(f8);const p8=new Array(Cy);_l(p8);const m8=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do s=s+t[n++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var Op=m8;const g8=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},v8=new Uint32Array(g8()),x8=(e,t,r,n)=>{const s=v8,i=n+r;e^=-1;for(let a=n;a<i;a++)e=e>>>8^s[(e^t[a])&255];return e^-1};var Ms=x8,Ip={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Py={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const y8=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var b8=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)y8(r,n)&&(e[n]=r[n])}}return e},w8=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let a=e[n];r.set(a,s),s+=a.length}return r},Ry={assign:b8,flattenChunks:w8};let Ty=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ty=!1}const Yu=new Uint8Array(256);for(let e=0;e<256;e++)Yu[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Yu[254]=Yu[254]=1;var _8=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,a=e.length,l=0;for(s=0;s<a;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<a&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const N8=(e,t)=>{if(t<65534&&e.subarray&&Ty)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var j8=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let a=e[n++];if(a<128){i[s++]=a;continue}let l=Yu[a];if(l>4){i[s++]=65533,n+=l-1;continue}for(a&=l===2?31:l===3?15:7;l>1&&n<r;)a=a<<6|e[n++]&63,l--;if(l>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return N8(i,s)},S8=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Yu[e[r]]>t?r:t},Dp={string2buf:_8,buf2string:j8,utf8border:S8};function k8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var A8=k8;const dd=16209,L8=16191;var E8=function(t,r){let n,s,i,a,l,u,d,f,g,v,p,N,j,k,x,b,_,S,I,W,G,q,T,H;const P=t.state;n=t.next_in,T=t.input,s=n+(t.avail_in-5),i=t.next_out,H=t.output,a=i-(r-t.avail_out),l=i+(t.avail_out-257),u=P.dmax,d=P.wsize,f=P.whave,g=P.wnext,v=P.window,p=P.hold,N=P.bits,j=P.lencode,k=P.distcode,x=(1<<P.lenbits)-1,b=(1<<P.distbits)-1;e:do{N<15&&(p+=T[n++]<<N,N+=8,p+=T[n++]<<N,N+=8),_=j[p&x];t:for(;;){if(S=_>>>24,p>>>=S,N-=S,S=_>>>16&255,S===0)H[i++]=_&65535;else if(S&16){I=_&65535,S&=15,S&&(N<S&&(p+=T[n++]<<N,N+=8),I+=p&(1<<S)-1,p>>>=S,N-=S),N<15&&(p+=T[n++]<<N,N+=8,p+=T[n++]<<N,N+=8),_=k[p&b];r:for(;;){if(S=_>>>24,p>>>=S,N-=S,S=_>>>16&255,S&16){if(W=_&65535,S&=15,N<S&&(p+=T[n++]<<N,N+=8,N<S&&(p+=T[n++]<<N,N+=8)),W+=p&(1<<S)-1,W>u){t.msg="invalid distance too far back",P.mode=dd;break e}if(p>>>=S,N-=S,S=i-a,W>S){if(S=W-S,S>f&&P.sane){t.msg="invalid distance too far back",P.mode=dd;break e}if(G=0,q=v,g===0){if(G+=d-S,S<I){I-=S;do H[i++]=v[G++];while(--S);G=i-W,q=H}}else if(g<S){if(G+=d+g-S,S-=g,S<I){I-=S;do H[i++]=v[G++];while(--S);if(G=0,g<I){S=g,I-=S;do H[i++]=v[G++];while(--S);G=i-W,q=H}}}else if(G+=g-S,S<I){I-=S;do H[i++]=v[G++];while(--S);G=i-W,q=H}for(;I>2;)H[i++]=q[G++],H[i++]=q[G++],H[i++]=q[G++],I-=3;I&&(H[i++]=q[G++],I>1&&(H[i++]=q[G++]))}else{G=i-W;do H[i++]=H[G++],H[i++]=H[G++],H[i++]=H[G++],I-=3;while(I>2);I&&(H[i++]=H[G++],I>1&&(H[i++]=H[G++]))}}else if(S&64){t.msg="invalid distance code",P.mode=dd;break e}else{_=k[(_&65535)+(p&(1<<S)-1)];continue r}break}}else if(S&64)if(S&32){P.mode=L8;break e}else{t.msg="invalid literal/length code",P.mode=dd;break e}else{_=j[(_&65535)+(p&(1<<S)-1)];continue t}break}}while(n<s&&i<l);I=N>>3,n-=I,N-=I<<3,p&=(1<<N)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<l?257+(l-i):257-(i-l),P.hold=p,P.bits=N};const Co=15,L2=852,E2=592,C2=0,i0=1,P2=2,C8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),P8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),R8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),T8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),O8=(e,t,r,n,s,i,a,l)=>{const u=l.bits;let d=0,f=0,g=0,v=0,p=0,N=0,j=0,k=0,x=0,b=0,_,S,I,W,G,q=null,T;const H=new Uint16Array(Co+1),P=new Uint16Array(Co+1);let F=null,K,J,ce;for(d=0;d<=Co;d++)H[d]=0;for(f=0;f<n;f++)H[t[r+f]]++;for(p=u,v=Co;v>=1&&H[v]===0;v--);if(p>v&&(p=v),v===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(g=1;g<v&&H[g]===0;g++);for(p<g&&(p=g),k=1,d=1;d<=Co;d++)if(k<<=1,k-=H[d],k<0)return-1;if(k>0&&(e===C2||v!==1))return-1;for(P[1]=0,d=1;d<Co;d++)P[d+1]=P[d]+H[d];for(f=0;f<n;f++)t[r+f]!==0&&(a[P[t[r+f]]++]=f);if(e===C2?(q=F=a,T=20):e===i0?(q=C8,F=P8,T=257):(q=R8,F=T8,T=0),b=0,f=0,d=g,G=i,N=p,j=0,I=-1,x=1<<p,W=x-1,e===i0&&x>L2||e===P2&&x>E2)return 1;for(;;){K=d-j,a[f]+1<T?(J=0,ce=a[f]):a[f]>=T?(J=F[a[f]-T],ce=q[a[f]-T]):(J=96,ce=0),_=1<<d-j,S=1<<N,g=S;do S-=_,s[G+(b>>j)+S]=K<<24|J<<16|ce|0;while(S!==0);for(_=1<<d-1;b&_;)_>>=1;if(_!==0?(b&=_-1,b+=_):b=0,f++,--H[d]===0){if(d===v)break;d=t[r+a[f]]}if(d>p&&(b&W)!==I){for(j===0&&(j=p),G+=g,N=d-j,k=1<<N;N+j<v&&(k-=H[N+j],!(k<=0));)N++,k<<=1;if(x+=1<<N,e===i0&&x>L2||e===P2&&x>E2)return 1;I=b&W,s[I]=p<<24|N<<16|G-i|0}}return b!==0&&(s[G+b]=d-j<<24|64<<16|0),l.bits=p,0};var Su=O8;const I8=0,Oy=1,Iy=2,{Z_FINISH:R2,Z_BLOCK:D8,Z_TREES:hd,Z_OK:no,Z_STREAM_END:M8,Z_NEED_DICT:F8,Z_STREAM_ERROR:ns,Z_DATA_ERROR:Dy,Z_MEM_ERROR:My,Z_BUF_ERROR:B8,Z_DEFLATED:T2}=Py,Fh=16180,O2=16181,I2=16182,D2=16183,M2=16184,F2=16185,B2=16186,U2=16187,z2=16188,$2=16189,ph=16190,di=16191,a0=16192,q2=16193,o0=16194,H2=16195,V2=16196,W2=16197,G2=16198,fd=16199,pd=16200,K2=16201,J2=16202,Y2=16203,X2=16204,Q2=16205,l0=16206,Z2=16207,ev=16208,Yt=16209,Fy=16210,By=16211,U8=852,z8=592,$8=15,q8=$8,tv=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function H8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const oo=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Fh||t.mode>By?1:0},Uy=e=>{if(oo(e))return ns;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Fh,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(U8),t.distcode=t.distdyn=new Int32Array(z8),t.sane=1,t.back=-1,no},zy=e=>{if(oo(e))return ns;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Uy(e)},$y=(e,t)=>{let r;if(oo(e))return ns;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ns:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,zy(e))},qy=(e,t)=>{if(!e)return ns;const r=new H8;e.state=r,r.strm=e,r.window=null,r.mode=Fh;const n=$y(e,t);return n!==no&&(e.state=null),n},V8=e=>qy(e,q8);let rv=!0,u0,c0;const W8=e=>{if(rv){u0=new Int32Array(512),c0=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Su(Oy,e.lens,0,288,u0,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Su(Iy,e.lens,0,32,c0,0,e.work,{bits:5}),rv=!1}e.lencode=u0,e.lenbits=9,e.distcode=c0,e.distbits=5},Hy=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},G8=(e,t)=>{let r,n,s,i,a,l,u,d,f,g,v,p,N,j,k=0,x,b,_,S,I,W,G,q;const T=new Uint8Array(4);let H,P;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(oo(e)||!e.output||!e.input&&e.avail_in!==0)return ns;r=e.state,r.mode===di&&(r.mode=a0),a=e.next_out,s=e.output,u=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,d=r.hold,f=r.bits,g=l,v=u,q=no;e:for(;;)switch(r.mode){case Fh:if(r.wrap===0){r.mode=a0;break}for(;f<16;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=d&255,T[1]=d>>>8&255,r.check=Ms(r.check,T,2,0),d=0,f=0,r.mode=O2;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=Yt;break}if((d&15)!==T2){e.msg="unknown compression method",r.mode=Yt;break}if(d>>>=4,f-=4,G=(d&15)+8,r.wbits===0&&(r.wbits=G),G>15||G>r.wbits){e.msg="invalid window size",r.mode=Yt;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?$2:di,d=0,f=0;break;case O2:for(;f<16;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(r.flags=d,(r.flags&255)!==T2){e.msg="unknown compression method",r.mode=Yt;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Yt;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,r.check=Ms(r.check,T,2,0)),d=0,f=0,r.mode=I2;case I2:for(;f<32;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,T[2]=d>>>16&255,T[3]=d>>>24&255,r.check=Ms(r.check,T,4,0)),d=0,f=0,r.mode=D2;case D2:for(;f<16;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,r.check=Ms(r.check,T,2,0)),d=0,f=0,r.mode=M2;case M2:if(r.flags&1024){for(;f<16;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,r.check=Ms(r.check,T,2,0)),d=0,f=0}else r.head&&(r.head.extra=null);r.mode=F2;case F2:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(G=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+p),G)),r.flags&512&&r.wrap&4&&(r.check=Ms(r.check,n,p,i)),l-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=B2;case B2:if(r.flags&2048){if(l===0)break e;p=0;do G=n[i+p++],r.head&&G&&r.length<65536&&(r.head.name+=String.fromCharCode(G));while(G&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Ms(r.check,n,p,i)),l-=p,i+=p,G)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=U2;case U2:if(r.flags&4096){if(l===0)break e;p=0;do G=n[i+p++],r.head&&G&&r.length<65536&&(r.head.comment+=String.fromCharCode(G));while(G&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Ms(r.check,n,p,i)),l-=p,i+=p,G)break e}else r.head&&(r.head.comment=null);r.mode=z2;case z2:if(r.flags&512){for(;f<16;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Yt;break}d=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=di;break;case $2:for(;f<32;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}e.adler=r.check=tv(d),d=0,f=0,r.mode=ph;case ph:if(r.havedict===0)return e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=f,F8;e.adler=r.check=1,r.mode=di;case di:if(t===D8||t===hd)break e;case a0:if(r.last){d>>>=f&7,f-=f&7,r.mode=l0;break}for(;f<3;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}switch(r.last=d&1,d>>>=1,f-=1,d&3){case 0:r.mode=q2;break;case 1:if(W8(r),r.mode=fd,t===hd){d>>>=2,f-=2;break e}break;case 2:r.mode=V2;break;case 3:e.msg="invalid block type",r.mode=Yt}d>>>=2,f-=2;break;case q2:for(d>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Yt;break}if(r.length=d&65535,d=0,f=0,r.mode=o0,t===hd)break e;case o0:r.mode=H2;case H2:if(p=r.length,p){if(p>l&&(p=l),p>u&&(p=u),p===0)break e;s.set(n.subarray(i,i+p),a),l-=p,i+=p,u-=p,a+=p,r.length-=p;break}r.mode=di;break;case V2:for(;f<14;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(r.nlen=(d&31)+257,d>>>=5,f-=5,r.ndist=(d&31)+1,d>>>=5,f-=5,r.ncode=(d&15)+4,d>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Yt;break}r.have=0,r.mode=W2;case W2:for(;r.have<r.ncode;){for(;f<3;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}r.lens[F[r.have++]]=d&7,d>>>=3,f-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},q=Su(I8,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,q){e.msg="invalid code lengths set",r.mode=Yt;break}r.have=0,r.mode=G2;case G2:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[d&(1<<r.lenbits)-1],x=k>>>24,b=k>>>16&255,_=k&65535,!(x<=f);){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(_<16)d>>>=x,f-=x,r.lens[r.have++]=_;else{if(_===16){for(P=x+2;f<P;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(d>>>=x,f-=x,r.have===0){e.msg="invalid bit length repeat",r.mode=Yt;break}G=r.lens[r.have-1],p=3+(d&3),d>>>=2,f-=2}else if(_===17){for(P=x+3;f<P;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}d>>>=x,f-=x,G=0,p=3+(d&7),d>>>=3,f-=3}else{for(P=x+7;f<P;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}d>>>=x,f-=x,G=0,p=11+(d&127),d>>>=7,f-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Yt;break}for(;p--;)r.lens[r.have++]=G}}if(r.mode===Yt)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Yt;break}if(r.lenbits=9,H={bits:r.lenbits},q=Su(Oy,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,q){e.msg="invalid literal/lengths set",r.mode=Yt;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},q=Su(Iy,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,q){e.msg="invalid distances set",r.mode=Yt;break}if(r.mode=fd,t===hd)break e;case fd:r.mode=pd;case pd:if(l>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=f,E8(e,v),a=e.next_out,s=e.output,u=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,d=r.hold,f=r.bits,r.mode===di&&(r.back=-1);break}for(r.back=0;k=r.lencode[d&(1<<r.lenbits)-1],x=k>>>24,b=k>>>16&255,_=k&65535,!(x<=f);){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(b&&!(b&240)){for(S=x,I=b,W=_;k=r.lencode[W+((d&(1<<S+I)-1)>>S)],x=k>>>24,b=k>>>16&255,_=k&65535,!(S+x<=f);){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}d>>>=S,f-=S,r.back+=S}if(d>>>=x,f-=x,r.back+=x,r.length=_,b===0){r.mode=Q2;break}if(b&32){r.back=-1,r.mode=di;break}if(b&64){e.msg="invalid literal/length code",r.mode=Yt;break}r.extra=b&15,r.mode=K2;case K2:if(r.extra){for(P=r.extra;f<P;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=J2;case J2:for(;k=r.distcode[d&(1<<r.distbits)-1],x=k>>>24,b=k>>>16&255,_=k&65535,!(x<=f);){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(!(b&240)){for(S=x,I=b,W=_;k=r.distcode[W+((d&(1<<S+I)-1)>>S)],x=k>>>24,b=k>>>16&255,_=k&65535,!(S+x<=f);){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}d>>>=S,f-=S,r.back+=S}if(d>>>=x,f-=x,r.back+=x,b&64){e.msg="invalid distance code",r.mode=Yt;break}r.offset=_,r.extra=b&15,r.mode=Y2;case Y2:if(r.extra){for(P=r.extra;f<P;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Yt;break}r.mode=X2;case X2:if(u===0)break e;if(p=v-u,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Yt;break}p>r.wnext?(p-=r.wnext,N=r.wsize-p):N=r.wnext-p,p>r.length&&(p=r.length),j=r.window}else j=s,N=a-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do s[a++]=j[N++];while(--p);r.length===0&&(r.mode=pd);break;case Q2:if(u===0)break e;s[a++]=r.length,u--,r.mode=pd;break;case l0:if(r.wrap){for(;f<32;){if(l===0)break e;l--,d|=n[i++]<<f,f+=8}if(v-=u,e.total_out+=v,r.total+=v,r.wrap&4&&v&&(e.adler=r.check=r.flags?Ms(r.check,s,v,a-v):Op(r.check,s,v,a-v)),v=u,r.wrap&4&&(r.flags?d:tv(d))!==r.check){e.msg="incorrect data check",r.mode=Yt;break}d=0,f=0}r.mode=Z2;case Z2:if(r.wrap&&r.flags){for(;f<32;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Yt;break}d=0,f=0}r.mode=ev;case ev:q=M8;break e;case Yt:q=Dy;break e;case Fy:return My;case By:default:return ns}return e.next_out=a,e.avail_out=u,e.next_in=i,e.avail_in=l,r.hold=d,r.bits=f,(r.wsize||v!==e.avail_out&&r.mode<Yt&&(r.mode<l0||t!==R2))&&Hy(e,e.output,e.next_out,v-e.avail_out),g-=e.avail_in,v-=e.avail_out,e.total_in+=g,e.total_out+=v,r.total+=v,r.wrap&4&&v&&(e.adler=r.check=r.flags?Ms(r.check,s,v,e.next_out-v):Op(r.check,s,v,e.next_out-v)),e.data_type=r.bits+(r.last?64:0)+(r.mode===di?128:0)+(r.mode===fd||r.mode===o0?256:0),(g===0&&v===0||t===R2)&&q===no&&(q=B8),q},K8=e=>{if(oo(e))return ns;let t=e.state;return t.window&&(t.window=null),e.state=null,no},J8=(e,t)=>{if(oo(e))return ns;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,no):ns},Y8=(e,t)=>{const r=t.length;let n,s,i;return oo(e)||(n=e.state,n.wrap!==0&&n.mode!==ph)?ns:n.mode===ph&&(s=1,s=Op(s,t,r,0),s!==n.check)?Dy:(i=Hy(e,t,r,r),i?(n.mode=Fy,My):(n.havedict=1,no))};var X8=zy,Q8=$y,Z8=Uy,eS=V8,tS=qy,rS=G8,nS=K8,sS=J8,iS=Y8,aS="pako inflate (from Nodeca project)",mi={inflateReset:X8,inflateReset2:Q8,inflateResetKeep:Z8,inflateInit:eS,inflateInit2:tS,inflate:rS,inflateEnd:nS,inflateGetHeader:sS,inflateSetDictionary:iS,inflateInfo:aS};function oS(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var lS=oS;const Vy=Object.prototype.toString,{Z_NO_FLUSH:uS,Z_FINISH:cS,Z_OK:Xu,Z_STREAM_END:d0,Z_NEED_DICT:h0,Z_STREAM_ERROR:dS,Z_DATA_ERROR:nv,Z_MEM_ERROR:hS}=Py;function ac(e){this.options=Ry.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A8,this.strm.avail_out=0;let r=mi.inflateInit2(this.strm,t.windowBits);if(r!==Xu)throw new Error(Ip[r]);if(this.header=new lS,mi.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Dp.string2buf(t.dictionary):Vy.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=mi.inflateSetDictionary(this.strm,t.dictionary),r!==Xu)))throw new Error(Ip[r])}ac.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,a,l;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?cS:uS,Vy.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=mi.inflate(r,a),i===h0&&s&&(i=mi.inflateSetDictionary(r,s),i===Xu?i=mi.inflate(r,a):i===nv&&(i=h0));r.avail_in>0&&i===d0&&r.state.wrap>0&&e[r.next_in]!==0;)mi.inflateReset(r),i=mi.inflate(r,a);switch(i){case dS:case nv:case h0:case hS:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===d0))if(this.options.to==="string"){let u=Dp.utf8border(r.output,r.next_out),d=r.next_out-u,f=Dp.buf2string(r.output,u);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(u,u+d),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Xu&&l===0)){if(i===d0)return i=mi.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};ac.prototype.onData=function(e){this.chunks.push(e)};ac.prototype.onEnd=function(e){e===Xu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ry.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function fS(e,t){const r=new ac(t);if(r.push(e),r.err)throw r.msg||Ip[r.err];return r.result}var pS=ac,mS=fS,gS={Inflate:pS,inflate:mS};const{Inflate:vS,inflate:xS}=gS;var sv=vS,yS=xS;const Wy=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;Wy[e]=t}const iv=4294967295;function bS(e,t,r){let n=e;for(let s=0;s<r;s++)n=Wy[(n^t[s])&255]^n>>>8;return n}function wS(e,t){return(bS(iv,e,t)^iv)>>>0}function av(e,t,r){const n=e.readUint32(),s=wS(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function Gy(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function Ky(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function Jy(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function Yy(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function Xy(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+_S(t[i-s],r[i],r[i-s])&255}}function _S(e,t,r){const n=e+t-r,s=Math.abs(n-e),i=Math.abs(n-t),a=Math.abs(n-r);return s<=i&&s<=a?e:i<=a?t:r}function NS(e,t,r,n,s,i){switch(e){case 0:Gy(t,r,s);break;case 1:Ky(t,r,s,i);break;case 2:Jy(t,r,n,s);break;case 3:Yy(t,r,n,s,i);break;case 4:Xy(t,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const jS=new Uint16Array([255]),SS=new Uint8Array(jS.buffer),kS=SS[0]===255;function AS(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,u=new Uint8Array(n*r*l);let d=0;for(let f=0;f<7;f++){const g=a[f],v=Math.ceil((r-g.x)/g.xStep),p=Math.ceil((n-g.y)/g.yStep);if(v<=0||p<=0)continue;const N=v*l,j=new Uint8Array(N);for(let k=0;k<p;k++){const x=t[d++],b=t.subarray(d,d+N);d+=N;const _=new Uint8Array(N);NS(x,b,_,j,N,l),j.set(_);for(let S=0;S<v;S++){const I=g.x+S*g.xStep,W=g.y+k*g.yStep;if(!(I>=r||W>=n))for(let G=0;G<l;G++)u[(W*r+I)*l+G]=_[S*l+G]}}}if(i===16){const f=new Uint16Array(u.buffer);if(kS)for(let g=0;g<f.length;g++)f[g]=LS(f[g]);return f}else return u}function LS(e){return(e&255)<<8|e>>8&255}const ES=new Uint16Array([255]),CS=new Uint8Array(ES.buffer),PS=CS[0]===255,RS=new Uint8Array(0);function ov(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,a=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),u=new Uint8Array(n*l);let d=RS,f=0,g,v;for(let p=0;p<n;p++){switch(g=t.subarray(f+1,f+1+l),v=u.subarray(p*l,(p+1)*l),t[f]){case 0:Gy(g,v,l);break;case 1:Ky(g,v,l,a);break;case 2:Jy(g,v,d,l);break;case 3:Yy(g,v,d,l,a);break;case 4:Xy(g,v,d,l,a);break;default:throw new Error(`Unsupported filter: ${t[f]}`)}d=v,f+=l+1}if(i===16){const p=new Uint16Array(u.buffer);if(PS)for(let N=0;N<p.length;N++)p[N]=TS(p[N]);return p}else return u}function TS(e){return(e&255)<<8|e>>8&255}const Td=Uint8Array.of(137,80,78,71,13,10,26,10);function lv(e){if(!OS(e.readBytes(Td.length)))throw new Error("wrong PNG signature")}function OS(e){if(e.length<Td.length)return!1;for(let t=0;t<Td.length;t++)if(e[t]!==Td[t])return!1;return!0}const IS="tEXt",DS=0,Qy=new TextDecoder("latin1");function MS(e){if(BS(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const FS=/^[\u0000-\u00FF]*$/;function BS(e){if(!FS.test(e))throw new Error("invalid latin1 text")}function US(e,t,r){const n=Zy(t);e[n]=zS(t,r-n.length-1)}function Zy(e){for(e.mark();e.readByte()!==DS;);const t=e.offset;e.reset();const r=Qy.decode(e.readBytes(t-e.offset-1));return e.skip(1),MS(r),r}function zS(e,t){return Qy.decode(e.readBytes(t))}const En={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},f0={UNKNOWN:-1,DEFLATE:0},uv={UNKNOWN:-1,ADAPTIVE:0},p0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},md={NONE:0,BACKGROUND:1,PREVIOUS:2},m0={SOURCE:0,OVER:1};class $S extends Y1{constructor(r,n={}){super(r);Tt(this,"_checkCrc");Tt(this,"_inflator");Tt(this,"_png");Tt(this,"_apng");Tt(this,"_end");Tt(this,"_hasPalette");Tt(this,"_palette");Tt(this,"_hasTransparency");Tt(this,"_transparency");Tt(this,"_compressionMethod");Tt(this,"_filterMethod");Tt(this,"_interlaceMethod");Tt(this,"_colorType");Tt(this,"_isAnimated");Tt(this,"_numberOfFrames");Tt(this,"_numberOfPlays");Tt(this,"_frames");Tt(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new sv,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=f0.UNKNOWN,this._filterMethod=uv.UNKNOWN,this._interlaceMethod=p0.UNKNOWN,this._colorType=En.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(lv(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(lv(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case IS:US(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?av(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?av(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=qS(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case En.GREYSCALE:s=1;break;case En.TRUECOLOUR:s=3;break;case En.INDEXED_COLOUR:s=1;break;case En.GREYSCALE_ALPHA:s=2;break;case En.TRUECOLOUR_ALPHA:s=4;break;case En.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==f0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case En.GREYSCALE:case En.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case En.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case En.UNKNOWN:case En.GREYSCALE_ALPHA:case En.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=Zy(this),s=this.readUint8();if(s!==f0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:yS(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=ov({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case md.NONE:break;case md.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const l=(i*r.width+a)*this._png.channels;for(let u=0;u<this._png.channels;u++)s.data[l+u]=0}break;case md.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(a,l)=>{const u=((a+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(a*n.width+l)*this._png.channels;return{index:u,frameIndex:d}};switch(n.blendOp){case m0.SOURCE:for(let a=0;a<n.height;a++)for(let l=0;l<n.width;l++){const{index:u,frameIndex:d}=i(a,l);for(let f=0;f<this._png.channels;f++)r.data[u+f]=n.data[d+f]}break;case m0.OVER:for(let a=0;a<n.height;a++)for(let l=0;l<n.width;l++){const{index:u,frameIndex:d}=i(a,l);for(let f=0;f<this._png.channels;f++){const g=n.data[d+this._png.channels-1]/s,v=f%(this._png.channels-1)===0?1:n.data[d+f],p=Math.floor(g*v+(1-g)*r.data[u+f]);r.data[u+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==uv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===p0.NO_INTERLACE)this._png.data=ov({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===p0.ADAM7)this._png.data=AS({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:md.NONE,blendOp:m0.SOURCE,data:r}),this._inflator=new sv,this._writingDataChunks=!1}}function qS(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var cv;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(cv||(cv={}));function HS(e,t){return new $S(e,t).decode()}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function g0(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var Ft={log:g0,warn:function(e){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):g0.call(null,arguments))},error:function(e){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):g0(e))}};function v0(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Ua(n.response,t,r)},n.onerror=function(){Ft.error("could not download file")},n.send()}function dv(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function gd(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ua=lt.saveAs||((typeof window>"u"?"undefined":Ot(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=lt.URL||lt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?dv(s.href)?v0(e,t,r):gd(s,s.target="_blank"):gd(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){gd(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(dv(e))v0(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){gd(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Ot(i)!=="object"&&(Ft.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return v0(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(lt.HTMLElement)||lt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Ot(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(e)}else{var u=lt.URL||lt.webkitURL,d=u.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function eb(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+l+u+d}}var Od=lt.atob.bind(lt),hv=lt.btoa.bind(lt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function x0(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=Qr(r,n,s,i,t[0],7,-680876936),i=Qr(i,r,n,s,t[1],12,-389564586),s=Qr(s,i,r,n,t[2],17,606105819),n=Qr(n,s,i,r,t[3],22,-1044525330),r=Qr(r,n,s,i,t[4],7,-176418897),i=Qr(i,r,n,s,t[5],12,1200080426),s=Qr(s,i,r,n,t[6],17,-1473231341),n=Qr(n,s,i,r,t[7],22,-45705983),r=Qr(r,n,s,i,t[8],7,1770035416),i=Qr(i,r,n,s,t[9],12,-1958414417),s=Qr(s,i,r,n,t[10],17,-42063),n=Qr(n,s,i,r,t[11],22,-1990404162),r=Qr(r,n,s,i,t[12],7,1804603682),i=Qr(i,r,n,s,t[13],12,-40341101),s=Qr(s,i,r,n,t[14],17,-1502002290),r=Zr(r,n=Qr(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Zr(i,r,n,s,t[6],9,-1069501632),s=Zr(s,i,r,n,t[11],14,643717713),n=Zr(n,s,i,r,t[0],20,-373897302),r=Zr(r,n,s,i,t[5],5,-701558691),i=Zr(i,r,n,s,t[10],9,38016083),s=Zr(s,i,r,n,t[15],14,-660478335),n=Zr(n,s,i,r,t[4],20,-405537848),r=Zr(r,n,s,i,t[9],5,568446438),i=Zr(i,r,n,s,t[14],9,-1019803690),s=Zr(s,i,r,n,t[3],14,-187363961),n=Zr(n,s,i,r,t[8],20,1163531501),r=Zr(r,n,s,i,t[13],5,-1444681467),i=Zr(i,r,n,s,t[2],9,-51403784),s=Zr(s,i,r,n,t[7],14,1735328473),r=en(r,n=Zr(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=en(i,r,n,s,t[8],11,-2022574463),s=en(s,i,r,n,t[11],16,1839030562),n=en(n,s,i,r,t[14],23,-35309556),r=en(r,n,s,i,t[1],4,-1530992060),i=en(i,r,n,s,t[4],11,1272893353),s=en(s,i,r,n,t[7],16,-155497632),n=en(n,s,i,r,t[10],23,-1094730640),r=en(r,n,s,i,t[13],4,681279174),i=en(i,r,n,s,t[0],11,-358537222),s=en(s,i,r,n,t[3],16,-722521979),n=en(n,s,i,r,t[6],23,76029189),r=en(r,n,s,i,t[9],4,-640364487),i=en(i,r,n,s,t[12],11,-421815835),s=en(s,i,r,n,t[15],16,530742520),r=tn(r,n=en(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=tn(i,r,n,s,t[7],10,1126891415),s=tn(s,i,r,n,t[14],15,-1416354905),n=tn(n,s,i,r,t[5],21,-57434055),r=tn(r,n,s,i,t[12],6,1700485571),i=tn(i,r,n,s,t[3],10,-1894986606),s=tn(s,i,r,n,t[10],15,-1051523),n=tn(n,s,i,r,t[1],21,-2054922799),r=tn(r,n,s,i,t[8],6,1873313359),i=tn(i,r,n,s,t[15],10,-30611744),s=tn(s,i,r,n,t[6],15,-1560198380),n=tn(n,s,i,r,t[13],21,1309151649),r=tn(r,n,s,i,t[4],6,-145523070),i=tn(i,r,n,s,t[11],10,-1120210379),s=tn(s,i,r,n,t[2],15,718787259),n=tn(n,s,i,r,t[9],21,-343485551),e[0]=ea(r,e[0]),e[1]=ea(n,e[1]),e[2]=ea(s,e[2]),e[3]=ea(i,e[3])}function Bh(e,t,r,n,s,i){return t=ea(ea(t,e),ea(n,i)),ea(t<<s|t>>>32-s,r)}function Qr(e,t,r,n,s,i,a){return Bh(t&r|~t&n,e,t,s,i,a)}function Zr(e,t,r,n,s,i,a){return Bh(t&n|r&~n,e,t,s,i,a)}function en(e,t,r,n,s,i,a){return Bh(t^r^n,e,t,s,i,a)}function tn(e,t,r,n,s,i,a){return Bh(r^(t|~n),e,t,s,i,a)}function tb(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)x0(n,VS(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(x0(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,x0(n,s),n}function VS(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var fv="0123456789abcdef".split("");function WS(e){for(var t="",r=0;r<4;r++)t+=fv[e>>8*r+4&15]+fv[e>>8*r&15];return t}function GS(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Mp(e){return tb(e).map(GS).join("")}var KS=function(e){for(var t=0;t<e.length;t++)e[t]=WS(e[t]);return e.join("")}(tb("hello"))!="5d41402abc4b2a76b9719d911017c592";function ea(e,t){if(KS){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Fp(e,t){var r,n,s,i;if(e!==r){for(var a=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],u=0;u<256;u++)l[u]=u;var d=0;for(u=0;u<256;u++){var f=l[u];d=(d+f+a.charCodeAt(u))%256,l[u]=l[d],l[d]=f}r=e,n=l}else l=n;var g=t.length,v=0,p=0,N="";for(u=0;u<g;u++)p=(p+(f=l[v=(v+1)%256]))%256,l[v]=l[p],l[p]=f,a=l[(l[v]+l[p])%256],N+=String.fromCharCode(t.charCodeAt(u)^a);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var pv={print:4,modify:8,copy:16,"annot-forms":32};function Do(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(pv.perm!==void 0)throw new Error("Invalid permission: "+l);s+=pv[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=Mp(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Fp(this.encryptionKey,this.padding)}function Mo(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function mv(e){if(Ot(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var a=t[r][i];try{a[0].apply(e,n)}catch(l){lt.console&&Ft.error("jsPDF PubSub Error",l.message,l)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function mh(e){if(!(this instanceof mh))return new mh(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function rb(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function qa(e,t,r,n,s){if(!(this instanceof qa))return new qa(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,rb.call(this,n,s)}function Xo(e,t,r,n,s){if(!(this instanceof Xo))return new Xo(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,rb.call(this,n,s)}function Xe(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],l=1,u=16,d="S",f=null;Ot(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),d=e.defaultPathOperation||"S"),a=e.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,v={},p={internal:{},__private__:{}};p.__private__.PubSub=mv;var N="1.3",j=p.__private__.getPdfVersion=function(){return N};p.__private__.setPdfVersion=function(m){N=m};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return k};var x=p.__private__.getPageFormat=function(m){return k[m]};s=s||"a4";var b="compat",_="advanced",S=b;function I(){this.saveGraphicsState(),E(new st(Ae,0,0,-Ae,0,Sa()*Ae).toString()+" cm"),this.setFontSize(this.getFontSize()/Ae),d="n",S=_}function W(){this.restoreGraphicsState(),d="S",S=b}var G=p.__private__.combineFontStyleAndFontWeight=function(m,A){if(m=="bold"&&A=="normal"||m=="bold"&&A==400||m=="normal"&&A=="italic"||m=="bold"&&A=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return A&&(m=A==400||A==="normal"?m==="italic"?"italic":"normal":A!=700&&A!=="bold"||m!=="normal"?(A==700?"bold":A)+""+m:"bold"),m};p.advancedAPI=function(m){var A=S===b;return A&&I.call(this),typeof m!="function"||(m(this),A&&W.call(this)),this},p.compatAPI=function(m){var A=S===_;return A&&W.call(this),typeof m!="function"||(m(this),A&&I.call(this)),this},p.isAdvancedAPI=function(){return S===_};var q,T=function(m){if(S!==_)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=p.roundToPrecision=p.__private__.roundToPrecision=function(m,A){var $=t||A;if(isNaN(m)||isNaN($))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed($).replace(/0+$/,"")};q=p.hpf=p.__private__.hpf=typeof u=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return H(m,u)}:u==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return H(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return H(m,16)};var P=p.f2=p.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return H(m,2)},F=p.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return H(m,3)},K=p.scale=p.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return S===b?m*Ae:S===_?m:void 0},J=function(m){return K(function(A){return S===b?Sa()-A:S===_?A:void 0}(m))};p.__private__.setPrecision=p.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(t=parseInt(m,10))};var ce,fe="00000000000000000000000000000000",he=p.__private__.getFileId=function(){return fe},Y=p.__private__.setFileId=function(m){return fe=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():fe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Nr=new Do(f.userPermissions,f.userPassword,f.ownerPassword,fe)),fe};p.setFileId=function(m){return Y(m),this},p.getFileId=function(){return he()};var ae=p.__private__.convertDateToPDFDate=function(m){var A=m.getTimezoneOffset(),$=A<0?"+":"-",Q=Math.floor(Math.abs(A/60)),se=Math.abs(A%60),be=[$,V(Q),"'",V(se),"'"].join("");return["D:",m.getFullYear(),V(m.getMonth()+1),V(m.getDate()),V(m.getHours()),V(m.getMinutes()),V(m.getSeconds()),be].join("")},ge=p.__private__.convertPDFDateToDate=function(m){var A=parseInt(m.substr(2,4),10),$=parseInt(m.substr(6,2),10)-1,Q=parseInt(m.substr(8,2),10),se=parseInt(m.substr(10,2),10),be=parseInt(m.substr(12,2),10),Se=parseInt(m.substr(14,2),10);return new Date(A,$,Q,se,be,Se,0)},me=p.__private__.setCreationDate=function(m){var A;if(m===void 0&&(m=new Date),m instanceof Date)A=ae(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");A=m}return ce=A},C=p.__private__.getCreationDate=function(m){var A=ce;return m==="jsDate"&&(A=ge(ce)),A};p.setCreationDate=function(m){return me(m),this},p.getCreationDate=function(m){return C(m)};var z,V=p.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},Z=p.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},te=0,ie=[],de=[],pe=0,we=[],Le=[],Re=!1,Oe=de;p.__private__.setCustomOutputDestination=function(m){Re=!0,Oe=m};var ze=function(m){Re||(Oe=m)};p.__private__.resetCustomOutputDestination=function(){Re=!1,Oe=de};var E=p.__private__.out=function(m){return m=m.toString(),pe+=m.length+1,Oe.push(m),Oe},ve=p.__private__.write=function(m){return E(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},Ce=p.__private__.getArrayBuffer=function(m){for(var A=m.length,$=new ArrayBuffer(A),Q=new Uint8Array($);A--;)Q[A]=m.charCodeAt(A);return $},Ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ie};var Ne=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(m){return Ne=S===_?m/Ae:m,this};var Qe,De=p.__private__.getFontSize=p.getFontSize=function(){return S===b?Ne:Ne*Ae},Ze=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(m){return Ze=m,this},p.__private__.getR2L=p.getR2L=function(){return Ze};var $e,Lt=p.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Qe=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Qe=m}else Qe=parseInt(m,10)};p.__private__.getZoomMode=function(){return Qe};var yt,ct=p.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');$e=m};p.__private__.getPageMode=function(){return $e};var bt=p.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');yt=m};p.__private__.getLayoutMode=function(){return yt},p.__private__.setDisplayMode=p.setDisplayMode=function(m,A,$){return Lt(m),bt(A),ct($),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(m){if(Object.keys(xt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[m]},p.__private__.getDocumentProperties=function(){return xt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(m){for(var A in xt)xt.hasOwnProperty(A)&&m[A]&&(xt[A]=m[A]);return this},p.__private__.setDocumentProperty=function(m,A){if(Object.keys(xt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[m]=A};var re,Ae,je,qe,et,Ke={},tt={},Kt=[],rt={},Bt={},ot={},ft={},Jt=null,wt=0,nt=[],Et=new mv(p),va=e.hotfixes||[],Kr={},Ws={},As=[],st=function m(A,$,Q,se,be,Se){if(!(this instanceof m))return new m(A,$,Q,se,be,Se);isNaN(A)&&(A=1),isNaN($)&&($=0),isNaN(Q)&&(Q=0),isNaN(se)&&(se=1),isNaN(be)&&(be=0),isNaN(Se)&&(Se=0),this._matrix=[A,$,Q,se,be,Se]};Object.defineProperty(st.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(st.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(st.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(st.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(st.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(st.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(st.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(st.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(st.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(st.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(st.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(st.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(st.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(st.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(st.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(st.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),st.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(m)},st.prototype.multiply=function(m){var A=m.sx*this.sx+m.shy*this.shx,$=m.sx*this.shy+m.shy*this.sy,Q=m.shx*this.sx+m.sy*this.shx,se=m.shx*this.shy+m.sy*this.sy,be=m.tx*this.sx+m.ty*this.shx+this.tx,Se=m.tx*this.shy+m.ty*this.sy+this.ty;return new st(A,$,Q,se,be,Se)},st.prototype.decompose=function(){var m=this.sx,A=this.shy,$=this.shx,Q=this.sy,se=this.tx,be=this.ty,Se=Math.sqrt(m*m+A*A),Ue=(m/=Se)*$+(A/=Se)*Q;$-=m*Ue,Q-=A*Ue;var Ge=Math.sqrt($*$+Q*Q);return Ue/=Ge,m*(Q/=Ge)<A*($/=Ge)&&(m=-m,A=-A,Ue=-Ue,Se=-Se),{scale:new st(Se,0,0,Ge,0,0),translate:new st(1,0,0,1,se,be),rotate:new st(m,A,-A,m,0,0),skew:new st(1,0,Ue,1,0,0)}},st.prototype.toString=function(m){return this.join(" ")},st.prototype.inversed=function(){var m=this.sx,A=this.shy,$=this.shx,Q=this.sy,se=this.tx,be=this.ty,Se=1/(m*Q-A*$),Ue=Q*Se,Ge=-A*Se,ut=-$*Se,mt=m*Se;return new st(Ue,Ge,ut,mt,-Ue*se-ut*be,-Ge*se-mt*be)},st.prototype.applyToPoint=function(m){var A=m.x*this.sx+m.y*this.shx+this.tx,$=m.x*this.shy+m.y*this.sy+this.ty;return new Zs(A,$)},st.prototype.applyToRectangle=function(m){var A=this.applyToPoint(m),$=this.applyToPoint(new Zs(m.x+m.w,m.y+m.h));return new Pl(A.x,A.y,$.x-A.x,$.y-A.y)},st.prototype.clone=function(){var m=this.sx,A=this.shy,$=this.shx,Q=this.sy,se=this.tx,be=this.ty;return new st(m,A,$,Q,se,be)},p.Matrix=st;var Gs=p.matrixMult=function(m,A){return A.multiply(m)},Ks=new st(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ks;var zn=function(m,A){if(!Bt[m]){var $=(A instanceof qa?"Sh":"P")+(Object.keys(rt).length+1).toString(10);A.id=$,Bt[m]=$,rt[$]=A,Et.publish("addPattern",A)}};p.ShadingPattern=qa,p.TilingPattern=Xo,p.addShadingPattern=function(m,A){return T("addShadingPattern()"),zn(m,A),this},p.beginTilingPattern=function(m){T("beginTilingPattern()"),Rl(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},p.endTilingPattern=function(m,A){T("endTilingPattern()"),A.stream=Le[z].join(`
`),zn(m,A),Et.publish("endTilingPattern",A),As.pop().restore()};var $n,sr=p.__private__.newObject=function(){var m=Rr();return Mr(m,!0),m},Rr=p.__private__.newObjectDeferred=function(){return te++,ie[te]=function(){return pe},te},Mr=function(m,A){return A=typeof A=="boolean"&&A,ie[m]=pe,A&&E(m+" 0 obj"),m},xa=p.__private__.newAdditionalObject=function(){var m={objId:Rr(),content:""};return we.push(m),m},Ai=Rr(),is=Rr(),Ls=p.__private__.decodeColorString=function(m){var A=m.split(" ");if(A.length!==2||A[1]!=="g"&&A[1]!=="G")A.length!==5||A[4]!=="k"&&A[4]!=="K"||(A=[(1-A[0])*(1-A[3]),(1-A[1])*(1-A[3]),(1-A[2])*(1-A[3]),"r"]);else{var $=parseFloat(A[0]);A=[$,$,$,"r"]}for(var Q="#",se=0;se<3;se++)Q+=("0"+Math.floor(255*parseFloat(A[se])).toString(16)).slice(-2);return Q},as=p.__private__.encodeColorString=function(m){var A;typeof m=="string"&&(m={ch1:m});var $=m.ch1,Q=m.ch2,se=m.ch3,be=m.ch4,Se=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $=="string"&&$.charAt(0)!=="#"){var Ue=new eb($);if(Ue.ok)$=Ue.toHex();else if(!/^\d*\.?\d*$/.test($))throw new Error('Invalid color "'+$+'" passed to jsPDF.encodeColorString.')}if(typeof $=="string"&&/^#[0-9A-Fa-f]{3}$/.test($)&&($="#"+$[1]+$[1]+$[2]+$[2]+$[3]+$[3]),typeof $=="string"&&/^#[0-9A-Fa-f]{6}$/.test($)){var Ge=parseInt($.substr(1),16);$=Ge>>16&255,Q=Ge>>8&255,se=255&Ge}if(Q===void 0||be===void 0&&$===Q&&Q===se)A=typeof $=="string"?$+" "+Se[0]:m.precision===2?P($/255)+" "+Se[0]:F($/255)+" "+Se[0];else if(be===void 0||Ot(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return["1.","1.","1.",Se[1]].join(" ");A=typeof $=="string"?[$,Q,se,Se[1]].join(" "):m.precision===2?[P($/255),P(Q/255),P(se/255),Se[1]].join(" "):[F($/255),F(Q/255),F(se/255),Se[1]].join(" ")}else A=typeof $=="string"?[$,Q,se,be,Se[2]].join(" "):m.precision===2?[P($),P(Q),P(se),P(be),Se[2]].join(" "):[F($),F(Q),F(se),F(be),Se[2]].join(" ");return A},os=p.__private__.getFilters=function(){return a},qn=p.__private__.putStream=function(m){var A=(m=m||{}).data||"",$=m.filters||os(),Q=m.alreadyAppliedFilters||[],se=m.addLength1||!1,be=A.length,Se=m.objectId,Ue=function(jr){return jr};if(f!==null&&Se===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ue=Nr.encryptor(Se,0));var Ge={};$===!0&&($=["FlateEncode"]);var ut=m.additionalKeyValues||[],mt=(Ge=Xe.API.processDataByFilters!==void 0?Xe.API.processDataByFilters(A,$):{data:A,reverseChain:[]}).reverseChain+(Array.isArray(Q)?Q.join(" "):Q.toString());if(Ge.data.length!==0&&(ut.push({key:"Length",value:Ge.data.length}),se===!0&&ut.push({key:"Length1",value:be})),mt.length!=0)if(mt.split("/").length-1==1)ut.push({key:"Filter",value:mt});else{ut.push({key:"Filter",value:"["+mt+"]"});for(var St=0;St<ut.length;St+=1)if(ut[St].key==="DecodeParms"){for(var Zt=[],yr=0;yr<Ge.reverseChain.split("/").length-1;yr+=1)Zt.push("null");Zt.push(ut[St].value),ut[St].value="["+Zt.join(" ")+"]"}}E("<<");for(var Ut=0;Ut<ut.length;Ut++)E("/"+ut[Ut].key+" "+ut[Ut].value);E(">>"),Ge.data.length!==0&&(E("stream"),E(Ue(Ge.data)),E("endstream"))},ya=p.__private__.putPage=function(m){var A=m.number,$=m.data,Q=m.objId,se=m.contentsObjId;Mr(Q,!0),E("<</Type /Page"),E("/Parent "+m.rootDictionaryObjId+" 0 R"),E("/Resources "+m.resourceDictionaryObjId+" 0 R"),E("/MediaBox ["+parseFloat(q(m.mediaBox.bottomLeftX))+" "+parseFloat(q(m.mediaBox.bottomLeftY))+" "+q(m.mediaBox.topRightX)+" "+q(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&E("/CropBox ["+q(m.cropBox.bottomLeftX)+" "+q(m.cropBox.bottomLeftY)+" "+q(m.cropBox.topRightX)+" "+q(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&E("/BleedBox ["+q(m.bleedBox.bottomLeftX)+" "+q(m.bleedBox.bottomLeftY)+" "+q(m.bleedBox.topRightX)+" "+q(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&E("/TrimBox ["+q(m.trimBox.bottomLeftX)+" "+q(m.trimBox.bottomLeftY)+" "+q(m.trimBox.topRightX)+" "+q(m.trimBox.topRightY)+"]"),m.artBox!==null&&E("/ArtBox ["+q(m.artBox.bottomLeftX)+" "+q(m.artBox.bottomLeftY)+" "+q(m.artBox.topRightX)+" "+q(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&E("/UserUnit "+m.userUnit),Et.publish("putPage",{objId:Q,pageContext:nt[A],pageNumber:A,page:$}),E("/Contents "+se+" 0 R"),E(">>"),E("endobj");var be=$.join(`
`);return S===_&&(be+=`
Q`),Mr(se,!0),qn({data:be,filters:os(),objectId:se}),E("endobj"),Q},Es=p.__private__.putPages=function(){var m,A,$=[];for(m=1;m<=wt;m++)nt[m].objId=Rr(),nt[m].contentsObjId=Rr();for(m=1;m<=wt;m++)$.push(ya({number:m,data:Le[m],objId:nt[m].objId,contentsObjId:nt[m].contentsObjId,mediaBox:nt[m].mediaBox,cropBox:nt[m].cropBox,bleedBox:nt[m].bleedBox,trimBox:nt[m].trimBox,artBox:nt[m].artBox,userUnit:nt[m].userUnit,rootDictionaryObjId:Ai,resourceDictionaryObjId:is}));Mr(Ai,!0),E("<</Type /Pages");var Q="/Kids [";for(A=0;A<wt;A++)Q+=$[A]+" 0 R ";E(Q+"]"),E("/Count "+wt),E(">>"),E("endobj"),Et.publish("postPutPages")},ba=function(m){Et.publish("putFont",{font:m,out:E,newObject:sr,putStream:qn}),m.isAlreadyPutted!==!0&&(m.objectNumber=sr(),E("<<"),E("/Type /Font"),E("/BaseFont /"+Mo(m.postScriptName)),E("/Subtype /Type1"),typeof m.encoding=="string"&&E("/Encoding /"+m.encoding),E("/FirstChar 32"),E("/LastChar 255"),E(">>"),E("endobj"))},uo=function(m){m.objectNumber=sr();var A=[];A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Form"}),A.push({key:"BBox",value:"["+[q(m.x),q(m.y),q(m.x+m.width),q(m.y+m.height)].join(" ")+"]"}),A.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var $=m.pages[1].join(`
`);qn({data:$,additionalKeyValues:A,objectId:m.objectNumber}),E("endobj")},co=function(m,A){A||(A=21);var $=sr(),Q=function(Se,Ue){var Ge,ut=[],mt=1/(Ue-1);for(Ge=0;Ge<1;Ge+=mt)ut.push(Ge);if(ut.push(1),Se[0].offset!=0){var St={offset:0,color:Se[0].color};Se.unshift(St)}if(Se[Se.length-1].offset!=1){var Zt={offset:1,color:Se[Se.length-1].color};Se.push(Zt)}for(var yr="",Ut=0,jr=0;jr<ut.length;jr++){for(Ge=ut[jr];Ge>Se[Ut+1].offset;)Ut++;var br=Se[Ut].offset,Fr=(Ge-br)/(Se[Ut+1].offset-br),ri=Se[Ut].color,us=Se[Ut+1].color;yr+=Z(Math.round((1-Fr)*ri[0]+Fr*us[0]).toString(16))+Z(Math.round((1-Fr)*ri[1]+Fr*us[1]).toString(16))+Z(Math.round((1-Fr)*ri[2]+Fr*us[2]).toString(16))}return yr.trim()}(m.colors,A),se=[];se.push({key:"FunctionType",value:"0"}),se.push({key:"Domain",value:"[0.0 1.0]"}),se.push({key:"Size",value:"["+A+"]"}),se.push({key:"BitsPerSample",value:"8"}),se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qn({data:Q,additionalKeyValues:se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$}),E("endobj"),m.objectNumber=sr(),E("<< /ShadingType "+m.type),E("/ColorSpace /DeviceRGB");var be="/Coords ["+q(parseFloat(m.coords[0]))+" "+q(parseFloat(m.coords[1]))+" ";m.type===2?be+=q(parseFloat(m.coords[2]))+" "+q(parseFloat(m.coords[3])):be+=q(parseFloat(m.coords[2]))+" "+q(parseFloat(m.coords[3]))+" "+q(parseFloat(m.coords[4]))+" "+q(parseFloat(m.coords[5])),E(be+="]"),m.matrix&&E("/Matrix ["+m.matrix.toString()+"]"),E("/Function "+$+" 0 R"),E("/Extend [true true]"),E(">>"),E("endobj")},ho=function(m,A){var $=Rr(),Q=sr();A.push({resourcesOid:$,objectOid:Q}),m.objectNumber=Q;var se=[];se.push({key:"Type",value:"/Pattern"}),se.push({key:"PatternType",value:"1"}),se.push({key:"PaintType",value:"1"}),se.push({key:"TilingType",value:"1"}),se.push({key:"BBox",value:"["+m.boundingBox.map(q).join(" ")+"]"}),se.push({key:"XStep",value:q(m.xStep)}),se.push({key:"YStep",value:q(m.yStep)}),se.push({key:"Resources",value:$+" 0 R"}),m.matrix&&se.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),qn({data:m.stream,additionalKeyValues:se,objectId:m.objectNumber}),E("endobj")},Uh=function(m){for(var A in m.objectNumber=sr(),E("<<"),m)switch(A){case"opacity":E("/ca "+P(m[A]));break;case"stroke-opacity":E("/CA "+P(m[A]))}E(">>"),E("endobj")},Nl=function(m){Mr(m.resourcesOid,!0),E("<<"),E("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var A in E("/Font <<"),Ke)Ke.hasOwnProperty(A)&&(g===!1||g===!0&&v.hasOwnProperty(A))&&E("/"+A+" "+Ke[A].objectNumber+" 0 R");E(">>")}(),function(){if(Object.keys(rt).length>0){for(var A in E("/Shading <<"),rt)rt.hasOwnProperty(A)&&rt[A]instanceof qa&&rt[A].objectNumber>=0&&E("/"+A+" "+rt[A].objectNumber+" 0 R");Et.publish("putShadingPatternDict"),E(">>")}}(),function(A){if(Object.keys(rt).length>0){for(var $ in E("/Pattern <<"),rt)rt.hasOwnProperty($)&&rt[$]instanceof p.TilingPattern&&rt[$].objectNumber>=0&&rt[$].objectNumber<A&&E("/"+$+" "+rt[$].objectNumber+" 0 R");Et.publish("putTilingPatternDict"),E(">>")}}(m.objectOid),function(){if(Object.keys(ot).length>0){var A;for(A in E("/ExtGState <<"),ot)ot.hasOwnProperty(A)&&ot[A].objectNumber>=0&&E("/"+A+" "+ot[A].objectNumber+" 0 R");Et.publish("putGStateDict"),E(">>")}}(),function(){for(var A in E("/XObject <<"),Kr)Kr.hasOwnProperty(A)&&Kr[A].objectNumber>=0&&E("/"+A+" "+Kr[A].objectNumber+" 0 R");Et.publish("putXobjectDict"),E(">>")}(),E(">>"),E("endobj")},oc=function(m){tt[m.fontName]=tt[m.fontName]||{},tt[m.fontName][m.fontStyle]=m.id},lc=function(m,A,$,Q,se){var be={id:"F"+(Object.keys(Ke).length+1).toString(10),postScriptName:m,fontName:A,fontStyle:$,encoding:Q,isStandardFont:se||!1,metadata:{}};return Et.publish("addFont",{font:be,instance:this}),Ke[be.id]=be,oc(be),be.id},Hn=p.__private__.pdfEscape=p.pdfEscape=function(m,A){return function($,Q){var se,be,Se,Ue,Ge,ut,mt,St,Zt;if(Se=(Q=Q||{}).sourceEncoding||"Unicode",Ge=Q.outputEncoding,(Q.autoencode||Ge)&&Ke[re].metadata&&Ke[re].metadata[Se]&&Ke[re].metadata[Se].encoding&&(Ue=Ke[re].metadata[Se].encoding,!Ge&&Ke[re].encoding&&(Ge=Ke[re].encoding),!Ge&&Ue.codePages&&(Ge=Ue.codePages[0]),typeof Ge=="string"&&(Ge=Ue[Ge]),Ge)){for(mt=!1,ut=[],se=0,be=$.length;se<be;se++)(St=Ge[$.charCodeAt(se)])?ut.push(String.fromCharCode(St)):ut.push($[se]),ut[se].charCodeAt(0)>>8&&(mt=!0);$=ut.join("")}for(se=$.length;mt===void 0&&se!==0;)$.charCodeAt(se-1)>>8&&(mt=!0),se--;if(!mt)return $;for(ut=Q.noBOM?[]:[254,255],se=0,be=$.length;se<be;se++){if((Zt=(St=$.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+$+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ut.push(Zt),ut.push(St-(Zt<<8))}return String.fromCharCode.apply(void 0,ut)}(m,A).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jl=p.__private__.beginPage=function(m){Le[++wt]=[],nt[wt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},cc(wt),ze(Le[z])},uc=function(m,A){var $,Q,se;switch(r=A||r,typeof m=="string"&&($=x(m.toLowerCase()),Array.isArray($)&&(Q=$[0],se=$[1])),Array.isArray(m)&&(Q=m[0]*Ae,se=m[1]*Ae),isNaN(Q)&&(Q=s[0],se=s[1]),(Q>14400||se>14400)&&(Ft.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Q=Math.min(14400,Q),se=Math.min(14400,se)),s=[Q,se],r.substr(0,1)){case"l":se>Q&&(s=[se,Q]);break;case"p":Q>se&&(s=[se,Q])}jl(s),dt(Al),E(go),El!==0&&E(El+" J"),Cl!==0&&E(Cl+" j"),Et.publish("addPage",{pageNumber:wt})},Sl=function(m){m>0&&m<=wt&&(Le.splice(m,1),nt.splice(m,1),wt--,z>wt&&(z=wt),this.setPage(z))},cc=function(m){m>0&&m<=wt&&(z=m)},dc=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Le.length-1},hc=function(m,A,$){var Q,se=void 0;return $=$||{},m=m!==void 0?m:Ke[re].fontName,A=A!==void 0?A:Ke[re].fontStyle,Q=m.toLowerCase(),tt[Q]!==void 0&&tt[Q][A]!==void 0?se=tt[Q][A]:tt[m]!==void 0&&tt[m][A]!==void 0?se=tt[m][A]:$.disableWarning===!1&&Ft.warn("Unable to look up font label for font '"+m+"', '"+A+"'. Refer to getFontList() for available fonts."),se||$.noFallback||(se=tt.times[A])==null&&(se=tt.times.normal),se},Cs=p.__private__.putInfo=function(){var m=sr(),A=function(Q){return Q};for(var $ in f!==null&&(A=Nr.encryptor(m,0)),E("<<"),E("/Producer ("+Hn(A("jsPDF "+Xe.version))+")"),xt)xt.hasOwnProperty($)&&xt[$]&&E("/"+$.substr(0,1).toUpperCase()+$.substr(1)+" ("+Hn(A(xt[$]))+")");E("/CreationDate ("+Hn(A(ce))+")"),E(">>"),E("endobj")},fo=p.__private__.putCatalog=function(m){var A=(m=m||{}).rootDictionaryObjId||Ai;switch(sr(),E("<<"),E("/Type /Catalog"),E("/Pages "+A+" 0 R"),Qe||(Qe="fullwidth"),Qe){case"fullwidth":E("/OpenAction [3 0 R /FitH null]");break;case"fullheight":E("/OpenAction [3 0 R /FitV null]");break;case"fullpage":E("/OpenAction [3 0 R /Fit]");break;case"original":E("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $=""+Qe;$.substr($.length-1)==="%"&&(Qe=parseInt(Qe)/100),typeof Qe=="number"&&E("/OpenAction [3 0 R /XYZ null null "+P(Qe)+"]")}switch(yt||(yt="continuous"),yt){case"continuous":E("/PageLayout /OneColumn");break;case"single":E("/PageLayout /SinglePage");break;case"two":case"twoleft":E("/PageLayout /TwoColumnLeft");break;case"tworight":E("/PageLayout /TwoColumnRight")}$e&&E("/PageMode /"+$e),Et.publish("putCatalog"),E(">>"),E("endobj")},zh=p.__private__.putTrailer=function(){E("trailer"),E("<<"),E("/Size "+(te+1)),E("/Root "+te+" 0 R"),E("/Info "+(te-1)+" 0 R"),f!==null&&E("/Encrypt "+Nr.oid+" 0 R"),E("/ID [ <"+fe+"> <"+fe+"> ]"),E(">>")},xr=p.__private__.putHeader=function(){E("%PDF-"+N),E("%")},fc=p.__private__.putXRef=function(){var m="0000000000";E("xref"),E("0 "+(te+1)),E("0000000000 65535 f ");for(var A=1;A<=te;A++)typeof ie[A]=="function"?E((m+ie[A]()).slice(-10)+" 00000 n "):ie[A]!==void 0?E((m+ie[A]).slice(-10)+" 00000 n "):E("0000000000 00000 n ")},Ps=p.__private__.buildDocument=function(){var m;te=0,pe=0,de=[],ie=[],we=[],Ai=Rr(),is=Rr(),ze(de),Et.publish("buildDocument"),xr(),Es(),function(){Et.publish("putAdditionalObjects");for(var $=0;$<we.length;$++){var Q=we[$];Mr(Q.objId,!0),E(Q.content),E("endobj")}Et.publish("postPutAdditionalObjects")}(),m=[],function(){for(var $ in Ke)Ke.hasOwnProperty($)&&(g===!1||g===!0&&v.hasOwnProperty($))&&ba(Ke[$])}(),function(){var $;for($ in ot)ot.hasOwnProperty($)&&Uh(ot[$])}(),function(){for(var $ in Kr)Kr.hasOwnProperty($)&&uo(Kr[$])}(),function($){var Q;for(Q in rt)rt.hasOwnProperty(Q)&&(rt[Q]instanceof qa?co(rt[Q]):rt[Q]instanceof Xo&&ho(rt[Q],$))}(m),Et.publish("putResources"),m.forEach(Nl),Nl({resourcesOid:is,objectOid:Number.MAX_SAFE_INTEGER}),Et.publish("postPutResources"),f!==null&&(Nr.oid=sr(),E("<<"),E("/Filter /Standard"),E("/V "+Nr.v),E("/R "+Nr.r),E("/U <"+Nr.toHexString(Nr.U)+">"),E("/O <"+Nr.toHexString(Nr.O)+">"),E("/P "+Nr.P),E(">>"),E("endobj")),Cs(),fo();var A=pe;return fc(),zh(),E("startxref"),E(""+A),E("%%EOF"),ze(Le[z]),de.join(`
`)},po=p.__private__.getBlob=function(m){return new Blob([Ce(m)],{type:"application/pdf"})},pc=p.output=p.__private__.output=($n=function(m,A){switch(typeof(A=A||{})=="string"?A={filename:A}:A.filename=A.filename||"generated.pdf",m){case void 0:return Ps();case"save":p.save(A.filename);break;case"arraybuffer":return Ce(Ps());case"blob":return po(Ps());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(po(Ps()))||void 0;Ft.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $="",Q=Ps();try{$=hv(Q)}catch{$=hv(unescape(encodeURIComponent(Q)))}return"data:application/pdf;filename="+A.filename+";base64,"+$;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';A.pdfObjectUrl&&(se=A.pdfObjectUrl,be="");var Se='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+se+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(A)+");<\/script></body></html>",Ue=lt.open();return Ue!==null&&Ue.document.write(Se),Ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(A.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+A.filename+'" width="500px" height="400px" /></body></html>',ut=lt.open();if(ut!==null){ut.document.write(Ge);var mt=this;ut.document.documentElement.querySelector("#pdfViewer").onload=function(){ut.document.title=A.filename,ut.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mt.output("bloburl"))}}return ut}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",A)+'"></iframe></body></html>',Zt=lt.open();if(Zt!==null&&(Zt.document.write(St),Zt.document.title=A.filename),Zt||typeof safari>"u")return Zt;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",A);default:return null}},$n.foo=function(){try{return $n.apply(this,arguments)}catch($){var m=$.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var A="Error in function "+m.split(`
`)[0].split("<")[0]+": "+$.message;if(!lt.console)throw new Error(A);lt.console.error(A,$),lt.alert&&alert(A)}},$n.foo.bar=$n,$n.foo),Vn=function(m){return Array.isArray(va)===!0&&va.indexOf(m)>-1};switch(n){case"pt":Ae=1;break;case"mm":Ae=72/25.4;break;case"cm":Ae=72/2.54;break;case"in":Ae=72;break;case"px":Ae=Vn("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ae=12;break;case"ex":Ae=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ae=n}var Nr=null;me(),Y();var Js=p.__private__.getPageInfo=p.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[m].objId,pageNumber:m,pageContext:nt[m]}},mc=p.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var A in nt)if(nt[A].objId===m)break;return Js(A)},$h=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:nt[z].objId,pageNumber:z,pageContext:nt[z]}};p.addPage=function(){return uc.apply(this,arguments),this},p.setPage=function(){return cc.apply(this,arguments),ze.call(this,Le[z]),this},p.insertPage=function(m){return this.addPage(),this.movePage(z,m),this},p.movePage=function(m,A){var $,Q;if(m>A){$=Le[m],Q=nt[m];for(var se=m;se>A;se--)Le[se]=Le[se-1],nt[se]=nt[se-1];Le[A]=$,nt[A]=Q,this.setPage(A)}else if(m<A){$=Le[m],Q=nt[m];for(var be=m;be<A;be++)Le[be]=Le[be+1],nt[be]=nt[be+1];Le[A]=$,nt[A]=Q,this.setPage(A)}return this},p.deletePage=function(){return Sl.apply(this,arguments),this},p.__private__.text=p.text=function(m,A,$,Q,se){var be,Se,Ue,Ge,ut,mt,St,Zt,yr,Ut=(Q=Q||{}).scope||this;if(typeof m=="number"&&typeof A=="number"&&(typeof $=="string"||Array.isArray($))){var jr=$;$=A,A=m,m=jr}if(arguments[3]instanceof st==0?(Ue=arguments[4],Ge=arguments[5],Ot(St=arguments[3])==="object"&&St!==null||(typeof Ue=="string"&&(Ge=Ue,Ue=null),typeof St=="string"&&(Ge=St,St=null),typeof St=="number"&&(Ue=St,St=null),Q={flags:St,angle:Ue,align:Ge})):(T("The transform parameter of text() with a Matrix value"),yr=se),isNaN(A)||isNaN($)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return Ut;var br,Fr="",ri=typeof Q.lineHeightFactor=="number"?Q.lineHeightFactor:_a,us=Ut.internal.scaleFactor;function ni(Ct){return Ct=Ct.split("	").join(Array(Q.TabLen||9).join(" ")),Hn(Ct,St)}function Ol(Ct){for(var Dt,dr=Ct.concat(),Sr=[],ai=dr.length;ai--;)typeof(Dt=dr.shift())=="string"?Sr.push(Dt):Array.isArray(Ct)&&(Dt.length===1||Dt[1]===void 0&&Dt[2]===void 0)?Sr.push(Dt[0]):Sr.push([Dt[0],Dt[1],Dt[2]]);return Sr}function xo(Ct,Dt){var dr;if(typeof Ct=="string")dr=Dt(Ct)[0];else if(Array.isArray(Ct)){for(var Sr,ai,Hl=Ct.concat(),wo=[],kc=Hl.length;kc--;)typeof(Sr=Hl.shift())=="string"?wo.push(Dt(Sr)[0]):Array.isArray(Sr)&&typeof Sr[0]=="string"&&(ai=Dt(Sr[0],Sr[1],Sr[2]),wo.push([ai[0],ai[1],ai[2]]));dr=wo}return dr}var Li=!1,ka=!0;if(typeof m=="string")Li=!0;else if(Array.isArray(m)){var Aa=m.concat();Se=[];for(var Ei,Br=Aa.length;Br--;)(typeof(Ei=Aa.shift())!="string"||Array.isArray(Ei)&&typeof Ei[0]!="string")&&(ka=!1);Li=ka}if(Li===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var La=Ne/Ut.internal.scaleFactor,Ea=La*(ri-1);switch(Q.baseline){case"bottom":$-=Ea;break;case"top":$+=La-Ea;break;case"hanging":$+=La-2*Ea;break;case"middle":$+=La/2-Ea}if((mt=Q.maxWidth||0)>0&&(typeof m=="string"?m=Ut.splitTextToSize(m,mt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Ct,Dt){return Ct.concat(Ut.splitTextToSize(Dt,mt))},[]))),be={text:m,x:A,y:$,options:Q,mutex:{pdfEscape:Hn,activeFontKey:re,fonts:Ke,activeFontSize:Ne}},Et.publish("preProcessText",be),m=be.text,Ue=(Q=be.options).angle,yr instanceof st==0&&Ue&&typeof Ue=="number"){Ue*=Math.PI/180,Q.rotationDirection===0&&(Ue=-Ue),S===_&&(Ue=-Ue);var Il=Math.cos(Ue),Dl=Math.sin(Ue);yr=new st(Il,Dl,-Dl,Il,0,0)}else Ue&&Ue instanceof st&&(yr=Ue);S!==_||yr||(yr=Ks),(ut=Q.charSpace||Qs)!==void 0&&(Fr+=q(K(ut))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Zt=Q.horizontalScale)!==void 0&&(Fr+=q(100*Zt)+` Tz
`),Q.lang;var sn=-1,si=Q.renderingMode!==void 0?Q.renderingMode:Q.stroke,yo=Ut.internal.getCurrentPageInfo().pageContext;switch(si){case 0:case!1:case"fill":sn=0;break;case 1:case!0:case"stroke":sn=1;break;case 2:case"fillThenStroke":sn=2;break;case 3:case"invisible":sn=3;break;case 4:case"fillAndAddForClipping":sn=4;break;case 5:case"strokeAndAddPathForClipping":sn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":sn=6;break;case 7:case"addToPathForClipping":sn=7}var jc=yo.usedRenderingMode!==void 0?yo.usedRenderingMode:-1;sn!==-1?Fr+=sn+` Tr
`:jc!==-1&&(Fr+=`0 Tr
`),sn!==-1&&(yo.usedRenderingMode=sn),Ge=Q.align||"left";var Wn,Ca=Ne*ri,Ml=Ut.internal.pageSize.getWidth(),Fl=Ke[re];ut=Q.charSpace||Qs,mt=Q.maxWidth||0,St=Object.assign({autoencode:!0,noBOM:!0},Q.flags);var Ci=[],Pa=function(Ct){return Ut.getStringUnitWidth(Ct,{font:Fl,charSpace:ut,fontSize:Ne,doKerning:!1})*Ne/us};if(Object.prototype.toString.call(m)==="[object Array]"){var wn;Se=Ol(m),Ge!=="left"&&(Wn=Se.map(Pa));var _n,Pi=0;if(Ge==="right"){A-=Wn[0],m=[],Br=Se.length;for(var ii=0;ii<Br;ii++)ii===0?(_n=Ys(A),wn=Xs($)):(_n=K(Pi-Wn[ii]),wn=-Ca),m.push([Se[ii],_n,wn]),Pi=Wn[ii]}else if(Ge==="center"){A-=Wn[0]/2,m=[],Br=Se.length;for(var Ri=0;Ri<Br;Ri++)Ri===0?(_n=Ys(A),wn=Xs($)):(_n=K((Pi-Wn[Ri])/2),wn=-Ca),m.push([Se[Ri],_n,wn]),Pi=Wn[Ri]}else if(Ge==="left"){m=[],Br=Se.length;for(var Bl=0;Bl<Br;Bl++)m.push(Se[Bl])}else if(Ge==="justify"&&Fl.encoding==="Identity-H"){m=[],Br=Se.length,mt=mt!==0?mt:Ml;for(var bo=0,cr=0;cr<Br;cr++)if(wn=cr===0?Xs($):-Ca,_n=cr===0?Ys(A):bo,cr<Br-1){var Sc=K((mt-Wn[cr])/(Se[cr].split(" ").length-1)),Ts=Se[cr].split(" ");m.push([Ts[0]+" ",_n,wn]),bo=0;for(var Os=1;Os<Ts.length;Os++){var Ul=(Pa(Ts[Os-1]+" "+Ts[Os])-Pa(Ts[Os]))*us+Sc;Os==Ts.length-1?m.push([Ts[Os],Ul,0]):m.push([Ts[Os]+" ",Ul,0]),bo-=Ul}}else m.push([Se[cr],_n,wn]);m.push(["",bo,0])}else{if(Ge!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Br=Se.length,mt=mt!==0?mt:Ml,cr=0;cr<Br;cr++){wn=cr===0?Xs($):-Ca,_n=cr===0?Ys(A):0;var zl=Se[cr].split(" ").length-1,$l=zl>0?(mt-Wn[cr])/zl:0;cr<Br-1?Ci.push(q(K($l))):Ci.push(0),m.push([Se[cr],_n,wn])}}}(typeof Q.R2L=="boolean"?Q.R2L:Ze)===!0&&(m=xo(m,function(Ct,Dt,dr){return[Ct.split("").reverse().join(""),Dt,dr]})),be={text:m,x:A,y:$,options:Q,mutex:{pdfEscape:Hn,activeFontKey:re,fonts:Ke,activeFontSize:Ne}},Et.publish("postProcessText",be),m=be.text,br=be.mutex.isHex||!1;var ql=Ke[re].encoding;ql!=="WinAnsiEncoding"&&ql!=="StandardEncoding"||(m=xo(m,function(Ct,Dt,dr){return[ni(Ct),Dt,dr]})),Se=Ol(m),m=[];for(var Ti,Oi,Ii,Ra=Array.isArray(Se[0])?1:0,Di="",Ta=function(Ct,Dt,dr){var Sr="";return dr instanceof st?(dr=typeof Q.angle=="number"?Gs(dr,new st(1,0,0,1,Ct,Dt)):Gs(new st(1,0,0,1,Ct,Dt),dr),S===_&&(dr=Gs(new st(1,0,0,-1,0,0),dr)),Sr=dr.join(" ")+` Tm
`):Sr=q(Ct)+" "+q(Dt)+` Td
`,Sr},Gn=0;Gn<Se.length;Gn++){switch(Di="",Ra){case 1:Ii=(br?"<":"(")+Se[Gn][0]+(br?">":")"),Ti=parseFloat(Se[Gn][1]),Oi=parseFloat(Se[Gn][2]);break;case 0:Ii=(br?"<":"(")+Se[Gn]+(br?">":")"),Ti=Ys(A),Oi=Xs($)}Ci!==void 0&&Ci[Gn]!==void 0&&(Di=Ci[Gn]+` Tw
`),Gn===0?m.push(Di+Ta(Ti,Oi,yr)+Ii):Ra===0?m.push(Di+Ii):Ra===1&&m.push(Di+Ta(Ti,Oi,yr)+Ii)}m=Ra===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var Is=`BT
/`;return Is+=re+" "+Ne+` Tf
`,Is+=q(Ne*ri)+` TL
`,Is+=Na+`
`,Is+=Fr,Is+=m,E(Is+="ET"),v[re]=!0,Ut};var qh=p.__private__.clip=p.clip=function(m){return E(m==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return qh("evenodd")},p.__private__.discardPath=p.discardPath=function(){return E("n"),this};var Rs=p.__private__.isValidStyle=function(m){var A=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(A=!0),A};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(m){return Rs(m)&&(d=m),this};var gc=p.__private__.getStyle=p.getStyle=function(m){var A=d;switch(m){case"D":case"S":A="S";break;case"F":A="f";break;case"FD":case"DF":A="B";break;case"f":case"f*":case"B":case"B*":A=m}return A},vc=p.close=function(){return E("h"),this};p.stroke=function(){return E("S"),this},p.fill=function(m){return mo("f",m),this},p.fillEvenOdd=function(m){return mo("f*",m),this},p.fillStroke=function(m){return mo("B",m),this},p.fillStrokeEvenOdd=function(m){return mo("B*",m),this};var mo=function(m,A){Ot(A)==="object"?Vh(A,m):E(m)},wa=function(m){m===null||S===_&&m===void 0||(m=gc(m),E(m))};function Hh(m,A,$,Q,se){var be=new Xo(A||this.boundingBox,$||this.xStep,Q||this.yStep,this.gState,se||this.matrix);be.stream=this.stream;var Se=m+"$$"+this.cloneIndex+++"$$";return zn(Se,be),be}var Vh=function(m,A){var $=Bt[m.key],Q=rt[$];if(Q instanceof qa)E("q"),E(Wh(A)),Q.gState&&p.setGState(Q.gState),E(m.matrix.toString()+" cm"),E("/"+$+" sh"),E("Q");else if(Q instanceof Xo){var se=new st(1,0,0,-1,0,Sa());m.matrix&&(se=se.multiply(m.matrix||Ks),$=Hh.call(Q,m.key,m.boundingBox,m.xStep,m.yStep,se).id),E("q"),E("/Pattern cs"),E("/"+$+" scn"),Q.gState&&p.setGState(Q.gState),E(A),E("Q")}},Wh=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},kl=p.moveTo=function(m,A){return E(q(K(m))+" "+q(J(A))+" m"),this},xc=p.lineTo=function(m,A){return E(q(K(m))+" "+q(J(A))+" l"),this},ls=p.curveTo=function(m,A,$,Q,se,be){return E([q(K(m)),q(J(A)),q(K($)),q(J(Q)),q(K(se)),q(J(be)),"c"].join(" ")),this};p.__private__.line=p.line=function(m,A,$,Q,se){if(isNaN(m)||isNaN(A)||isNaN($)||isNaN(Q)||!Rs(se))throw new Error("Invalid arguments passed to jsPDF.line");return S===b?this.lines([[$-m,Q-A]],m,A,[1,1],se||"S"):this.lines([[$-m,Q-A]],m,A,[1,1]).stroke()},p.__private__.lines=p.lines=function(m,A,$,Q,se,be){var Se,Ue,Ge,ut,mt,St,Zt,yr,Ut,jr,br,Fr;if(typeof m=="number"&&(Fr=$,$=A,A=m,m=Fr),Q=Q||[1,1],be=be||!1,isNaN(A)||isNaN($)||!Array.isArray(m)||!Array.isArray(Q)||!Rs(se)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(kl(A,$),Se=Q[0],Ue=Q[1],ut=m.length,jr=A,br=$,Ge=0;Ge<ut;Ge++)(mt=m[Ge]).length===2?(jr=mt[0]*Se+jr,br=mt[1]*Ue+br,xc(jr,br)):(St=mt[0]*Se+jr,Zt=mt[1]*Ue+br,yr=mt[2]*Se+jr,Ut=mt[3]*Ue+br,jr=mt[4]*Se+jr,br=mt[5]*Ue+br,ls(St,Zt,yr,Ut,jr,br));return be&&vc(),wa(se),this},p.path=function(m){for(var A=0;A<m.length;A++){var $=m[A],Q=$.c;switch($.op){case"m":kl(Q[0],Q[1]);break;case"l":xc(Q[0],Q[1]);break;case"c":ls.apply(this,Q);break;case"h":vc()}}return this},p.__private__.rect=p.rect=function(m,A,$,Q,se){if(isNaN(m)||isNaN(A)||isNaN($)||isNaN(Q)||!Rs(se))throw new Error("Invalid arguments passed to jsPDF.rect");return S===b&&(Q=-Q),E([q(K(m)),q(J(A)),q(K($)),q(K(Q)),"re"].join(" ")),wa(se),this},p.__private__.triangle=p.triangle=function(m,A,$,Q,se,be,Se){if(isNaN(m)||isNaN(A)||isNaN($)||isNaN(Q)||isNaN(se)||isNaN(be)||!Rs(Se))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$-m,Q-A],[se-$,be-Q],[m-se,A-be]],m,A,[1,1],Se,!0),this},p.__private__.roundedRect=p.roundedRect=function(m,A,$,Q,se,be,Se){if(isNaN(m)||isNaN(A)||isNaN($)||isNaN(Q)||isNaN(se)||isNaN(be)||!Rs(Se))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ue=4/3*(Math.SQRT2-1);return se=Math.min(se,.5*$),be=Math.min(be,.5*Q),this.lines([[$-2*se,0],[se*Ue,0,se,be-be*Ue,se,be],[0,Q-2*be],[0,be*Ue,-se*Ue,be,-se,be],[2*se-$,0],[-se*Ue,0,-se,-be*Ue,-se,-be],[0,2*be-Q],[0,-be*Ue,se*Ue,-be,se,-be]],m+se,A,[1,1],Se,!0),this},p.__private__.ellipse=p.ellipse=function(m,A,$,Q,se){if(isNaN(m)||isNaN(A)||isNaN($)||isNaN(Q)||!Rs(se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*$,Se=4/3*(Math.SQRT2-1)*Q;return kl(m+$,A),ls(m+$,A-Se,m+be,A-Q,m,A-Q),ls(m-be,A-Q,m-$,A-Se,m-$,A),ls(m-$,A+Se,m-be,A+Q,m,A+Q),ls(m+be,A+Q,m+$,A+Se,m+$,A),wa(se),this},p.__private__.circle=p.circle=function(m,A,$,Q){if(isNaN(m)||isNaN(A)||isNaN($)||!Rs(Q))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,A,$,$,Q)},p.setFont=function(m,A,$){return $&&(A=G(A,$)),re=hc(m,A,{disableWarning:!1}),this};var Gh=p.__private__.getFont=p.getFont=function(){return Ke[hc.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var m,A,$={};for(m in tt)if(tt.hasOwnProperty(m))for(A in $[m]=[],tt[m])tt[m].hasOwnProperty(A)&&$[m].push(A);return $},p.addFont=function(m,A,$,Q,se){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?se=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&($=G($,Q)),lc.call(this,m,A,$,se=se||"Identity-H")};var _a,Al=e.lineWidth||.200025,Kh=p.__private__.getLineWidth=p.getLineWidth=function(){return Al},dt=p.__private__.setLineWidth=p.setLineWidth=function(m){return Al=m,E(q(K(m))+" w"),this};p.__private__.setLineDash=Xe.API.setLineDash=Xe.API.setLineDashPattern=function(m,A){if(m=m||[],A=A||0,isNaN(A)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function($){return q(K($))}).join(" "),A=q(K(A)),E("["+m+"] "+A+" d"),this};var Jh=p.__private__.getLineHeight=p.getLineHeight=function(){return Ne*_a};p.__private__.getLineHeight=p.getLineHeight=function(){return Ne*_a};var Yh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(_a=m),this},Xh=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return _a};Yh(e.lineHeight);var Ys=p.__private__.getHorizontalCoordinate=function(m){return K(m)},Xs=p.__private__.getVerticalCoordinate=function(m){return S===_?m:nt[z].mediaBox.topRightY-nt[z].mediaBox.bottomLeftY-K(m)},Qh=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(m){return q(Ys(m))},Zh=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(m){return q(Xs(m))},go=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ls(go)},p.__private__.setStrokeColor=p.setDrawColor=function(m,A,$,Q){return go=as({ch1:m,ch2:A,ch3:$,ch4:Q,pdfColorType:"draw",precision:2}),E(go),this};var Ll=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ls(Ll)},p.__private__.setFillColor=p.setFillColor=function(m,A,$,Q){return Ll=as({ch1:m,ch2:A,ch3:$,ch4:Q,pdfColorType:"fill",precision:2}),E(Ll),this};var Na=e.textColor||"0 g",ef=p.__private__.getTextColor=p.getTextColor=function(){return Ls(Na)};p.__private__.setTextColor=p.setTextColor=function(m,A,$,Q){return Na=as({ch1:m,ch2:A,ch3:$,ch4:Q,pdfColorType:"text",precision:3}),this};var Qs=e.charSpace,tf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Qs||0)};p.__private__.setCharSpace=p.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qs=m,this};var El=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(m){var A=p.CapJoinStyles[m];if(A===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return El=A,E(A+" J"),this};var Cl=0;p.__private__.setLineJoin=p.setLineJoin=function(m){var A=p.CapJoinStyles[m];if(A===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cl=A,E(A+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return E(q(K(m))+" M"),this},p.GState=mh,p.setGState=function(m){(m=typeof m=="string"?ot[ft[m]]:yc(null,m)).equals(Jt)||(E("/"+m.id+" gs"),Jt=m)};var yc=function(m,A){if(!m||!ft[m]){var $=!1;for(var Q in ot)if(ot.hasOwnProperty(Q)&&ot[Q].equals(A)){$=!0;break}if($)A=ot[Q];else{var se="GS"+(Object.keys(ot).length+1).toString(10);ot[se]=A,A.id=se}return m&&(ft[m]=A.id),Et.publish("addGState",A),A}};p.addGState=function(m,A){return yc(m,A),this},p.saveGraphicsState=function(){return E("q"),Kt.push({key:re,size:Ne,color:Na}),this},p.restoreGraphicsState=function(){E("Q");var m=Kt.pop();return re=m.key,Ne=m.size,Na=m.color,Jt=null,this},p.setCurrentTransformationMatrix=function(m){return E(m.toString()+" cm"),this},p.comment=function(m){return E("#"+m),this};var Zs=function(m,A){var $=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(be){isNaN(be)||($=parseFloat(be))}});var Q=A||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Q},set:function(be){isNaN(be)||(Q=parseFloat(be))}});var se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return se},set:function(be){se=be.toString()}}),this},Pl=function(m,A,$,Q){Zs.call(this,m,A),this.type="rect";var se=$||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return se},set:function(Se){isNaN(Se)||(se=parseFloat(Se))}});var be=Q||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(Se){isNaN(Se)||(be=parseFloat(Se))}}),this},vo=function(){this.page=wt,this.currentPage=z,this.pages=Le.slice(0),this.pagesContext=nt.slice(0),this.x=je,this.y=qe,this.matrix=et,this.width=Tl(z),this.height=wc(z),this.outputDestination=Oe,this.id="",this.objectNumber=-1};vo.prototype.restore=function(){wt=this.page,z=this.currentPage,nt=this.pagesContext,Le=this.pages,je=this.x,qe=this.y,et=this.matrix,bc(z,this.width),ei(z,this.height),Oe=this.outputDestination};var Rl=function(m,A,$,Q,se){As.push(new vo),wt=z=0,Le=[],je=m,qe=A,et=se,jl([$,Q])};for(var ja in p.beginFormObject=function(m,A,$,Q,se){return Rl(m,A,$,Q,se),this},p.endFormObject=function(m){return function(A){if(Ws[A])As.pop().restore();else{var $=new vo,Q="Xo"+(Object.keys(Kr).length+1).toString(10);$.id=Q,Ws[A]=Q,Kr[Q]=$,Et.publish("addFormObject",$),As.pop().restore()}}(m),this},p.doFormObject=function(m,A){var $=Kr[Ws[m]];return E("q"),E(A.toString()+" cm"),E("/"+$.id+" Do"),E("Q"),this},p.getFormObject=function(m){var A=Kr[Ws[m]];return{x:A.x,y:A.y,width:A.width,height:A.height,matrix:A.matrix}},p.save=function(m,A){return m=m||"generated.pdf",(A=A||{}).returnPromise=A.returnPromise||!1,A.returnPromise===!1?(Ua(po(Ps()),m),typeof Ua.unload=="function"&&lt.setTimeout&&setTimeout(Ua.unload,911),this):new Promise(function($,Q){try{var se=Ua(po(Ps()),m);typeof Ua.unload=="function"&&lt.setTimeout&&setTimeout(Ua.unload,911),$(se)}catch(be){Q(be.message)}})},Xe.API)Xe.API.hasOwnProperty(ja)&&(ja==="events"&&Xe.API.events.length?function(m,A){var $,Q,se;for(se=A.length-1;se!==-1;se--)$=A[se][0],Q=A[se][1],m.subscribe.apply(m,[$].concat(typeof Q=="function"?[Q]:Q))}(Et,Xe.API.events):p[ja]=Xe.API[ja]);function Tl(m){return nt[m].mediaBox.topRightX-nt[m].mediaBox.bottomLeftX}function bc(m,A){nt[m].mediaBox.topRightX=A+nt[m].mediaBox.bottomLeftX}function wc(m){return nt[m].mediaBox.topRightY-nt[m].mediaBox.bottomLeftY}function ei(m,A){nt[m].mediaBox.topRightY=A+nt[m].mediaBox.bottomLeftY}var ti=p.getPageWidth=function(m){return Tl(m=m||z)/Ae},_c=p.setPageWidth=function(m,A){bc(m,A*Ae)},Sa=p.getPageHeight=function(m){return wc(m=m||z)/Ae},Nc=p.setPageHeight=function(m,A){ei(m,A*Ae)};return p.internal={pdfEscape:Hn,getStyle:gc,getFont:Gh,getFontSize:De,getCharSpace:tf,getTextColor:ef,getLineHeight:Jh,getLineHeightFactor:Xh,getLineWidth:Kh,write:ve,getHorizontalCoordinate:Ys,getVerticalCoordinate:Xs,getCoordinateString:Qh,getVerticalCoordinateString:Zh,collections:{},newObject:sr,newAdditionalObject:xa,newObjectDeferred:Rr,newObjectDeferredBegin:Mr,getFilters:os,putStream:qn,events:Et,scaleFactor:Ae,pageSize:{getWidth:function(){return ti(z)},setWidth:function(m){_c(z,m)},getHeight:function(){return Sa(z)},setHeight:function(m){Nc(z,m)}},encryptionOptions:f,encryption:Nr,getEncryptor:function(m){return f!==null?Nr.encryptor(m,0):function(A){return A}},output:pc,getNumberOfPages:dc,get pages(){return Le},out:E,f2:P,f3:F,getPageInfo:Js,getPageInfoByObjId:mc,getCurrentPageInfo:$h,getPDFVersion:j,Point:Zs,Rectangle:Pl,Matrix:st,hasHotfix:Vn},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ti(z)},set:function(m){_c(z,m)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Sa(z)},set:function(m){Nc(z,m)},enumerable:!0,configurable:!0}),(function(m){for(var A=0,$=Ie.length;A<$;A++){var Q=lc.call(this,m[A][0],m[A][1],m[A][2],Ie[A][3],!0);g===!1&&(v[Q]=!0);var se=m[A][0].split("-");oc({id:Q,fontName:se[0],fontStyle:se[1]||""})}Et.publish("addFonts",{fonts:Ke,dictionary:tt})}).call(p,Ie),re="F1",uc(s,r),Et.publish("initialized"),p}Do.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Do.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Do.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Do.prototype.processOwnerPassword=function(e,t){return Fp(Mp(t).substr(0,5),e)},Do.prototype.encryptor=function(e,t){var r=Mp(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Fp(r,n)}},mh.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Ot(e)!==Ot(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Xe.API={events:[]},Xe.version="4.2.0";var or=Xe.API,X1=1,lo=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Po=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},so=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var r=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},ht=function(e){return e.toFixed(2)},Vi=function(e){return e.toFixed(5)};or.__acroform__={};var bn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},gv=function(e){return e*X1},Fs=function(e){var t=new sb,r=Be.internal.getHeight(e)||0,n=Be.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ht(n)),Number(ht(r))],t},JS=or.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},YS=or.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},XS=or.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},mr=or.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return XS(e,t-1)},gr=or.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return JS(e,t-1)},vr=or.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return YS(e,t-1)},QS=or.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],a=e[2],l=e[3],u={};return u.lowerLeft_X=r(s)||0,u.lowerLeft_Y=n(i+l)||0,u.upperRight_X=r(s+a)||0,u.upperRight_Y=n(i)||0,[Number(ht(u.lowerLeft_X)),Number(ht(u.lowerLeft_Y)),Number(ht(u.upperRight_X)),Number(ht(u.upperRight_Y))]},ZS=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Bp(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+ht(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Fs(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Bp=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(P){return P.split(`
`)}):s.map(function(P){return[P]});var i=r,a=Be.internal.getHeight(e)||0;a=a<0?-a:a;var l=Be.internal.getWidth(e)||0;l=l<0?-l:l;var u=function(P,F,K){if(P+1<s.length){var J=F+" "+s[P+1][0];return vd(J,e,K).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var d,f,g=vd("3",e,i).height,v=e.multiline?a-i:(a-g)/2,p=v+=2,N=0,j=0,k=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+vd(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",b=0,_=0;_<s.length;_++)if(s.hasOwnProperty(_)){var S=!1;if(s[_].length!==1&&k!==s[_].length-1){if((g+2)*(b+2)+2>a)continue e;x+=s[_][k],S=!0,j=_,_--}else{x=(x+=s[_][k]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var I=parseInt(_),W=u(I,x,i),G=_>=s.length-1;if(W&&!G){x+=" ",k=0;continue}if(W||G){if(G)j=I;else if(e.multiline&&(g+2)*(b+2)+2>a)continue e}else{if(!e.multiline||(g+2)*(b+2)+2>a)continue e;j=I}}for(var q="",T=N;T<=j;T++){var H=s[T];if(e.multiline){if(T===j){q+=H[k]+" ",k=(k+1)%H.length;continue}if(T===N){q+=H[H.length-1]+" ";continue}}q+=H[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,f=vd(q,e,i).width,e.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;default:d=2}t+=ht(d)+" "+ht(p)+` Td
`,t+="("+lo(q)+`) Tj
`,t+=-ht(d)+` 0 Td
`,p=-(i+2),f=0,N=S?j:j+1,b++,x=""}break}return n.text=t,n.fontSize=i,n},vd=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},ek={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tk=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},rk=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ss.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ek)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");X1=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new ib,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&tk(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],u=[],d=l.Rect;if(l.Rect&&(l.Rect=QS(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Be.createDefaultAppearanceStream(l),Ot(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=ZS(l);u.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var g="";for(var v in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(v)){var p=l.appearanceStreamContent[v];if(g+="/"+v+" ",g+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var N=p[a];typeof N=="function"&&(N=N.call(s,l)),g+="/"+a+" "+N+" ",s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N)}}else typeof(N=p)=="function"&&(N=N.call(s,l)),g+="/"+a+" "+N,s.internal.acroformPlugin.xForms.indexOf(N)>=0||s.internal.acroformPlugin.xForms.push(N);g+=">>"}u.push({key:"AP",value:`<<
`+g+">>"})}s.internal.putStream({additionalKeyValues:u,objectId:l.objId}),s.internal.out("endobj")}i&&function(j,k){for(var x in j)if(j.hasOwnProperty(x)){var b=x,_=j[x];k.internal.newObjectDeferredBegin(_.objId,!0),Ot(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete j[b]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},nb=or.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),Ot(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)==="/"?s+="/"+so(e[i].substr(1)):(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+lo(n(e[i].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},y0=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+lo(n(e))+")"},zs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zs.prototype.toString=function(){return this.objId+" 0 R"},zs.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},zs.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:nb(s,this.objId,this.scope)}):s instanceof zs?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var sb=function(){zs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};bn(sb,zs);var ib=function(){zs.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+lo(r(e))+")"}},set:function(r){e=r}})};bn(ib,zs);var Ss=function e(){zs.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!mr(t,3)},set:function(x){x?this.F=gr(t,3):this.F=vr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof gh)return;i="FieldObject"+e.FieldNum++}var x=function(b){return b};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+lo(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/X1:d},set:function(x){d=x}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(x){f=x}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof gh||this instanceof Ya))return y0(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=x}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Or==0?y0(v,this.objId,this.scope):v},set:function(x){x=x.toString(),v=this instanceof Or==0?x.substr(0,1)==="("?Po(x.substr(1,x.length-2)):Po(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Or==1?Po(v.substr(1,v.length-1)):v},set:function(x){x=x.toString(),v=this instanceof Or==1?"/"+so(x):x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Or==0?y0(p,this.objId,this.scope):p},set:function(x){x=x.toString(),p=this instanceof Or==0?x.substr(0,1)==="("?Po(x.substr(1,x.length-2)):Po(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Or==1?Po(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof Or==1?"/"+so(x):x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(x){x=!!x,j=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(x){N=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,1)},set:function(x){x?this.Ff=gr(this.Ff,1):this.Ff=vr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,2)},set:function(x){x?this.Ff=gr(this.Ff,2):this.Ff=vr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,3)},set:function(x){x?this.Ff=gr(this.Ff,3):this.Ff=vr(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');k=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(k){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};bn(Ss,zs);var il=function(){Ss.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nb(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,l){l||(l=1);for(var u,d=[];u=a.exec(i);)d.push(u[l]);return d}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,18)},set:function(r){r?this.Ff=gr(this.Ff,18):this.Ff=vr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=gr(this.Ff,19):this.Ff=vr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,20)},set:function(r){r?(this.Ff=gr(this.Ff,20),t.sort()):this.Ff=vr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,22)},set:function(r){r?this.Ff=gr(this.Ff,22):this.Ff=vr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,23)},set:function(r){r?this.Ff=gr(this.Ff,23):this.Ff=vr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,27)},set:function(r){r?this.Ff=gr(this.Ff,27):this.Ff=vr(this.Ff,27)}}),this.hasAppearanceStream=!1};bn(il,Ss);var al=function(){il.call(this),this.fontName="helvetica",this.combo=!1};bn(al,il);var ol=function(){al.call(this),this.combo=!0};bn(ol,al);var Id=function(){ol.call(this),this.edit=!0};bn(Id,ol);var Or=function(){Ss.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,15)},set:function(r){r?this.Ff=gr(this.Ff,15):this.Ff=vr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,16)},set:function(r){r?this.Ff=gr(this.Ff,16):this.Ff=vr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,17)},set:function(r){r?this.Ff=gr(this.Ff,17):this.Ff=vr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,26)},set:function(r){r?this.Ff=gr(this.Ff,26):this.Ff=vr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+lo(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Ot(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){var n=r==null?"":r.toString();n.substr(0,1)==="/"&&(n=n.substr(1)),e="/"+so(n)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+so(r)}})};bn(Or,Ss);var Dd=function(){Or.call(this),this.pushButton=!0};bn(Dd,Or);var ll=function(){Or.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};bn(ll,Or);var gh=function(){var e,t;Ss.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+lo(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Ot(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){var i=s==null?"":s.toString();i.substr(0,1)==="/"&&(i=i.substr(1)),r="/"+so(i)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){var i=s==null?"":s.toString();i.substr(0,1)==="/"&&(i=i.substr(1)),r="/"+so(i)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Be.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};bn(gh,Ss),ll.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},ll.prototype.createOption=function(e){var t=new gh;return t.Parent=this,t.optionName=e,this.Kids.push(t),nk.call(this.scope,t),t};var Md=function(){Or.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Be.CheckBox.createAppearanceStream()};bn(Md,Or);var Ya=function(){Ss.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,13)},set:function(t){t?this.Ff=gr(this.Ff,13):this.Ff=vr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,21)},set:function(t){t?this.Ff=gr(this.Ff,21):this.Ff=vr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,23)},set:function(t){t?this.Ff=gr(this.Ff,23):this.Ff=vr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,24)},set:function(t){t?this.Ff=gr(this.Ff,24):this.Ff=vr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,25)},set:function(t){t?this.Ff=gr(this.Ff,25):this.Ff=vr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,26)},set:function(t){t?this.Ff=gr(this.Ff,26):this.Ff=vr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};bn(Ya,Ss);var Fd=function(){Ya.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,14)},set:function(e){e?this.Ff=gr(this.Ff,14):this.Ff=vr(this.Ff,14)}}),this.password=!0};bn(Fd,Ya);var Be={CheckBox:{createAppearanceStream:function(){return{N:{On:Be.CheckBox.YesNormal},D:{On:Be.CheckBox.YesPushDown,Off:Be.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Fs(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=Bp(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ht(Be.internal.getWidth(e))+" "+ht(Be.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ht(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Fs(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=Be.internal.getHeight(e),a=Be.internal.getWidth(e),l=Bp(e,e.caption);return s.push("1 g"),s.push("0 0 "+ht(a)+" "+ht(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+ht(a-1)+" "+ht(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+ht(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Fs(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(Be.internal.getWidth(e))+" "+ht(Be.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Be.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Be.RadioButton.Circle.YesNormal,t.D[e]=Be.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Fs(e);t.scope=e.scope;var r=[],n=Be.internal.getWidth(e)<=Be.internal.getHeight(e)?Be.internal.getWidth(e)/4:Be.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Be.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Vi(Be.internal.getWidth(e)/2)+" "+Vi(Be.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Fs(e);t.scope=e.scope;var r=[],n=Be.internal.getWidth(e)<=Be.internal.getHeight(e)?Be.internal.getWidth(e)/4:Be.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Be.internal.Bezier_C).toFixed(5)),a=Number((n*Be.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Vi(Be.internal.getWidth(e)/2)+" "+Vi(Be.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Vi(Be.internal.getWidth(e)/2)+" "+Vi(Be.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Fs(e);t.scope=e.scope;var r=[],n=Be.internal.getWidth(e)<=Be.internal.getHeight(e)?Be.internal.getWidth(e)/4:Be.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Be.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Vi(Be.internal.getWidth(e)/2)+" "+Vi(Be.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Be.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Be.RadioButton.Cross.YesNormal,t.D[e]=Be.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Fs(e);t.scope=e.scope;var r=[],n=Be.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ht(Be.internal.getWidth(e)-2)+" "+ht(Be.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ht(n.x1.x)+" "+ht(n.x1.y)+" m"),r.push(ht(n.x2.x)+" "+ht(n.x2.y)+" l"),r.push(ht(n.x4.x)+" "+ht(n.x4.y)+" m"),r.push(ht(n.x3.x)+" "+ht(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Fs(e);t.scope=e.scope;var r=Be.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+ht(Be.internal.getWidth(e))+" "+ht(Be.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ht(Be.internal.getWidth(e)-2)+" "+ht(Be.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ht(r.x1.x)+" "+ht(r.x1.y)+" m"),n.push(ht(r.x2.x)+" "+ht(r.x2.y)+" l"),n.push(ht(r.x4.x)+" "+ht(r.x4.y)+" m"),n.push(ht(r.x3.x)+" "+ht(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Fs(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(Be.internal.getWidth(e))+" "+ht(Be.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Be.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Be.internal.getWidth(e),r=Be.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Be.internal.getWidth=function(e){var t=0;return Ot(e)==="object"&&(t=gv(e.Rect[2])),t},Be.internal.getHeight=function(e){var t=0;return Ot(e)==="object"&&(t=gv(e.Rect[3])),t};var nk=or.addField=function(e){if(rk(this,e),!(e instanceof Ss))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};or.AcroFormChoiceField=il,or.AcroFormListBox=al,or.AcroFormComboBox=ol,or.AcroFormEditBox=Id,or.AcroFormButton=Or,or.AcroFormPushButton=Dd,or.AcroFormRadioButton=ll,or.AcroFormCheckBox=Md,or.AcroFormTextField=Ya,or.AcroFormPasswordField=Fd,or.AcroFormAppearance=Be,or.AcroForm={ChoiceField:il,ListBox:al,ComboBox:ol,EditBox:Id,Button:Or,PushButton:Dd,RadioButton:ll,CheckBox:Md,TextField:Ya,PasswordField:Fd,Appearance:Be},Xe.AcroForm={ChoiceField:il,ListBox:al,ComboBox:ol,EditBox:Id,Button:Or,PushButton:Dd,RadioButton:ll,CheckBox:Md,TextField:Ya,PasswordField:Fd,Appearance:Be};Xe.AcroForm;function ab(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(P,F){var K,J,ce,fe,he,Y=r;if((F=F||r)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(W(P))for(he in n)for(ce=n[he],K=0;K<ce.length;K+=1){for(fe=!0,J=0;J<ce[K].length;J+=1)if(ce[K][J]!==void 0&&ce[K][J]!==P[J]){fe=!1;break}if(fe===!0){Y=he;break}}else for(he in n)for(ce=n[he],K=0;K<ce.length;K+=1){for(fe=!0,J=0;J<ce[K].length;J+=1)if(ce[K][J]!==void 0&&ce[K][J]!==P.charCodeAt(J)){fe=!1;break}if(fe===!0){Y=he;break}}return Y===r&&F!==r&&(Y=F),Y},i=function P(F){for(var K=this.internal.write,J=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var fe=[];if(fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Image"}),fe.push({key:"Width",value:F.width}),fe.push({key:"Height",value:F.height}),F.colorSpace===x.INDEXED?fe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(fe.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===x.DEVICE_CMYK&&fe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fe.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&fe.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var he="",Y=0,ae=F.transparency.length;Y<ae;Y++)he+=F.transparency[Y]+" "+F.transparency[Y]+" ";fe.push({key:"Mask",value:"["+he+"]"})}F.sMask!==void 0&&fe.push({key:"SMask",value:F.objectId+1+" 0 R"});var ge=F.filter!==void 0?["/"+F.filter]:void 0;if(J({data:F.data,additionalKeyValues:fe,alreadyAppliedFilters:ge,objectId:F.objectId}),K("endobj"),"sMask"in F&&F.sMask!==void 0){var me,C=(me=F.sMaskBitsPerComponent)!==null&&me!==void 0?me:F.bitsPerComponent,z={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:F.sMask};"filter"in F&&(z.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(F.width),z.filter=F.filter),P.call(this,z)}if(F.colorSpace===x.INDEXED){var V=this.internal.newObject();J({data:q(new Uint8Array(F.palette)),objectId:V}),K("endobj")}},a=function(){var P=this.internal.collections[t+"images"];for(var F in P)i.call(this,P[F])},l=function(){var P,F=this.internal.collections[t+"images"],K=this.internal.write;for(var J in F)K("/I"+(P=F[J]).index,P.objectId,"0","R")},u=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var P=this.internal.collections[t+"images"];return u.call(this),P},f=function(){return Object.keys(this.internal.collections[t+"images"]).length},g=function(P){return typeof e["process"+P.toUpperCase()]=="function"},v=function(P){return Ot(P)==="object"&&P.nodeType===1},p=function(P,F){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var K=""+P.getAttribute("src");if(K.indexOf("data:image/")===0)return Od(unescape(K).split("base64,").pop());var J=e.loadFile(K,!0);if(J!==void 0)return J}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var ce;switch(F){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return Od(P.toDataURL(ce,1).split("base64,").pop())}},N=function(P){var F=this.internal.collections[t+"images"];if(F){for(var K in F)if(P===F[K].alias)return F[K]}},j=function(P,F,K){return P||F||(P=-96,F=-96),P<0&&(P=-1*K.width*72/P/this.internal.scaleFactor),F<0&&(F=-1*K.height*72/F/this.internal.scaleFactor),P===0&&(P=F*K.width/K.height),F===0&&(F=P*K.height/K.width),[P,F]},k=function(P,F,K,J,ce,fe){var he=j.call(this,K,J,ce),Y=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,ge=d.call(this);if(K=he[0],J=he[1],ge[ce.index]=ce,fe){fe*=Math.PI/180;var me=Math.cos(fe),C=Math.sin(fe),z=function(Z){return Z.toFixed(4)},V=[z(me),z(C),z(-1*C),z(me),0,0,"cm"]}this.internal.write("q"),fe?(this.internal.write([1,"0","0",1,Y(P),ae(F+J),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([Y(K),"0","0",Y(J),"0","0","cm"].join(" "))):this.internal.write([Y(K),"0","0",Y(J),Y(P),ae(F+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(P){var F,K,J=0;if(typeof P=="string")for(K=P.length,F=0;F<K;F++)J=(J<<5)-J+P.charCodeAt(F),J|=0;else if(W(P))for(K=P.byteLength/2,F=0;F<K;F++)J=(J<<5)-J+P[F],J|=0;return J},S=e.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var F=!0;return P.length===0&&(F=!1),P.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(F=!1),F},I=e.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var F=P.indexOf(",");return F<0?null:P.substring(0,F).trim().endsWith("base64")?P.substring(F+1):null};e.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var W=e.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},G=e.__addimage__.binaryStringToUint8Array=function(P){for(var F=P.length,K=new Uint8Array(F),J=0;J<F;J++)K[J]=P.charCodeAt(J);return K},q=e.__addimage__.arrayBufferToBinaryString=function(P){for(var F="",K=W(P)?P:new Uint8Array(P),J=0;J<K.length;J+=8192)F+=String.fromCharCode.apply(null,K.subarray(J,J+8192));return F};e.addImage=function(){var P,F,K,J,ce,fe,he,Y,ae;if(typeof arguments[1]=="number"?(F=r,K=arguments[1],J=arguments[2],ce=arguments[3],fe=arguments[4],he=arguments[5],Y=arguments[6],ae=arguments[7]):(F=arguments[1],K=arguments[2],J=arguments[3],ce=arguments[4],fe=arguments[5],he=arguments[6],Y=arguments[7],ae=arguments[8]),Ot(P=arguments[0])==="object"&&!v(P)&&"imageData"in P){var ge=P;P=ge.imageData,F=ge.format||F||r,K=ge.x||K||0,J=ge.y||J||0,ce=ge.w||ge.width||ce,fe=ge.h||ge.height||fe,he=ge.alias||he,Y=ge.compression||Y,ae=ge.rotation||ge.angle||ae}var me=this.internal.getFilters();if(Y===void 0&&me.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(K)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var C=T.call(this,P,F,he,Y);return k.call(this,K,J,ce,fe,C,ae),this};var T=function(P,F,K,J){var ce,fe,he;if(typeof P=="string"&&s(P)===r){P=unescape(P);var Y=H(P,!1);(Y!==""||(Y=e.loadFile(P,!0))!==void 0)&&(P=Y)}if(v(P)&&(P=p(P,F)),F=s(P,F),!g(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((he=K)==null||he.length===0)&&(K=function(ae){return typeof ae=="string"||W(ae)?_(ae):W(ae.data)?_(ae.data):null}(P)),(ce=N.call(this,K))||(P instanceof Uint8Array||F==="RGBA"||(fe=P,P=G(P)),ce=this["process"+F.toUpperCase()](P,f.call(this),K,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in e.image_compression?ae:b.NONE}(J),fe)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},H=e.__addimage__.convertBase64ToBinaryString=function(P,F){F=typeof F!="boolean"||F;var K,J="";if(typeof P=="string"){var ce;K=(ce=I(P))!==null&&ce!==void 0?ce:P;try{J=Od(K)}catch(fe){if(F)throw S(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};e.getImageProperties=function(P){var F,K,J="";if(v(P)&&(P=p(P)),typeof P=="string"&&s(P)===r&&((J=H(P,!1))===""&&(J=e.loadFile(P)||""),P=J),K=s(P),!g(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(P instanceof Uint8Array||(P=G(P)),!(F=this["process"+K.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=K,F}})(Xe.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Xe.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,f=!1,g=0;g<d.length&&!f;g++)switch((n=d[g]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var v=0;v<d.length;v++){n=d[v];var p=this.internal.pdfEscape,N=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(j.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(x(n.contents))+")",i+=" /Popup "+k.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+p(x(b))+") >>",j.content=i;var _=j.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(i+=" /Open true"),i+=" >>",k.content=i,this.internal.write(j.objId,"0 R",k.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var S=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(N(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var I=this.annotations._nameMap[n.options.name];n.options.pageNumber=I.page,n.options.top=I.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(N(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var W=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+W+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,a){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(r),y:d(n),w:u(r+s),h:d(n+i)},options:a,type:"link"})},e.textWithLink=function(r,n,s,i){var a,l,u=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(r,l).length;a=Math.ceil(d*f)}else l=u,a=d;return this.text(r,n,s,i),s+=.2*d,i.align==="center"&&(n-=u/2),i.align==="right"&&(n-=u),this.link(n,s-d,l,a,i),u},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Xe.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(j){return t[j.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},l=e.__arabicParser__.isArabicEndLetter=function(j){return a(j)&&i(j)&&t[j.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(j){return a(j)&&s.indexOf(j.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return a(j)&&i(j)&&t[j.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(j){return a(j)&&i(j)&&t[j.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(j){return a(j)&&i(j)&&t[j.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(j){return a(j)&&i(j)&&t[j.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(j){var k=0,x=r,b="",_=0;for(k=0;k<j.length;k+=1)x[j.charCodeAt(k)]!==void 0?(_++,typeof(x=x[j.charCodeAt(k)])=="number"&&(b+=String.fromCharCode(x),x=r,_=0),k===j.length-1&&(x=r,b+=j.charAt(k-(_-1)),k-=_-1,_=0)):(x=r,b+=j.charAt(k-_),k-=_,_=0);return b};e.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&n[j.charCodeAt(0)]!==void 0};var v=e.__arabicParser__.getCorrectForm=function(j,k,x){return a(j)?i(j)===!1?-1:!d(j)||!a(k)&&!a(x)||!a(x)&&l(k)||l(j)&&!a(k)||l(j)&&u(k)||l(j)&&l(k)?0:f(j)&&a(k)&&!l(k)&&a(x)&&d(x)?3:l(j)||!a(x)?1:2:-1},p=function(j){var k=0,x=0,b=0,_="",S="",I="",W=(j=j||"").split("\\s+"),G=[];for(k=0;k<W.length;k+=1){for(G.push(""),x=0;x<W[k].length;x+=1)_=W[k][x],S=W[k][x-1],I=W[k][x+1],a(_)?(b=v(_,S,I),G[k]+=b!==-1?String.fromCharCode(t[_.charCodeAt(0)][b]):_):G[k]+=_;G[k]=g(G[k])}return G.join(" ")},N=e.__arabicParser__.processArabic=e.processArabic=function(){var j,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(k)){var b=0;for(x=[],b=0;b<k.length;b+=1)Array.isArray(k[b])?x.push([p(k[b][0]),k[b][1],k[b][2]]):x.push([p(k[b])]);j=x}else j=p(k);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};e.events.push(["preProcessText",N])}(Xe.API),Xe.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Xe.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(j){u=j}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(j){d=j}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(j){f=j}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(j){g=j}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(j){v=j}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(j){p=j}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(j){N=j}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),g=d.font||this.getFont(),v=d.scaleFactor||this.internal.scaleFactor,p=0,N=0,j=0,k=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var x=d.maxWidth;x>0?typeof u=="string"?u=this.splitTextToSize(u,x):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(_,S){return _.concat(k.splitTextToSize(S,x))},[])):u=Array.isArray(u)?u:[u];for(var b=0;b<u.length;b++)p<(j=this.getStringUnitWidth(u[b],{font:g})*f)&&(p=j);return p!==0&&(N=u.length),{w:p/=v,h:Math.max((N*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/v,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,g=this.internal.__cell__.margins||t,v=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=g.top,p&&v&&(this.printHeaderRow(u.lineNumber,!0),u.y+=v[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};e.table=function(u,d,f,g,v){if(n.call(this),!f)throw new Error("No data for PDF table.");var p,N,j,k,x=[],b=[],_=[],S={},I={},W=[],G=[],q=(v=v||{}).autoSize||!1,T=v.printHeaders!==!1,H=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,P=v.margins||Object.assign({width:this.getPageWidth()},t),F=typeof v.padding=="number"?v.padding:3,K=v.headerBackgroundColor||"#c8c8c8",J=v.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=J,this.setFontSize(H),g==null)b=x=Object.keys(f[0]),_=x.map(function(){return"left"});else if(Array.isArray(g)&&Ot(g[0])==="object")for(x=g.map(function(ge){return ge.name}),b=g.map(function(ge){return ge.prompt||ge.name||""}),_=g.map(function(ge){return ge.align||"left"}),p=0;p<g.length;p+=1)I[g[p].name]=.7499990551181103*g[p].width;else Array.isArray(g)&&typeof g[0]=="string"&&(b=x=g,_=x.map(function(){return"left"}));if(q||Array.isArray(g)&&typeof g[0]=="string")for(p=0;p<x.length;p+=1){for(S[k=x[p]]=f.map(function(ge){return ge[k]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=S[k],this.setFont(void 0,"normal"),j=0;j<N.length;j+=1)W.push(this.getTextDimensions(N[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[k]=Math.max.apply(null,W)+F+F,W=[]}if(T){var ce={};for(p=0;p<x.length;p+=1)ce[x[p]]={},ce[x[p]].text=b[p],ce[x[p]].align=_[p];var fe=l.call(this,ce,I);G=x.map(function(ge){return new i(u,d,I[ge],fe,ce[ge].text,void 0,ce[ge].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var he=g.reduce(function(ge,me){return ge[me.name]=me.align,ge},{});for(p=0;p<f.length;p+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:p,data:f[p]},this);var Y=l.call(this,f[p],I);for(j=0;j<x.length;j+=1){var ae=f[p][x[j]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:p,col:j,data:ae},this),a.call(this,new i(u,d,I[x[j]],Y,ae,p+2,he[x[j]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var l=function(u,d){var f=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(u).map(function(p){var N=u[p];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*g/v+f+f},this).reduce(function(p,N){return Math.max(p,N)},0)};e.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,v.push(f)),f.lineNumber=u;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(N)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(Xe.API);var ob={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},lb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Up=ab(lb),ub=[100,200,300,400,500,600,700,800,900],sk=ab(ub);function b0(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return ob[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof Up[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function vv(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var ik={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yv(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function bv(e){return e.trimLeft()}function ak(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function ok(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Ro,xd,wv,_v,Nv,w0=["times"];function jv(e,t,r,n,s){var i=4,a=kv;switch(s){case Xe.API.image_compression.FAST:i=1,a=Sv;break;case Xe.API.image_compression.MEDIUM:i=6,a=Av;break;case Xe.API.image_compression.SLOW:i=9,a=Lv}e=function(u,d,f,g){for(var v,p=u.length/d,N=new Uint8Array(u.length+p),j=[lk,Sv,kv,Av,Lv],k=0;k<p;k+=1){var x=k*d,b=u.subarray(x,x+d);if(g)N.set(g(b,f,v),x+k);else{for(var _=j.length,S=[],I=0;I<_;I+=1)S[I]=j[I](b,f,v);var W=ck(S.concat());N.set(S[W],x+k)}v=b}return N}(e,t,Math.ceil(r*n/8),a);var l=Tp(e,{level:i});return Xe.API.__addimage__.arrayBufferToBinaryString(l)}function lk(e){var t=Array.apply([],e);return t.unshift(0),t}function Sv(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;n[s+1]=e[s]-i+256&255}return n}function kv(e,t,r){var n=e.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var a=r&&r[i]||0;s[i+1]=e[i]-a+256&255}return s}function Av(e,t,r){var n=e.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var a=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(a+l>>>1)&255}return s}function Lv(e,t,r){var n=e.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var a=uk(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-a+256&255}return s}function uk(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=s&&n<=i?e:s<=i?t:r}function ck(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function _0(e,t,r){var n=t*r,s=Math.floor(n/8),i=16-(n-8*s+r),a=(1<<r)-1;return cb(e,s)>>i&a}function Ev(e,t,r,n){var s=r*n,i=Math.floor(s/8),a=16-(s-8*i+n),l=(1<<n)-1,u=(t&l)<<a;(function(d,f,g){if(f+1<d.byteLength)d.setUint16(f,g,!1);else{var v=g>>8&255;d.setUint8(f,v)}})(e,i,cb(e,i)&~(l<<a)&65535|u)}function cb(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function dk(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,a=1<<1+(7&s);e[t++],e[t++];var l=null,u=null;i&&(l=t,u=a,t+=3*a);var d=!0,f=[],g=0,v=null,p=0,N=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,N=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var j=e[t++];g=e[t++]|e[t++]<<8,v=e[t++],1&j||(v=null),p=j>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var k=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,S=e[t++],I=S>>6&1,W=1<<1+(7&S),G=l,q=u,T=!1;S>>7&&(T=!0,G=t,q=W,t+=3*W);var H=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}f.push({x:k,y:x,width:b,height:_,has_local_palette:T,palette_offset:G,palette_size:q,data_offset:H,data_length:t-H,transparent_index:v,interlaced:!!I,delay:g,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return N},this.frameInfo=function(F){if(F<0||F>=f.length)throw new Error("Frame index out of range.");return f[F]},this.decodeAndBlitFrameBGRA=function(F,K){var J=this.frameInfo(F),ce=J.width*J.height;if(ce>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var fe=new Uint8Array(ce);Cv(e,J.data_offset,fe,ce);var he=J.palette_offset,Y=J.transparent_index;Y===null&&(Y=256);var ae=J.width,ge=r-ae,me=ae,C=4*(J.y*r+J.x),z=4*((J.y+J.height)*r+J.x),V=C,Z=4*ge;J.interlaced===!0&&(Z+=4*r*7);for(var te=8,ie=0,de=fe.length;ie<de;++ie){var pe=fe[ie];if(me===0&&(me=ae,(V+=Z)>=z&&(Z=4*ge+4*r*(te-1),V=C+(ae+ge)*(te<<1),te>>=1)),pe===Y)V+=4;else{var we=e[he+3*pe],Le=e[he+3*pe+1],Re=e[he+3*pe+2];K[V++]=Re,K[V++]=Le,K[V++]=we,K[V++]=255}--me}},this.decodeAndBlitFrameRGBA=function(F,K){var J=this.frameInfo(F),ce=J.width*J.height;if(ce>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var fe=new Uint8Array(ce);Cv(e,J.data_offset,fe,ce);var he=J.palette_offset,Y=J.transparent_index;Y===null&&(Y=256);var ae=J.width,ge=r-ae,me=ae,C=4*(J.y*r+J.x),z=4*((J.y+J.height)*r+J.x),V=C,Z=4*ge;J.interlaced===!0&&(Z+=4*r*7);for(var te=8,ie=0,de=fe.length;ie<de;++ie){var pe=fe[ie];if(me===0&&(me=ae,(V+=Z)>=z&&(Z=4*ge+4*r*(te-1),V=C+(ae+ge)*(te<<1),te>>=1)),pe===Y)V+=4;else{var we=e[he+3*pe],Le=e[he+3*pe+1],Re=e[he+3*pe+2];K[V++]=we,K[V++]=Le,K[V++]=Re,K[V++]=255}--me}}}function Cv(e,t,r,n){for(var s=e[t++],i=1<<s,a=i+1,l=a+1,u=s+1,d=(1<<u)-1,f=0,g=0,v=0,p=e[t++],N=new Int32Array(4096),j=null;;){for(;f<16&&p!==0;)g|=e[t++]<<f,f+=8,p===1?p=e[t++]:--p;if(f<u)break;var k=g&d;if(g>>=u,f-=u,k!==i){if(k===a)break;for(var x=k<l?k:j,b=0,_=x;_>i;)_=N[_]>>8,++b;var S=_;if(v+b+(x!==k?1:0)>n)return void Ft.log("Warning, gif stream longer than expected.");r[v++]=S;var I=v+=b;for(x!==k&&(r[v++]=S),_=x;b--;)_=N[_],r[--I]=255&_,_>>=8;j!==null&&l<4096&&(N[l++]=j<<8|S,l>=d+1&&u<12&&(++u,d=d<<1|1)),j=k}else l=a+1,d=(1<<(u=s+1))-1,j=null}return v!==n&&Ft.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function N0(e){var t,r,n,s,i,a=Math.floor,l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(64),g=new Array(65535),v=new Array(65535),p=new Array(64),N=new Array(64),j=[],k=0,x=7,b=new Array(64),_=new Array(64),S=new Array(64),I=new Array(256),W=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fe(C,z){for(var V=0,Z=0,te=new Array,ie=1;ie<=16;ie++){for(var de=1;de<=C[ie];de++)te[z[Z]]=[],te[z[Z]][0]=V,te[z[Z]][1]=ie,Z++,V++;V*=2}return te}function he(C){for(var z=C[0],V=C[1]-1;V>=0;)z&1<<V&&(k|=1<<x),V--,--x<0&&(k==255?(Y(255),Y(0)):Y(k),x=7,k=0)}function Y(C){j.push(C)}function ae(C){Y(C>>8&255),Y(255&C)}function ge(C,z,V,Z,te){for(var ie,de=te[0],pe=te[240],we=function(Ne,Qe){var De,Ze,$e,Lt,yt,ct,bt,xt,re,Ae,je=0;for(re=0;re<8;++re){De=Ne[je],Ze=Ne[je+1],$e=Ne[je+2],Lt=Ne[je+3],yt=Ne[je+4],ct=Ne[je+5],bt=Ne[je+6];var qe=De+(xt=Ne[je+7]),et=De-xt,Ke=Ze+bt,tt=Ze-bt,Kt=$e+ct,rt=$e-ct,Bt=Lt+yt,ot=Lt-yt,ft=qe+Bt,Jt=qe-Bt,wt=Ke+Kt,nt=Ke-Kt;Ne[je]=ft+wt,Ne[je+4]=ft-wt;var Et=.707106781*(nt+Jt);Ne[je+2]=Jt+Et,Ne[je+6]=Jt-Et;var va=.382683433*((ft=ot+rt)-(nt=tt+et)),Kr=.5411961*ft+va,Ws=1.306562965*nt+va,As=.707106781*(wt=rt+tt),st=et+As,Gs=et-As;Ne[je+5]=Gs+Kr,Ne[je+3]=Gs-Kr,Ne[je+1]=st+Ws,Ne[je+7]=st-Ws,je+=8}for(je=0,re=0;re<8;++re){De=Ne[je],Ze=Ne[je+8],$e=Ne[je+16],Lt=Ne[je+24],yt=Ne[je+32],ct=Ne[je+40],bt=Ne[je+48];var Ks=De+(xt=Ne[je+56]),zn=De-xt,$n=Ze+bt,sr=Ze-bt,Rr=$e+ct,Mr=$e-ct,xa=Lt+yt,Ai=Lt-yt,is=Ks+xa,Ls=Ks-xa,as=$n+Rr,os=$n-Rr;Ne[je]=is+as,Ne[je+32]=is-as;var qn=.707106781*(os+Ls);Ne[je+16]=Ls+qn,Ne[je+48]=Ls-qn;var ya=.382683433*((is=Ai+Mr)-(os=sr+zn)),Es=.5411961*is+ya,ba=1.306562965*os+ya,uo=.707106781*(as=Mr+sr),co=zn+uo,ho=zn-uo;Ne[je+40]=ho+Es,Ne[je+24]=ho-Es,Ne[je+8]=co+ba,Ne[je+56]=co-ba,je++}for(re=0;re<64;++re)Ae=Ne[re]*Qe[re],p[re]=Ae>0?Ae+.5|0:Ae-.5|0;return p}(C,z),Le=0;Le<64;++Le)N[G[Le]]=we[Le];var Re=N[0]-V;V=N[0],Re==0?he(Z[0]):(he(Z[v[ie=32767+Re]]),he(g[ie]));for(var Oe=63;Oe>0&&N[Oe]==0;)Oe--;if(Oe==0)return he(de),V;for(var ze,E=1;E<=Oe;){for(var ve=E;N[E]==0&&E<=Oe;)++E;var Ce=E-ve;if(Ce>=16){ze=Ce>>4;for(var Ie=1;Ie<=ze;++Ie)he(pe);Ce&=15}ie=32767+N[E],he(te[(Ce<<4)+v[ie]]),he(g[ie]),E++}return Oe!=63&&he(de),V}function me(C){C=Math.min(Math.max(C,1),100),i!=C&&(function(z){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var te=a((V[Z]*z+50)/100);te=Math.min(Math.max(te,1),255),l[G[Z]]=te}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var pe=a((ie[de]*z+50)/100);pe=Math.min(Math.max(pe,1),255),u[G[de]]=pe}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Re=0;Re<8;Re++)for(var Oe=0;Oe<8;Oe++)d[Le]=1/(l[G[Le]]*we[Re]*we[Oe]*8),f[Le]=1/(u[G[Le]]*we[Re]*we[Oe]*8),Le++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),i=C)}this.encode=function(C,z){z&&me(z),j=new Array,k=0,x=7,ae(65496),ae(65504),ae(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),ae(1),ae(1),Y(0),Y(0),function(){ae(65499),ae(132),Y(0);for(var Ze=0;Ze<64;Ze++)Y(l[Ze]);Y(1);for(var $e=0;$e<64;$e++)Y(u[$e])}(),function(Ze,$e){ae(65472),ae(17),Y(8),ae($e),ae(Ze),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(C.width,C.height),function(){ae(65476),ae(418),Y(0);for(var Ze=0;Ze<16;Ze++)Y(q[Ze+1]);for(var $e=0;$e<=11;$e++)Y(T[$e]);Y(16);for(var Lt=0;Lt<16;Lt++)Y(H[Lt+1]);for(var yt=0;yt<=161;yt++)Y(P[yt]);Y(1);for(var ct=0;ct<16;ct++)Y(F[ct+1]);for(var bt=0;bt<=11;bt++)Y(K[bt]);Y(17);for(var xt=0;xt<16;xt++)Y(J[xt+1]);for(var re=0;re<=161;re++)Y(ce[re])}(),ae(65498),ae(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var V=0,Z=0,te=0;k=0,x=7,this.encode.displayName="_encode_";for(var ie,de,pe,we,Le,Re,Oe,ze,E,ve=C.data,Ce=C.width,Ie=C.height,Ne=4*Ce,Qe=0;Qe<Ie;){for(ie=0;ie<Ne;){for(Le=Ne*Qe+ie,Oe=-1,ze=0,E=0;E<64;E++)Re=Le+(ze=E>>3)*Ne+(Oe=4*(7&E)),Qe+ze>=Ie&&(Re-=Ne*(Qe+1+ze-Ie)),ie+Oe>=Ne&&(Re-=ie+Oe-Ne+4),de=ve[Re++],pe=ve[Re++],we=ve[Re++],b[E]=(W[de]+W[pe+256|0]+W[we+512|0]>>16)-128,_[E]=(W[de+768|0]+W[pe+1024|0]+W[we+1280|0]>>16)-128,S[E]=(W[de+1280|0]+W[pe+1536|0]+W[we+1792|0]>>16)-128;V=ge(b,d,V,t,n),Z=ge(_,f,Z,r,s),te=ge(S,f,te,r,s),ie+=32}Qe+=8}if(x>=0){var De=[];De[1]=x+1,De[0]=(1<<x+1)-1,he(De)}return ae(65497),new Uint8Array(j)},e=e||50,function(){for(var C=String.fromCharCode,z=0;z<256;z++)I[z]=C(z)}(),t=fe(q,T),r=fe(F,K),n=fe(H,P),s=fe(J,ce),function(){for(var C=1,z=2,V=1;V<=15;V++){for(var Z=C;Z<z;Z++)v[32767+Z]=V,g[32767+Z]=[],g[32767+Z][1]=V,g[32767+Z][0]=Z;for(var te=-(z-1);te<=-C;te++)v[32767+te]=V,g[32767+te]=[],g[32767+te][1]=V,g[32767+te][0]=z-1+te;C<<=1,z<<=1}}(),function(){for(var C=0;C<256;C++)W[C]=19595*C,W[C+256|0]=38470*C,W[C+512|0]=7471*C+32768,W[C+768|0]=-11059*C,W[C+1024|0]=-21709*C,W[C+1280|0]=32768*C+8421375,W[C+1536|0]=-27439*C,W[C+1792|0]=-5329*C}(),me(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ps(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Pv(e){function t(T){if(!T)throw Error("assert :P")}function r(T,H,P){for(var F=0;4>F;F++)if(T[H+F]!=P.charCodeAt(F))return!0;return!1}function n(T,H,P,F,K){for(var J=0;J<K;J++)T[H+J]=P[F+J]}function s(T,H,P,F){for(var K=0;K<F;K++)T[H+K]=P}function i(T){return new Int32Array(T)}function a(T,H){for(var P=[],F=0;F<T;F++)P.push(new H);return P}function l(T,H){var P=[];return function F(K,J,ce){for(var fe=ce[J],he=0;he<fe&&(K.push(ce.length>J+1?[]:new H),!(ce.length<J+1));he++)F(K[he],J+1,ce)}(P,0,T),P}var u=function(){var T=this;function H(c,h){for(var y=1<<h-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function P(c,h,y,w,L){t(!(w%y));do c[h+(w-=y)]=L;while(0<w)}function F(c,h,y,w,L){if(t(2328>=L),512>=L)var R=i(512);else if((R=i(L))==null)return 0;return function(O,D,M,B,ee,ue){var U,ne,oe=D,xe=1<<M,le=i(16),ye=i(16);for(t(ee!=0),t(B!=null),t(O!=null),t(0<M),ne=0;ne<ee;++ne){if(15<B[ne])return 0;++le[B[ne]]}if(le[0]==ee)return 0;for(ye[1]=0,U=1;15>U;++U){if(le[U]>1<<U)return 0;ye[U+1]=ye[U]+le[U]}for(ne=0;ne<ee;++ne)U=B[ne],0<B[ne]&&(ue[ye[U]++]=ne);if(ye[15]==1)return(B=new K).g=0,B.value=ue[0],P(O,oe,1,xe,B),xe;var _e,Ee=-1,ke=xe-1,Je=0,Fe=1,gt=1,He=1<<M;for(ne=0,U=1,ee=2;U<=M;++U,ee<<=1){if(Fe+=gt<<=1,0>(gt-=le[U]))return 0;for(;0<le[U];--le[U])(B=new K).g=U,B.value=ue[ne++],P(O,oe+Je,ee,He,B),Je=H(Je,U)}for(U=M+1,ee=2;15>=U;++U,ee<<=1){if(Fe+=gt<<=1,0>(gt-=le[U]))return 0;for(;0<le[U];--le[U]){if(B=new K,(Je&ke)!=Ee){for(oe+=He,_e=1<<(Ee=U)-M;15>Ee&&!(0>=(_e-=le[Ee]));)++Ee,_e<<=1;xe+=He=1<<(_e=Ee-M),O[D+(Ee=Je&ke)].g=_e+M,O[D+Ee].value=oe-D-Ee}B.g=U-M,B.value=ue[ne++],P(O,oe+(Je>>M),ee,He,B),Je=H(Je,U)}}return Fe!=2*ye[15]-1?0:xe}(c,h,y,w,L,R)}function K(){this.value=this.g=0}function J(){this.value=this.g=0}function ce(){this.G=a(5,K),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Pa,J)}function fe(c,h,y,w){t(c!=null),t(h!=null),t(2147483648>w),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=h,c.pa=y,c.Jd=h,c.Yc=y+w,c.Zc=4<=w?y+w-4+1:y,de(c)}function he(c,h){for(var y=0;0<h--;)y|=we(c,128)<<h;return y}function Y(c,h){var y=he(c,h);return pe(c)?-y:y}function ae(c,h,y,w){var L,R=0;for(t(c!=null),t(h!=null),t(4294967288>w),c.Sb=w,c.Ra=0,c.u=0,c.h=0,4<w&&(w=4),L=0;L<w;++L)R+=h[y+L]<<8*L;c.Ra=R,c.bb=w,c.oa=h,c.pa=y}function ge(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Pi-8>>>0,++c.bb,c.u-=8;Z(c)&&(c.h=1,c.u=0)}function me(c,h){if(t(0<=h),!c.h&&h<=_n){var y=V(c)&wn[h];return c.u+=h,ge(c),y}return c.h=1,c.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(c){return c.Ra>>>(c.u&Pi-1)>>>0}function Z(c){return t(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Pi}function te(c,h){c.u=h,c.h=Z(c)}function ie(c){c.u>=ii&&(t(c.u>=ii),ge(c))}function de(c){t(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(t(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function pe(c){return he(c,1)}function we(c,h){var y=c.Ca;0>c.b&&de(c);var w=c.b,L=y*h>>>8,R=(c.I>>>w>L)+0;for(R?(y-=L,c.I-=L+1<<w>>>0):y=L+1,w=y,L=0;256<=w;)L+=8,w>>=8;return w=7^L+Ri[w],c.b-=w,c.Ca=(y<<w)-1,R}function Le(c,h,y){c[h+0]=y>>24&255,c[h+1]=y>>16&255,c[h+2]=y>>8&255,c[h+3]=255&y}function Re(c,h){return c[h+0]|c[h+1]<<8}function Oe(c,h){return Re(c,h)|c[h+2]<<16}function ze(c,h){return Re(c,h)|Re(c,h+2)<<16}function E(c,h){var y=1<<h;return t(c!=null),t(0<h),c.X=i(y),c.X==null?0:(c.Mb=32-h,c.Xa=h,1)}function ve(c,h){t(c!=null),t(h!=null),t(c.Xa==h.Xa),n(h.X,0,c.X,0,1<<h.Xa)}function Ce(){this.X=[],this.Xa=this.Mb=0}function Ie(c,h,y,w){t(y!=null),t(w!=null);var L=y[0],R=w[0];return L==0&&(L=(c*R+h/2)/h),R==0&&(R=(h*L+c/2)/c),0>=L||0>=R?0:(y[0]=L,w[0]=R,1)}function Ne(c,h){return c+(1<<h)-1>>>h}function Qe(c,h){return((4278255360&c)+(4278255360&h)>>>0&4278255360)+((16711935&c)+(16711935&h)>>>0&16711935)>>>0}function De(c,h){T[h]=function(y,w,L,R,O,D,M){var B;for(B=0;B<O;++B){var ee=T[c](D[M+B-1],L,R+B);D[M+B]=Qe(y[w+B],ee)}}}function Ze(){this.ud=this.hd=this.jd=0}function $e(c,h){return((4278124286&(c^h))>>>1)+(c&h)>>>0}function Lt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function yt(c,h){return Lt(c+(c-h+.5>>1))}function ct(c,h,y){return Math.abs(h-y)-Math.abs(c-y)}function bt(c,h,y,w,L,R,O){for(w=R[O-1],y=0;y<L;++y)R[O+y]=w=Qe(c[h+y],w)}function xt(c,h,y,w,L){var R;for(R=0;R<y;++R){var O=c[h+R],D=O>>8&255,M=16711935&(M=(M=16711935&O)+((D<<16)+D));w[L+R]=(4278255360&O)+M>>>0}}function re(c,h){h.jd=255&c,h.hd=c>>8&255,h.ud=c>>16&255}function Ae(c,h,y,w,L,R){var O;for(O=0;O<w;++O){var D=h[y+O],M=D>>>8,B=D,ee=255&(ee=(ee=D>>>16)+((c.jd<<24>>24)*(M<<24>>24)>>>5));B=255&(B=(B+=(c.hd<<24>>24)*(M<<24>>24)>>>5)+((c.ud<<24>>24)*(ee<<24>>24)>>>5)),L[R+O]=(4278255360&D)+(ee<<16)+B}}function je(c,h,y,w,L){T[h]=function(R,O,D,M,B,ee,ue,U,ne){for(M=ue;M<U;++M)for(ue=0;ue<ne;++ue)B[ee++]=L(D[w(R[O++])])},T[c]=function(R,O,D,M,B,ee,ue){var U=8>>R.b,ne=R.Ea,oe=R.K[0],xe=R.w;if(8>U)for(R=(1<<R.b)-1,xe=(1<<U)-1;O<D;++O){var le,ye=0;for(le=0;le<ne;++le)le&R||(ye=w(M[B++])),ee[ue++]=L(oe[ye&xe]),ye>>=U}else T["VP8LMapColor"+y](M,B,oe,xe,ee,ue,O,D,ne)}}function qe(c,h,y,w,L){for(y=h+y;h<y;){var R=c[h++];w[L++]=R>>16&255,w[L++]=R>>8&255,w[L++]=255&R}}function et(c,h,y,w,L){for(y=h+y;h<y;){var R=c[h++];w[L++]=R>>16&255,w[L++]=R>>8&255,w[L++]=255&R,w[L++]=R>>24&255}}function Ke(c,h,y,w,L){for(y=h+y;h<y;){var R=(O=c[h++])>>16&240|O>>12&15,O=240&O|O>>28&15;w[L++]=R,w[L++]=O}}function tt(c,h,y,w,L){for(y=h+y;h<y;){var R=(O=c[h++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;w[L++]=R,w[L++]=O}}function Kt(c,h,y,w,L){for(y=h+y;h<y;){var R=c[h++];w[L++]=255&R,w[L++]=R>>8&255,w[L++]=R>>16&255}}function rt(c,h,y,w,L,R){if(R==0)for(y=h+y;h<y;)Le(w,((R=c[h++])[0]>>24|R[1]>>8&65280|R[2]<<8&16711680|R[3]<<24)>>>0),L+=32;else n(w,L,c,h,y)}function Bt(c,h){T[h][0]=T[c+"0"],T[h][1]=T[c+"1"],T[h][2]=T[c+"2"],T[h][3]=T[c+"3"],T[h][4]=T[c+"4"],T[h][5]=T[c+"5"],T[h][6]=T[c+"6"],T[h][7]=T[c+"7"],T[h][8]=T[c+"8"],T[h][9]=T[c+"9"],T[h][10]=T[c+"10"],T[h][11]=T[c+"11"],T[h][12]=T[c+"12"],T[h][13]=T[c+"13"],T[h][14]=T[c+"0"],T[h][15]=T[c+"0"]}function ot(c){return c==sf||c==af||c==Rc||c==of}function ft(){this.eb=[],this.size=this.A=this.fb=0}function Jt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ft,this.f.kb=new Jt,this.sd=null}function nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Et(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function va(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Kr(c,h){var y=c.T,w=h.ba.f.RGBA,L=w.eb,R=w.fb+c.ka*w.A,O=Jn[h.ba.S],D=c.y,M=c.O,B=c.f,ee=c.N,ue=c.ea,U=c.W,ne=h.cc,oe=h.dc,xe=h.Mc,le=h.Nc,ye=c.ka,_e=c.ka+c.T,Ee=c.U,ke=Ee+1>>1;for(ye==0?O(D,M,null,null,B,ee,ue,U,B,ee,ue,U,L,R,null,null,Ee):(O(h.ec,h.fc,D,M,ne,oe,xe,le,B,ee,ue,U,L,R-w.A,L,R,Ee),++y);ye+2<_e;ye+=2)ne=B,oe=ee,xe=ue,le=U,ee+=c.Rc,U+=c.Rc,R+=2*w.A,O(D,(M+=2*c.fa)-c.fa,D,M,ne,oe,xe,le,B,ee,ue,U,L,R-w.A,L,R,Ee);return M+=c.fa,c.j+_e<c.o?(n(h.ec,h.fc,D,M,Ee),n(h.cc,h.dc,B,ee,ke),n(h.Mc,h.Nc,ue,U,ke),y--):1&_e||O(D,M,null,null,B,ee,ue,U,B,ee,ue,U,L,R+w.A,null,null,Ee),y}function Ws(c,h,y){var w=c.F,L=[c.J];if(w!=null){var R=c.U,O=h.ba.S,D=O==Pc||O==Rc;h=h.ba.f.RGBA;var M=[0],B=c.ka;M[0]=c.T,c.Kb&&(B==0?--M[0]:(--B,L[0]-=c.width),c.j+c.ka+c.T==c.o&&(M[0]=c.o-c.j-B));var ee=h.eb;B=h.fb+B*h.A,c=im(w,L[0],c.width,R,M,ee,B+(D?0:3),h.A),t(y==M),c&&ot(O)&&Vl(ee,B,D,R,M,h.A)}return 0}function As(c){var h=c.ma,y=h.ba.S,w=11>y,L=y==Ec||y==Cc||y==Pc||y==nf||y==12||ot(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!Ml(h.Oa,c,L?11:12))return 0;if(L&&ot(y)&&Ol(),c.da)alert("todo:use_scaling");else{if(w){if(h.Ib=va,c.Kb){if(y=c.U+1>>1,h.memory=i(c.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+c.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=Kr,Ol()}}else alert("todo:EmitYUV");L&&(h.Jb=Ws,w&&us())}if(w&&!wm){for(c=0;256>c;++c)Pb[c]=89858*(c-128)+Oc>>Tc,Ob[c]=-22014*(c-128)+Oc,Tb[c]=-45773*(c-128),Rb[c]=113618*(c-128)+Oc>>Tc;for(c=Gl;c<cf;++c)h=76283*(c-16)+Oc>>Tc,Ib[c-Gl]=Cs(h,255),Db[c-Gl]=Cs(h+8>>4,15);wm=1}return 1}function st(c){var h=c.ma,y=c.U,w=c.T;return t(!(1&c.ka)),0>=y||0>=w?0:(y=h.Ib(c,h),h.Jb!=null&&h.Jb(c,h,y),h.Dc+=y,1)}function Gs(c){c.ma.memory=null}function Ks(c,h,y,w){return me(c,8)!=47?0:(h[0]=me(c,14)+1,y[0]=me(c,14)+1,w[0]=me(c,1),me(c,3)!=0?0:!c.h)}function zn(c,h){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+me(h,y)+1}function $n(c,h){return 120<h?h-120:1<=(y=((y=vb[h-1])>>4)*c+(8-(15&y)))?y:1;var y}function sr(c,h,y){var w=V(y),L=c[h+=255&w].g-8;return 0<L&&(te(y,y.u+8),w=V(y),h+=c[h].value,h+=w&(1<<L)-1),te(y,y.u+c[h].g),c[h].value}function Rr(c,h,y){return y.g+=c.g,y.value+=c.value<<h>>>0,t(8>=y.g),c.g}function Mr(c,h,y){var w=c.xc;return t((h=w==0?0:c.vc[c.md*(y>>w)+(h>>w)])<c.Wb),c.Ya[h]}function xa(c,h,y,w){var L=c.ab,R=c.c*h,O=c.C;h=O+h;var D=y,M=w;for(w=c.Ta,y=c.Ua;0<L--;){var B=c.gc[L],ee=O,ue=h,U=D,ne=M,oe=(M=w,D=y,B.Ea);switch(t(ee<ue),t(ue<=B.nc),B.hc){case 2:cr(U,ne,(ue-ee)*oe,M,D);break;case 0:var xe=ee,le=ue,ye=M,_e=D,Ee=(He=B).Ea;xe==0&&(Bl(U,ne,null,null,1,ye,_e),bt(U,ne+1,0,0,Ee-1,ye,_e+1),ne+=Ee,_e+=Ee,++xe);for(var ke=1<<He.b,Je=ke-1,Fe=Ne(Ee,He.b),gt=He.K,He=He.w+(xe>>He.b)*Fe;xe<le;){var Nt=gt,kr=He,vt=1;for(bo(U,ne,ye,_e-Ee,1,ye,_e);vt<Ee;){var Ve=(vt&~Je)+ke;Ve>Ee&&(Ve=Ee),(0,zl[Nt[kr++]>>8&15])(U,ne+ +vt,ye,_e+vt-Ee,Ve-vt,ye,_e+vt),vt=Ve}ne+=Ee,_e+=Ee,++xe&Je||(He+=Fe)}ue!=B.nc&&n(M,D-oe,M,D+(ue-ee-1)*oe,oe);break;case 1:for(oe=U,le=ne,Ee=(U=B.Ea)-(_e=U&~(ye=(ne=1<<B.b)-1)),xe=Ne(U,B.b),ke=B.K,B=B.w+(ee>>B.b)*xe;ee<ue;){for(Je=ke,Fe=B,gt=new Ze,He=le+_e,Nt=le+U;le<He;)re(Je[Fe++],gt),$l(gt,oe,le,ne,M,D),le+=ne,D+=ne;le<Nt&&(re(Je[Fe++],gt),$l(gt,oe,le,Ee,M,D),le+=Ee,D+=Ee),++ee&ye||(B+=xe)}break;case 3:if(U==M&&ne==D&&0<B.b){for(le=M,U=oe=D+(ue-ee)*oe-(_e=(ue-ee)*Ne(B.Ea,B.b)),ne=M,ye=D,xe=[],_e=(Ee=_e)-1;0<=_e;--_e)xe[_e]=ne[ye+_e];for(_e=Ee-1;0<=_e;--_e)le[U+_e]=xe[_e];Sc(B,ee,ue,M,oe,M,D)}else Sc(B,ee,ue,U,ne,M,D)}D=w,M=y}M!=y&&n(w,y,D,M,R)}function Ai(c,h){var y=c.V,w=c.Ba+c.c*c.C,L=h-c.C;if(t(h<=c.l.o),t(16>=L),0<L){var R=c.l,O=c.Ta,D=c.Ua,M=R.width;if(xa(c,L,y,w),L=D=[D],t((y=c.C)<(w=h)),t(R.v<R.va),w>R.o&&(w=R.o),y<R.j){var B=R.j-y;y=R.j,L[0]+=B*M}if(y>=w?y=0:(L[0]+=4*R.v,R.ka=y-R.j,R.U=R.va-R.v,R.T=w-y,y=1),y){if(D=D[0],11>(y=c.ca).S){var ee=y.f.RGBA,ue=(w=y.S,L=R.U,R=R.T,B=ee.eb,ee.A),U=R;for(ee=ee.fb+c.Ma*ee.A;0<U--;){var ne=O,oe=D,xe=L,le=B,ye=ee;switch(w){case Lc:ql(ne,oe,xe,le,ye);break;case Ec:Ti(ne,oe,xe,le,ye);break;case sf:Ti(ne,oe,xe,le,ye),Vl(le,ye,0,xe,1,0);break;case hm:Ra(ne,oe,xe,le,ye);break;case Cc:rt(ne,oe,xe,le,ye,1);break;case af:rt(ne,oe,xe,le,ye,1),Vl(le,ye,0,xe,1,0);break;case Pc:rt(ne,oe,xe,le,ye,0);break;case Rc:rt(ne,oe,xe,le,ye,0),Vl(le,ye,1,xe,1,0);break;case nf:Oi(ne,oe,xe,le,ye);break;case of:Oi(ne,oe,xe,le,ye),sm(le,ye,xe,1,0);break;case fm:Ii(ne,oe,xe,le,ye);break;default:t(0)}D+=M,ee+=ue}c.Ma+=R}else alert("todo:EmitRescaledRowsYUVA");t(c.Ma<=y.height)}}c.C=h,t(c.C<=c.i)}function is(c){var h;if(0<c.ua)return 0;for(h=0;h<c.Wb;++h){var y=c.Ya[h].G,w=c.Ya[h].H;if(0<y[1][w[1]+0].g||0<y[2][w[2]+0].g||0<y[3][w[3]+0].g)return 0}return 1}function Ls(c,h,y,w,L,R){if(c.Z!=0){var O=c.qd,D=c.rd;for(t(Fi[c.Z]!=null);h<y;++h)Fi[c.Z](O,D,w,L,w,L,R),O=w,D=L,L+=R;c.qd=O,c.rd=D}}function as(c,h){var y=c.l.ma,w=y.Z==0||y.Z==1?c.l.j:c.C;if(w=c.C<w?w:c.C,t(h<=c.l.o),h>w){var L=c.l.width,R=y.ca,O=y.tb+L*w,D=c.V,M=c.Ba+c.c*w,B=c.gc;t(c.ab==1),t(B[0].hc==3),Os(B[0],w,h,D,M,R,O),Ls(y,w,h,R,O,L)}c.C=c.Ma=h}function os(c,h,y,w,L,R,O){var D=c.$/w,M=c.$%w,B=c.m,ee=c.s,ue=y+c.$,U=ue;L=y+w*L;var ne=y+w*R,oe=280+ee.ua,xe=c.Pb?D:16777216,le=0<ee.ua?ee.Wa:null,ye=ee.wc,_e=ue<ne?Mr(ee,M,D):null;t(c.C<R),t(ne<=L);var Ee=!1;e:for(;;){for(;Ee||ue<ne;){var ke=0;if(D>=xe){var Je=ue-y;t((xe=c).Pb),xe.wd=xe.m,xe.xd=Je,0<xe.s.ua&&ve(xe.s.Wa,xe.s.vb),xe=D+yb}if(M&ye||(_e=Mr(ee,M,D)),t(_e!=null),_e.Qb&&(h[ue]=_e.qb,Ee=!0),!Ee)if(ie(B),_e.jc){ke=B,Je=h;var Fe=ue,gt=_e.pd[V(ke)&Pa-1];t(_e.jc),256>gt.g?(te(ke,ke.u+gt.g),Je[Fe]=gt.value,ke=0):(te(ke,ke.u+gt.g-256),t(256<=gt.value),ke=gt.value),ke==0&&(Ee=!0)}else ke=sr(_e.G[0],_e.H[0],B);if(B.h)break;if(Ee||256>ke){if(!Ee)if(_e.nd)h[ue]=(_e.qb|ke<<8)>>>0;else{if(ie(B),Ee=sr(_e.G[1],_e.H[1],B),ie(B),Je=sr(_e.G[2],_e.H[2],B),Fe=sr(_e.G[3],_e.H[3],B),B.h)break;h[ue]=(Fe<<24|Ee<<16|ke<<8|Je)>>>0}if(Ee=!1,++ue,++M>=w&&(M=0,++D,O!=null&&D<=R&&!(D%16)&&O(c,D),le!=null))for(;U<ue;)ke=h[U++],le.X[(506832829*ke&4294967295)>>>le.Mb]=ke}else if(280>ke){if(ke=zn(ke-256,B),Je=sr(_e.G[4],_e.H[4],B),ie(B),Je=$n(w,Je=zn(Je,B)),B.h)break;if(ue-y<Je||L-ue<ke)break e;for(Fe=0;Fe<ke;++Fe)h[ue+Fe]=h[ue+Fe-Je];for(ue+=ke,M+=ke;M>=w;)M-=w,++D,O!=null&&D<=R&&!(D%16)&&O(c,D);if(t(ue<=L),M&ye&&(_e=Mr(ee,M,D)),le!=null)for(;U<ue;)ke=h[U++],le.X[(506832829*ke&4294967295)>>>le.Mb]=ke}else{if(!(ke<oe))break e;for(Ee=ke-280,t(le!=null);U<ue;)ke=h[U++],le.X[(506832829*ke&4294967295)>>>le.Mb]=ke;ke=ue,t(!(Ee>>>(Je=le).Xa)),h[ke]=Je.X[Ee],Ee=!0}Ee||t(B.h==Z(B))}if(c.Pb&&B.h&&ue<L)t(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&ve(c.s.vb,c.s.Wa);else{if(B.h)break e;O!=null&&O(c,D>R?R:D),c.a=0,c.$=ue-y}return 1}return c.a=3,0}function qn(c){t(c!=null),c.vc=null,c.yc=null,c.Ya=null;var h=c.Wa;h!=null&&(h.X=null),c.vb=null,t(c!=null)}function ya(){var c=new ut;return c==null?null:(c.a=0,c.xb=gm,Bt("Predictor","VP8LPredictors"),Bt("Predictor","VP8LPredictors_C"),Bt("PredictorAdd","VP8LPredictorsAdd"),Bt("PredictorAdd","VP8LPredictorsAdd_C"),cr=xt,$l=Ae,ql=qe,Ti=et,Oi=Ke,Ii=tt,Ra=Kt,T.VP8LMapColor32b=Ts,T.VP8LMapColor8b=Ul,c)}function Es(c,h,y,w,L){var R=1,O=[c],D=[h],M=w.m,B=w.s,ee=null,ue=0;e:for(;;){if(y)for(;R&&me(M,1);){var U=O,ne=D,oe=w,xe=1,le=oe.m,ye=oe.gc[oe.ab],_e=me(le,2);if(oe.Oc&1<<_e)R=0;else{switch(oe.Oc|=1<<_e,ye.hc=_e,ye.Ea=U[0],ye.nc=ne[0],ye.K=[null],++oe.ab,t(4>=oe.ab),_e){case 0:case 1:ye.b=me(le,3)+2,xe=Es(Ne(ye.Ea,ye.b),Ne(ye.nc,ye.b),0,oe,ye.K),ye.K=ye.K[0];break;case 3:var Ee,ke=me(le,8)+1,Je=16<ke?0:4<ke?1:2<ke?2:3;if(U[0]=Ne(ye.Ea,Je),ye.b=Je,Ee=xe=Es(ke,1,0,oe,ye.K)){var Fe,gt=ke,He=ye,Nt=1<<(8>>He.b),kr=i(Nt);if(kr==null)Ee=0;else{var vt=He.K[0],Ve=He.w;for(kr[0]=He.K[0][0],Fe=1;Fe<1*gt;++Fe)kr[Fe]=Qe(vt[Ve+Fe],kr[Fe-1]);for(;Fe<4*Nt;++Fe)kr[Fe]=0;He.K[0]=null,He.K[0]=kr,Ee=1}}xe=Ee;break;case 2:break;default:t(0)}R=xe}}if(O=O[0],D=D[0],R&&me(M,1)&&!(R=1<=(ue=me(M,4))&&11>=ue)){w.a=3;break e}var Te;if(Te=R)t:{var hr,pt,jt,Ht=w,Ur=O,an=D,ir=ue,Jr=y,on=Ht.m,Ar=Ht.s,kt=[null],Pt=1,ar=0,Rt=xb[ir];r:for(;;){if(Jr&&me(on,1)){var zr=me(on,3)+2,ds=Ne(Ur,zr),fr=Ne(an,zr),fn=ds*fr;if(!Es(ds,fr,0,Ht,kt))break r;for(kt=kt[0],Ar.xc=zr,hr=0;hr<fn;++hr){var Mt=kt[hr]>>8&65535;kt[hr]=Mt,Mt>=Pt&&(Pt=Mt+1)}}if(on.h)break r;for(pt=0;5>pt;++pt){var Lr=pm[pt];!pt&&0<ir&&(Lr+=1<<ir),ar<Lr&&(ar=Lr)}var jn=a(Pt*Rt,K),ln=Pt,Sn=a(ln,ce);if(Sn==null)var kn=null;else t(65536>=ln),kn=Sn;var pn=i(ar);if(kn==null||pn==null||jn==null){Ht.a=1;break r}var An=jn;for(hr=jt=0;hr<Pt;++hr){var zt=kn[hr],Ln=zt.G,hs=zt.H,Oa=0,li=1,$r=0;for(pt=0;5>pt;++pt){Lr=pm[pt],Ln[pt]=An,hs[pt]=jt,!pt&&0<ir&&(Lr+=1<<ir);s:{var Dc,df=Lr,Mc=Ht,Kl=pn,Bb=An,Ub=jt,hf=0,Bi=Mc.m,zb=me(Bi,1);if(s(Kl,0,0,df),zb){var $b=me(Bi,1)+1,qb=me(Bi,1),jm=me(Bi,qb==0?1:8);Kl[jm]=1,$b==2&&(Kl[jm=me(Bi,8)]=1);var Fc=1}else{var Sm=i(19),km=me(Bi,4)+4;if(19<km){Mc.a=3;var Bc=0;break s}for(Dc=0;Dc<km;++Dc)Sm[gb[Dc]]=me(Bi,3);var ff=void 0,Jl=void 0,Am=Mc,Hb=Sm,Uc=df,Lm=Kl,pf=0,Ui=Am.m,Em=8,Cm=a(128,K);n:for(;F(Cm,0,7,Hb,19);){if(me(Ui,1)){var Vb=2+2*me(Ui,3);if((ff=2+me(Ui,Vb))>Uc)break n}else ff=Uc;for(Jl=0;Jl<Uc&&ff--;){ie(Ui);var Pm=Cm[0+(127&V(Ui))];te(Ui,Ui.u+Pm.g);var _o=Pm.value;if(16>_o)Lm[Jl++]=_o,_o!=0&&(Em=_o);else{var Wb=_o==16,Rm=_o-16,Gb=pb[Rm],Tm=me(Ui,fb[Rm])+Gb;if(Jl+Tm>Uc)break n;for(var Kb=Wb?Em:0;0<Tm--;)Lm[Jl++]=Kb}}pf=1;break n}pf||(Am.a=3),Fc=pf}(Fc=Fc&&!Bi.h)&&(hf=F(Bb,Ub,8,Kl,df)),Fc&&hf!=0?Bc=hf:(Mc.a=3,Bc=0)}if(Bc==0)break r;if(li&&mb[pt]==1&&(li=An[jt].g==0),Oa+=An[jt].g,jt+=Bc,3>=pt){var Yl,mf=pn[0];for(Yl=1;Yl<Lr;++Yl)pn[Yl]>mf&&(mf=pn[Yl]);$r+=mf}}if(zt.nd=li,zt.Qb=0,li&&(zt.qb=(Ln[3][hs[3]+0].value<<24|Ln[1][hs[1]+0].value<<16|Ln[2][hs[2]+0].value)>>>0,Oa==0&&256>Ln[0][hs[0]+0].value&&(zt.Qb=1,zt.qb+=Ln[0][hs[0]+0].value<<8)),zt.jc=!zt.Qb&&6>$r,zt.jc){var zc,ui=zt;for(zc=0;zc<Pa;++zc){var zi=zc,$i=ui.pd[zi],$c=ui.G[0][ui.H[0]+zi];256<=$c.value?($i.g=$c.g+256,$i.value=$c.value):($i.g=0,$i.value=0,zi>>=Rr($c,8,$i),zi>>=Rr(ui.G[1][ui.H[1]+zi],16,$i),zi>>=Rr(ui.G[2][ui.H[2]+zi],0,$i),Rr(ui.G[3][ui.H[3]+zi],24,$i))}}}Ar.vc=kt,Ar.Wb=Pt,Ar.Ya=kn,Ar.yc=jn,Te=1;break t}Te=0}if(!(R=Te)){w.a=3;break e}if(0<ue){if(B.ua=1<<ue,!E(B.Wa,ue)){w.a=1,R=0;break e}}else B.ua=0;var gf=w,Om=O,Jb=D,vf=gf.s,xf=vf.xc;if(gf.c=Om,gf.i=Jb,vf.md=Ne(Om,xf),vf.wc=xf==0?-1:(1<<xf)-1,y){w.xb=kb;break e}if((ee=i(O*D))==null){w.a=1,R=0;break e}R=(R=os(w,ee,0,O,D,D,null))&&!M.h;break e}return R?(L!=null?L[0]=ee:(t(ee==null),t(y)),w.$=0,y||qn(B)):qn(B),R}function ba(c,h){var y=c.c*c.i,w=y+h+16*h;return t(c.c<=h),c.V=i(w),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+h,1)}function uo(c,h){var y=c.C,w=h-y,L=c.V,R=c.Ba+c.c*y;for(t(h<=c.l.o);0<w;){var O=16<w?16:w,D=c.l.ma,M=c.l.width,B=M*O,ee=D.ca,ue=D.tb+M*y,U=c.Ta,ne=c.Ua;xa(c,O,L,R),am(U,ne,ee,ue,B),Ls(D,y,y+O,ee,ue,M),w-=O,L+=O*c.c,y+=O}t(y==h),c.C=c.Ma=h}function co(){this.ub=this.yd=this.td=this.Rb=0}function ho(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Uh(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Nl(){this.Yb=function(){var c=[];return function h(y,w,L){for(var R=L[w],O=0;O<R&&(y.push(L.length>w+1?[]:0),!(L.length<w+1));O++)h(y[O],w+1,L)}(c,0,[3,11]),c}()}function oc(){this.jb=i(3),this.Wc=l([4,8],Nl),this.Xc=l([4,17],Nl)}function lc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Hn(){this.ld=this.La=this.dd=this.tc=0}function jl(){this.Na=this.la=0}function uc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Sl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function cc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Hn),this.Y=0,this.ya=Array(new Sl),this.aa=0,this.l=new fo}function dc(){this.y=i(16),this.f=i(8),this.ea=i(8)}function hc(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new co,this.Kc=new ho,this.ed=new lc,this.Qa=new Uh,this.Ic=this.$c=this.Aa=0,this.D=new cc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,C),this.ia=0,this.pb=a(4,uc),this.Pa=new oc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new dc),this.Hd=0,this.rb=Array(new jl),this.sb=0,this.wa=Array(new Hn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Sl),this.L=this.aa=0,this.gd=l([4,2],Hn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Cs(c,h){return 0>c?0:c>h?h:c}function fo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function zh(){var c=new hc;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Wl||(Wl=po)),c}function xr(c,h,y){return c.a==0&&(c.a=h,c.sc=y,c.cb=0),0}function fc(c,h,y){return 3<=y&&c[h+0]==157&&c[h+1]==1&&c[h+2]==42}function Ps(c,h){if(c==null)return 0;if(c.a=0,c.sc="OK",h==null)return xr(c,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,w=h.w,L=h.ha;if(4>L)return xr(c,7,"Truncated header.");var R=y[w+0]|y[w+1]<<8|y[w+2]<<16,O=c.Od;if(O.Rb=!(1&R),O.td=R>>1&7,O.yd=R>>4&1,O.ub=R>>5,3<O.td)return xr(c,3,"Incorrect keyframe parameters.");if(!O.yd)return xr(c,4,"Frame not displayable.");w+=3,L-=3;var D=c.Kc;if(O.Rb){if(7>L)return xr(c,7,"cannot parse picture header");if(!fc(y,w,L))return xr(c,3,"Bad code word");D.c=16383&(y[w+4]<<8|y[w+3]),D.Td=y[w+4]>>6,D.i=16383&(y[w+6]<<8|y[w+5]),D.Ud=y[w+6]>>6,w+=7,L-=7,c.za=D.c+15>>4,c.Ub=D.i+15>>4,h.width=D.c,h.height=D.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,s((R=c.Pa).jb,0,255,R.jb.length),t((R=c.Qa)!=null),R.Cb=0,R.Bb=0,R.Fb=1,s(R.Zb,0,0,R.Zb.length),s(R.Lb,0,0,R.Lb)}if(O.ub>L)return xr(c,7,"bad partition length");fe(R=c.m,y,w,O.ub),w+=O.ub,L-=O.ub,O.Rb&&(D.Ld=pe(R),D.Kd=pe(R)),D=c.Qa;var M,B=c.Pa;if(t(R!=null),t(D!=null),D.Cb=pe(R),D.Cb){if(D.Bb=pe(R),pe(R)){for(D.Fb=pe(R),M=0;4>M;++M)D.Zb[M]=pe(R)?Y(R,7):0;for(M=0;4>M;++M)D.Lb[M]=pe(R)?Y(R,6):0}if(D.Bb)for(M=0;3>M;++M)B.jb[M]=pe(R)?he(R,8):255}else D.Bb=0;if(R.Ka)return xr(c,3,"cannot parse segment header");if((D=c.ed).zd=pe(R),D.Tb=he(R,6),D.wb=he(R,3),D.Pc=pe(R),D.Pc&&pe(R)){for(B=0;4>B;++B)pe(R)&&(D.vd[B]=Y(R,6));for(B=0;4>B;++B)pe(R)&&(D.od[B]=Y(R,6))}if(c.L=D.Tb==0?0:D.zd?1:2,R.Ka)return xr(c,3,"cannot parse filter header");var ee=L;if(L=M=w,w=M+ee,D=ee,c.Xb=(1<<he(c.m,2))-1,ee<3*(B=c.Xb))y=7;else{for(M+=3*B,D-=3*B,ee=0;ee<B;++ee){var ue=y[L+0]|y[L+1]<<8|y[L+2]<<16;ue>D&&(ue=D),fe(c.Jc[+ee],y,M,ue),M+=ue,D-=ue,L+=3}fe(c.Jc[+B],y,M,D),y=M<w?0:5}if(y!=0)return xr(c,y,"cannot parse partitions");for(y=he(M=c.m,7),L=pe(M)?Y(M,4):0,w=pe(M)?Y(M,4):0,D=pe(M)?Y(M,4):0,B=pe(M)?Y(M,4):0,M=pe(M)?Y(M,4):0,ee=c.Qa,ue=0;4>ue;++ue){if(ee.Cb){var U=ee.Zb[ue];ee.Fb||(U+=y)}else{if(0<ue){c.pb[ue]=c.pb[0];continue}U=y}var ne=c.pb[ue];ne.Sc[0]=lf[Cs(U+L,127)],ne.Sc[1]=uf[Cs(U+0,127)],ne.Eb[0]=2*lf[Cs(U+w,127)],ne.Eb[1]=101581*uf[Cs(U+D,127)]>>16,8>ne.Eb[1]&&(ne.Eb[1]=8),ne.Qc[0]=lf[Cs(U+B,117)],ne.Qc[1]=uf[Cs(U+M,127)],ne.lc=U+M}if(!O.Rb)return xr(c,4,"Not a key frame.");for(pe(R),O=c.Pa,y=0;4>y;++y){for(L=0;8>L;++L)for(w=0;3>w;++w)for(D=0;11>D;++D)B=we(R,jb[y][L][w][D])?he(R,8):_b[y][L][w][D],O.Wc[y][L].Yb[w][D]=B;for(L=0;17>L;++L)O.Xc[y][L]=O.Wc[y][Sb[L]]}return c.kc=pe(R),c.kc&&(c.Bd=he(R,8)),c.cb=1}function po(c,h,y,w,L,R,O){var D=h[L].Yb[y];for(y=0;16>L;++L){if(!we(c,D[y+0]))return L;for(;!we(c,D[y+1]);)if(D=h[++L].Yb[0],y=0,L==16)return 16;var M=h[L+1].Yb;if(we(c,D[y+2])){var B=c,ee=0;if(we(B,(U=D)[(ue=y)+3]))if(we(B,U[ue+6])){for(D=0,ue=2*(ee=we(B,U[ue+8]))+(U=we(B,U[ue+9+ee])),ee=0,U=bb[ue];U[D];++D)ee+=ee+we(B,U[D]);ee+=3+(8<<ue)}else we(B,U[ue+7])?(ee=7+2*we(B,165),ee+=we(B,145)):ee=5+we(B,159);else ee=we(B,U[ue+4])?3+we(B,U[ue+5]):2;D=M[2]}else ee=1,D=M[1];M=O+wb[L],0>(B=c).b&&de(B);var ue,U=B.b,ne=(ue=B.Ca>>1)-(B.I>>U)>>31;--B.b,B.Ca+=ne,B.Ca|=1,B.I-=(ue+1&ne)<<U,R[M]=((ee^ne)-ne)*w[(0<L)+0]}return 16}function pc(c){var h=c.rb[c.sb-1];h.la=0,h.Na=0,s(c.zc,0,0,c.zc.length),c.ja=0}function Vn(c,h,y,w,L){L=c[h+y+32*w]+(L>>3),c[h+y+32*w]=-256&L?0>L?0:255:L}function Nr(c,h,y,w,L,R){Vn(c,h,0,y,w+L),Vn(c,h,1,y,w+R),Vn(c,h,2,y,w-R),Vn(c,h,3,y,w-L)}function Js(c){return(20091*c>>16)+c}function mc(c,h,y,w){var L,R=0,O=i(16);for(L=0;4>L;++L){var D=c[h+0]+c[h+8],M=c[h+0]-c[h+8],B=(35468*c[h+4]>>16)-Js(c[h+12]),ee=Js(c[h+4])+(35468*c[h+12]>>16);O[R+0]=D+ee,O[R+1]=M+B,O[R+2]=M-B,O[R+3]=D-ee,R+=4,h++}for(L=R=0;4>L;++L)D=(c=O[R+0]+4)+O[R+8],M=c-O[R+8],B=(35468*O[R+4]>>16)-Js(O[R+12]),Vn(y,w,0,0,D+(ee=Js(O[R+4])+(35468*O[R+12]>>16))),Vn(y,w,1,0,M+B),Vn(y,w,2,0,M-B),Vn(y,w,3,0,D-ee),R++,w+=32}function $h(c,h,y,w){var L=c[h+0]+4,R=35468*c[h+4]>>16,O=Js(c[h+4]),D=35468*c[h+1]>>16;Nr(y,w,0,L+O,c=Js(c[h+1]),D),Nr(y,w,1,L+R,c,D),Nr(y,w,2,L-R,c,D),Nr(y,w,3,L-O,c,D)}function qh(c,h,y,w,L){mc(c,h,y,w),L&&mc(c,h+16,y,w+4)}function Rs(c,h,y,w){Ta(c,h+0,y,w,1),Ta(c,h+32,y,w+128,1)}function gc(c,h,y,w){var L;for(c=c[h+0]+4,L=0;4>L;++L)for(h=0;4>h;++h)Vn(y,w,h,L,c)}function vc(c,h,y,w){c[h+0]&&Ct(c,h+0,y,w),c[h+16]&&Ct(c,h+16,y,w+4),c[h+32]&&Ct(c,h+32,y,w+128),c[h+48]&&Ct(c,h+48,y,w+128+4)}function mo(c,h,y,w){var L,R=i(16);for(L=0;4>L;++L){var O=c[h+0+L]+c[h+12+L],D=c[h+4+L]+c[h+8+L],M=c[h+4+L]-c[h+8+L],B=c[h+0+L]-c[h+12+L];R[0+L]=O+D,R[8+L]=O-D,R[4+L]=B+M,R[12+L]=B-M}for(L=0;4>L;++L)O=(c=R[0+4*L]+3)+R[3+4*L],D=R[1+4*L]+R[2+4*L],M=R[1+4*L]-R[2+4*L],B=c-R[3+4*L],y[w+0]=O+D>>3,y[w+16]=B+M>>3,y[w+32]=O-D>>3,y[w+48]=B-M>>3,w+=64}function wa(c,h,y){var w,L=h-32,R=Nn,O=255-c[L-1];for(w=0;w<y;++w){var D,M=R,B=O+c[h-1];for(D=0;D<y;++D)c[h+D]=M[B+c[L+D]];h+=32}}function Hh(c,h){wa(c,h,4)}function Vh(c,h){wa(c,h,8)}function Wh(c,h){wa(c,h,16)}function kl(c,h){var y;for(y=0;16>y;++y)n(c,h+32*y,c,h-32,16)}function xc(c,h){var y;for(y=16;0<y;--y)s(c,h,c[h-1],16),h+=32}function ls(c,h,y){var w;for(w=0;16>w;++w)s(h,y+32*w,c,16)}function Gh(c,h){var y,w=16;for(y=0;16>y;++y)w+=c[h-1+32*y]+c[h+y-32];ls(w>>5,c,h)}function _a(c,h){var y,w=8;for(y=0;16>y;++y)w+=c[h-1+32*y];ls(w>>4,c,h)}function Al(c,h){var y,w=8;for(y=0;16>y;++y)w+=c[h+y-32];ls(w>>4,c,h)}function Kh(c,h){ls(128,c,h)}function dt(c,h,y){return c+2*h+y+2>>2}function Jh(c,h){var y,w=h-32;for(w=new Uint8Array([dt(c[w-1],c[w+0],c[w+1]),dt(c[w+0],c[w+1],c[w+2]),dt(c[w+1],c[w+2],c[w+3]),dt(c[w+2],c[w+3],c[w+4])]),y=0;4>y;++y)n(c,h+32*y,w,0,w.length)}function Yh(c,h){var y=c[h-1],w=c[h-1+32],L=c[h-1+64],R=c[h-1+96];Le(c,h+0,16843009*dt(c[h-1-32],y,w)),Le(c,h+32,16843009*dt(y,w,L)),Le(c,h+64,16843009*dt(w,L,R)),Le(c,h+96,16843009*dt(L,R,R))}function Xh(c,h){var y,w=4;for(y=0;4>y;++y)w+=c[h+y-32]+c[h-1+32*y];for(w>>=3,y=0;4>y;++y)s(c,h+32*y,w,4)}function Ys(c,h){var y=c[h-1+0],w=c[h-1+32],L=c[h-1+64],R=c[h-1-32],O=c[h+0-32],D=c[h+1-32],M=c[h+2-32],B=c[h+3-32];c[h+0+96]=dt(w,L,c[h-1+96]),c[h+1+96]=c[h+0+64]=dt(y,w,L),c[h+2+96]=c[h+1+64]=c[h+0+32]=dt(R,y,w),c[h+3+96]=c[h+2+64]=c[h+1+32]=c[h+0+0]=dt(O,R,y),c[h+3+64]=c[h+2+32]=c[h+1+0]=dt(D,O,R),c[h+3+32]=c[h+2+0]=dt(M,D,O),c[h+3+0]=dt(B,M,D)}function Xs(c,h){var y=c[h+1-32],w=c[h+2-32],L=c[h+3-32],R=c[h+4-32],O=c[h+5-32],D=c[h+6-32],M=c[h+7-32];c[h+0+0]=dt(c[h+0-32],y,w),c[h+1+0]=c[h+0+32]=dt(y,w,L),c[h+2+0]=c[h+1+32]=c[h+0+64]=dt(w,L,R),c[h+3+0]=c[h+2+32]=c[h+1+64]=c[h+0+96]=dt(L,R,O),c[h+3+32]=c[h+2+64]=c[h+1+96]=dt(R,O,D),c[h+3+64]=c[h+2+96]=dt(O,D,M),c[h+3+96]=dt(D,M,M)}function Qh(c,h){var y=c[h-1+0],w=c[h-1+32],L=c[h-1+64],R=c[h-1-32],O=c[h+0-32],D=c[h+1-32],M=c[h+2-32],B=c[h+3-32];c[h+0+0]=c[h+1+64]=R+O+1>>1,c[h+1+0]=c[h+2+64]=O+D+1>>1,c[h+2+0]=c[h+3+64]=D+M+1>>1,c[h+3+0]=M+B+1>>1,c[h+0+96]=dt(L,w,y),c[h+0+64]=dt(w,y,R),c[h+0+32]=c[h+1+96]=dt(y,R,O),c[h+1+32]=c[h+2+96]=dt(R,O,D),c[h+2+32]=c[h+3+96]=dt(O,D,M),c[h+3+32]=dt(D,M,B)}function Zh(c,h){var y=c[h+0-32],w=c[h+1-32],L=c[h+2-32],R=c[h+3-32],O=c[h+4-32],D=c[h+5-32],M=c[h+6-32],B=c[h+7-32];c[h+0+0]=y+w+1>>1,c[h+1+0]=c[h+0+64]=w+L+1>>1,c[h+2+0]=c[h+1+64]=L+R+1>>1,c[h+3+0]=c[h+2+64]=R+O+1>>1,c[h+0+32]=dt(y,w,L),c[h+1+32]=c[h+0+96]=dt(w,L,R),c[h+2+32]=c[h+1+96]=dt(L,R,O),c[h+3+32]=c[h+2+96]=dt(R,O,D),c[h+3+64]=dt(O,D,M),c[h+3+96]=dt(D,M,B)}function go(c,h){var y=c[h-1+0],w=c[h-1+32],L=c[h-1+64],R=c[h-1+96];c[h+0+0]=y+w+1>>1,c[h+2+0]=c[h+0+32]=w+L+1>>1,c[h+2+32]=c[h+0+64]=L+R+1>>1,c[h+1+0]=dt(y,w,L),c[h+3+0]=c[h+1+32]=dt(w,L,R),c[h+3+32]=c[h+1+64]=dt(L,R,R),c[h+3+64]=c[h+2+64]=c[h+0+96]=c[h+1+96]=c[h+2+96]=c[h+3+96]=R}function Ll(c,h){var y=c[h-1+0],w=c[h-1+32],L=c[h-1+64],R=c[h-1+96],O=c[h-1-32],D=c[h+0-32],M=c[h+1-32],B=c[h+2-32];c[h+0+0]=c[h+2+32]=y+O+1>>1,c[h+0+32]=c[h+2+64]=w+y+1>>1,c[h+0+64]=c[h+2+96]=L+w+1>>1,c[h+0+96]=R+L+1>>1,c[h+3+0]=dt(D,M,B),c[h+2+0]=dt(O,D,M),c[h+1+0]=c[h+3+32]=dt(y,O,D),c[h+1+32]=c[h+3+64]=dt(w,y,O),c[h+1+64]=c[h+3+96]=dt(L,w,y),c[h+1+96]=dt(R,L,w)}function Na(c,h){var y;for(y=0;8>y;++y)n(c,h+32*y,c,h-32,8)}function ef(c,h){var y;for(y=0;8>y;++y)s(c,h,c[h-1],8),h+=32}function Qs(c,h,y){var w;for(w=0;8>w;++w)s(h,y+32*w,c,8)}function tf(c,h){var y,w=8;for(y=0;8>y;++y)w+=c[h+y-32]+c[h-1+32*y];Qs(w>>4,c,h)}function El(c,h){var y,w=4;for(y=0;8>y;++y)w+=c[h+y-32];Qs(w>>3,c,h)}function Cl(c,h){var y,w=4;for(y=0;8>y;++y)w+=c[h-1+32*y];Qs(w>>3,c,h)}function yc(c,h){Qs(128,c,h)}function Zs(c,h,y){var w=c[h-y],L=c[h+0],R=3*(L-w)+rf[1020+c[h-2*y]-c[h+y]],O=Ac[112+(R+4>>3)];c[h-y]=Nn[255+w+Ac[112+(R+3>>3)]],c[h+0]=Nn[255+L-O]}function Pl(c,h,y,w){var L=c[h+0],R=c[h+y];return Kn[255+c[h-2*y]-c[h-y]]>w||Kn[255+R-L]>w}function vo(c,h,y,w){return 4*Kn[255+c[h-y]-c[h+0]]+Kn[255+c[h-2*y]-c[h+y]]<=w}function Rl(c,h,y,w,L){var R=c[h-3*y],O=c[h-2*y],D=c[h-y],M=c[h+0],B=c[h+y],ee=c[h+2*y],ue=c[h+3*y];return 4*Kn[255+D-M]+Kn[255+O-B]>w?0:Kn[255+c[h-4*y]-R]<=L&&Kn[255+R-O]<=L&&Kn[255+O-D]<=L&&Kn[255+ue-ee]<=L&&Kn[255+ee-B]<=L&&Kn[255+B-M]<=L}function ja(c,h,y,w){var L=2*w+1;for(w=0;16>w;++w)vo(c,h+w,y,L)&&Zs(c,h+w,y)}function Tl(c,h,y,w){var L=2*w+1;for(w=0;16>w;++w)vo(c,h+w*y,1,L)&&Zs(c,h+w*y,1)}function bc(c,h,y,w){var L;for(L=3;0<L;--L)ja(c,h+=4*y,y,w)}function wc(c,h,y,w){var L;for(L=3;0<L;--L)Tl(c,h+=4,y,w)}function ei(c,h,y,w,L,R,O,D){for(R=2*R+1;0<L--;){if(Rl(c,h,y,R,O))if(Pl(c,h,y,D))Zs(c,h,y);else{var M=c,B=h,ee=y,ue=M[B-2*ee],U=M[B-ee],ne=M[B+0],oe=M[B+ee],xe=M[B+2*ee],le=27*(_e=rf[1020+3*(ne-U)+rf[1020+ue-oe]])+63>>7,ye=18*_e+63>>7,_e=9*_e+63>>7;M[B-3*ee]=Nn[255+M[B-3*ee]+_e],M[B-2*ee]=Nn[255+ue+ye],M[B-ee]=Nn[255+U+le],M[B+0]=Nn[255+ne-le],M[B+ee]=Nn[255+oe-ye],M[B+2*ee]=Nn[255+xe-_e]}h+=w}}function ti(c,h,y,w,L,R,O,D){for(R=2*R+1;0<L--;){if(Rl(c,h,y,R,O))if(Pl(c,h,y,D))Zs(c,h,y);else{var M=c,B=h,ee=y,ue=M[B-ee],U=M[B+0],ne=M[B+ee],oe=Ac[112+(4+(xe=3*(U-ue))>>3)],xe=Ac[112+(xe+3>>3)],le=oe+1>>1;M[B-2*ee]=Nn[255+M[B-2*ee]+le],M[B-ee]=Nn[255+ue+xe],M[B+0]=Nn[255+U-oe],M[B+ee]=Nn[255+ne-le]}h+=w}}function _c(c,h,y,w,L,R){ei(c,h,y,1,16,w,L,R)}function Sa(c,h,y,w,L,R){ei(c,h,1,y,16,w,L,R)}function Nc(c,h,y,w,L,R){var O;for(O=3;0<O;--O)ti(c,h+=4*y,y,1,16,w,L,R)}function m(c,h,y,w,L,R){var O;for(O=3;0<O;--O)ti(c,h+=4,1,y,16,w,L,R)}function A(c,h,y,w,L,R,O,D){ei(c,h,L,1,8,R,O,D),ei(y,w,L,1,8,R,O,D)}function $(c,h,y,w,L,R,O,D){ei(c,h,1,L,8,R,O,D),ei(y,w,1,L,8,R,O,D)}function Q(c,h,y,w,L,R,O,D){ti(c,h+4*L,L,1,8,R,O,D),ti(y,w+4*L,L,1,8,R,O,D)}function se(c,h,y,w,L,R,O,D){ti(c,h+4,1,L,8,R,O,D),ti(y,w+4,1,L,8,R,O,D)}function be(){this.ba=new wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Et,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Se(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ue(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ge(){this.ua=0,this.Wa=new Ce,this.vb=new Ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new K}function ut(){this.xb=this.a=0,this.l=new fo,this.ca=new wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ge,this.ab=0,this.gc=a(4,Ue),this.Oc=0}function mt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function St(c,h,y,w,L,R,O){for(c=c==null?0:c[h+0],h=0;h<O;++h)L[R+h]=c+y[w+h]&255,c=L[R+h]}function Zt(c,h,y,w,L,R,O){var D;if(c==null)St(null,null,y,w,L,R,O);else for(D=0;D<O;++D)L[R+D]=c[h+D]+y[w+D]&255}function yr(c,h,y,w,L,R,O){if(c==null)St(null,null,y,w,L,R,O);else{var D,M=c[h+0],B=M,ee=M;for(D=0;D<O;++D)B=ee+(M=c[h+D])-B,ee=y[w+D]+(-256&B?0>B?0:255:B)&255,B=M,L[R+D]=ee}}function Ut(c,h,y,w){var L=h.width,R=h.o;if(t(c!=null&&h!=null),0>y||0>=w||y+w>R)return null;if(!c.Cc){if(c.ga==null){var O;if(c.ga=new mt,(O=c.ga==null)||(O=h.width*h.o,t(c.Gb.length==0),c.Gb=i(O),c.Uc=0,c.Gb==null?O=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,O=1),O=!O),!O){O=c.ga;var D=c.Fa,M=c.P,B=c.qc,ee=c.mb,ue=c.nb,U=M+1,ne=B-1,oe=O.l;if(t(D!=null&&ee!=null&&h!=null),Fi[0]=null,Fi[1]=St,Fi[2]=Zt,Fi[3]=yr,O.ca=ee,O.tb=ue,O.c=h.width,O.i=h.height,t(0<O.c&&0<O.i),1>=B)h=0;else if(O.$a=3&D[M+0],O.Z=D[M+0]>>2&3,O.Lc=D[M+0]>>4&3,M=D[M+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||M)h=0;else if(oe.put=st,oe.ac=As,oe.bc=Gs,oe.ma=O,oe.width=h.width,oe.height=h.height,oe.Da=h.Da,oe.v=h.v,oe.va=h.va,oe.j=h.j,oe.o=h.o,O.$a)e:{t(O.$a==1),h=ya();t:for(;;){if(h==null){h=0;break e}if(t(O!=null),O.mc=h,h.c=O.c,h.i=O.i,h.l=O.l,h.l.ma=O,h.l.width=O.c,h.l.height=O.i,h.a=0,ae(h.m,D,U,ne),!Es(O.c,O.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&is(h.s)?(O.ic=1,D=h.c*h.i,h.Ta=null,h.Ua=0,h.V=i(D),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(O.ic=0,h=ba(h,O.c)),!h))break t;h=1;break e}O.mc=null,h=0}else h=ne>=O.c*O.i;O=!h}if(O)return null;c.ga.Lc!=1?c.Ga=0:w=R-y}t(c.ga!=null),t(y+w<=R);e:{if(h=(D=c.ga).c,R=D.l.o,D.$a==0){if(U=c.rc,ne=c.Vc,oe=c.Fa,M=c.P+1+y*h,B=c.mb,ee=c.nb+y*h,t(M<=c.P+c.qc),D.Z!=0)for(t(Fi[D.Z]!=null),O=0;O<w;++O)Fi[D.Z](U,ne,oe,M,B,ee,h),U=B,ne=ee,ee+=h,M+=h;else for(O=0;O<w;++O)n(B,ee,oe,M,h),U=B,ne=ee,ee+=h,M+=h;c.rc=U,c.Vc=ne}else{if(t(D.mc!=null),h=y+w,t((O=D.mc)!=null),t(h<=O.i),O.C>=h)h=1;else if(D.ic||us(),D.ic){D=O.V,U=O.Ba,ne=O.c;var xe=O.i,le=(oe=1,M=O.$/ne,B=O.$%ne,ee=O.m,ue=O.s,O.$),ye=ne*xe,_e=ne*h,Ee=ue.wc,ke=le<_e?Mr(ue,B,M):null;t(le<=ye),t(h<=xe),t(is(ue));t:for(;;){for(;!ee.h&&le<_e;){if(B&Ee||(ke=Mr(ue,B,M)),t(ke!=null),ie(ee),256>(xe=sr(ke.G[0],ke.H[0],ee)))D[U+le]=xe,++le,++B>=ne&&(B=0,++M<=h&&!(M%16)&&as(O,M));else{if(!(280>xe)){oe=0;break t}xe=zn(xe-256,ee);var Je,Fe=sr(ke.G[4],ke.H[4],ee);if(ie(ee),!(le>=(Fe=$n(ne,Fe=zn(Fe,ee)))&&ye-le>=xe)){oe=0;break t}for(Je=0;Je<xe;++Je)D[U+le+Je]=D[U+le+Je-Fe];for(le+=xe,B+=xe;B>=ne;)B-=ne,++M<=h&&!(M%16)&&as(O,M);le<_e&&B&Ee&&(ke=Mr(ue,B,M))}t(ee.h==Z(ee))}as(O,M>h?h:M);break t}!oe||ee.h&&le<ye?(oe=0,O.a=ee.h?5:3):O.$=le,h=oe}else h=os(O,O.V,O.Ba,O.c,O.i,h,uo);if(!h){w=0;break e}}y+w>=R&&(c.Cc=1),w=1}if(!w)return null;if(c.Cc&&((w=c.ga)!=null&&(w.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*L}function jr(c,h,y,w,L,R){for(;0<L--;){var O,D=c,M=h+(y?1:0),B=c,ee=h+(y?0:3);for(O=0;O<w;++O){var ue=B[ee+4*O];ue!=255&&(ue*=32897,D[M+4*O+0]=D[M+4*O+0]*ue>>23,D[M+4*O+1]=D[M+4*O+1]*ue>>23,D[M+4*O+2]=D[M+4*O+2]*ue>>23)}h+=R}}function br(c,h,y,w,L){for(;0<w--;){var R;for(R=0;R<y;++R){var O=c[h+2*R+0],D=15&(B=c[h+2*R+1]),M=4369*D,B=(240&B|B>>4)*M>>16;c[h+2*R+0]=(240&O|O>>4)*M>>16&240|(15&O|O<<4)*M>>16>>4&15,c[h+2*R+1]=240&B|D}h+=L}}function Fr(c,h,y,w,L,R,O,D){var M,B,ee=255;for(B=0;B<L;++B){for(M=0;M<w;++M){var ue=c[h+M];R[O+4*M]=ue,ee&=ue}h+=y,O+=D}return ee!=255}function ri(c,h,y,w,L){var R;for(R=0;R<L;++R)y[w+R]=c[h+R]>>8}function us(){Vl=jr,sm=br,im=Fr,am=ri}function ni(c,h,y){T[c]=function(w,L,R,O,D,M,B,ee,ue,U,ne,oe,xe,le,ye,_e,Ee){var ke,Je=Ee-1>>1,Fe=D[M+0]|B[ee+0]<<16,gt=ue[U+0]|ne[oe+0]<<16;t(w!=null);var He=3*Fe+gt+131074>>2;for(h(w[L+0],255&He,He>>16,xe,le),R!=null&&(He=3*gt+Fe+131074>>2,h(R[O+0],255&He,He>>16,ye,_e)),ke=1;ke<=Je;++ke){var Nt=D[M+ke]|B[ee+ke]<<16,kr=ue[U+ke]|ne[oe+ke]<<16,vt=Fe+Nt+gt+kr+524296,Ve=vt+2*(Nt+gt)>>3;He=Ve+Fe>>1,Fe=(vt=vt+2*(Fe+kr)>>3)+Nt>>1,h(w[L+2*ke-1],255&He,He>>16,xe,le+(2*ke-1)*y),h(w[L+2*ke-0],255&Fe,Fe>>16,xe,le+(2*ke-0)*y),R!=null&&(He=vt+gt>>1,Fe=Ve+kr>>1,h(R[O+2*ke-1],255&He,He>>16,ye,_e+(2*ke-1)*y),h(R[O+2*ke+0],255&Fe,Fe>>16,ye,_e+(2*ke+0)*y)),Fe=Nt,gt=kr}1&Ee||(He=3*Fe+gt+131074>>2,h(w[L+Ee-1],255&He,He>>16,xe,le+(Ee-1)*y),R!=null&&(He=3*gt+Fe+131074>>2,h(R[O+Ee-1],255&He,He>>16,ye,_e+(Ee-1)*y)))}}function Ol(){Jn[Lc]=Ab,Jn[Ec]=vm,Jn[hm]=Lb,Jn[Cc]=xm,Jn[Pc]=ym,Jn[nf]=bm,Jn[fm]=Eb,Jn[sf]=vm,Jn[af]=xm,Jn[Rc]=ym,Jn[of]=bm}function xo(c){return c&-16384?0>c?0:255:c>>Cb}function Li(c,h){return xo((19077*c>>8)+(26149*h>>8)-14234)}function ka(c,h,y){return xo((19077*c>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function Aa(c,h){return xo((19077*c>>8)+(33050*h>>8)-17685)}function Ei(c,h,y,w,L){w[L+0]=Li(c,y),w[L+1]=ka(c,h,y),w[L+2]=Aa(c,h)}function Br(c,h,y,w,L){w[L+0]=Aa(c,h),w[L+1]=ka(c,h,y),w[L+2]=Li(c,y)}function La(c,h,y,w,L){var R=ka(c,h,y);h=R<<3&224|Aa(c,h)>>3,w[L+0]=248&Li(c,y)|R>>5,w[L+1]=h}function Ea(c,h,y,w,L){var R=240&Aa(c,h)|15;w[L+0]=240&Li(c,y)|ka(c,h,y)>>4,w[L+1]=R}function Il(c,h,y,w,L){w[L+0]=255,Ei(c,h,y,w,L+1)}function Dl(c,h,y,w,L){Br(c,h,y,w,L),w[L+3]=255}function sn(c,h,y,w,L){Ei(c,h,y,w,L),w[L+3]=255}function si(c,h,y){T[c]=function(w,L,R,O,D,M,B,ee,ue){for(var U=ee+(-2&ue)*y;ee!=U;)h(w[L+0],R[O+0],D[M+0],B,ee),h(w[L+1],R[O+0],D[M+0],B,ee+y),L+=2,++O,++M,ee+=2*y;1&ue&&h(w[L+0],R[O+0],D[M+0],B,ee)}}function yo(c,h,y){return y==0?c==0?h==0?6:5:h==0?4:0:y}function jc(c,h,y,w,L){switch(c>>>30){case 3:Ta(h,y,w,L,0);break;case 2:Gn(h,y,w,L);break;case 1:Ct(h,y,w,L)}}function Wn(c,h){var y,w,L=h.M,R=h.Nb,O=c.oc,D=c.pc+40,M=c.oc,B=c.pc+584,ee=c.oc,ue=c.pc+600;for(y=0;16>y;++y)O[D+32*y-1]=129;for(y=0;8>y;++y)M[B+32*y-1]=129,ee[ue+32*y-1]=129;for(0<L?O[D-1-32]=M[B-1-32]=ee[ue-1-32]=129:(s(O,D-32-1,127,21),s(M,B-32-1,127,9),s(ee,ue-32-1,127,9)),w=0;w<c.za;++w){var U=h.ya[h.aa+w];if(0<w){for(y=-1;16>y;++y)n(O,D+32*y-4,O,D+32*y+12,4);for(y=-1;8>y;++y)n(M,B+32*y-4,M,B+32*y+4,4),n(ee,ue+32*y-4,ee,ue+32*y+4,4)}var ne=c.Gd,oe=c.Hd+w,xe=U.ad,le=U.Hc;if(0<L&&(n(O,D-32,ne[oe].y,0,16),n(M,B-32,ne[oe].f,0,8),n(ee,ue-32,ne[oe].ea,0,8)),U.Za){var ye=O,_e=D-32+16;for(0<L&&(w>=c.za-1?s(ye,_e,ne[oe].y[15],4):n(ye,_e,ne[oe+1].y,0,4)),y=0;4>y;y++)ye[_e+128+y]=ye[_e+256+y]=ye[_e+384+y]=ye[_e+0+y];for(y=0;16>y;++y,le<<=2)ye=O,_e=D+_m[y],cs[U.Ob[y]](ye,_e),jc(le,xe,16*+y,ye,_e)}else if(ye=yo(w,L,U.Ob[0]),Mi[ye](O,D),le!=0)for(y=0;16>y;++y,le<<=2)jc(le,xe,16*+y,O,D+_m[y]);for(y=U.Gc,ye=yo(w,L,U.Dd),oi[ye](M,B),oi[ye](ee,ue),le=xe,ye=M,_e=B,255&(U=0|y)&&(170&U?Is(le,256,ye,_e):Dt(le,256,ye,_e)),U=ee,le=ue,255&(y>>=8)&&(170&y?Is(xe,320,U,le):Dt(xe,320,U,le)),L<c.Ub-1&&(n(ne[oe].y,0,O,D+480,16),n(ne[oe].f,0,M,B+224,8),n(ne[oe].ea,0,ee,ue+224,8)),y=8*R*c.B,ne=c.sa,oe=c.ta+16*w+16*R*c.R,xe=c.qa,U=c.ra+8*w+y,le=c.Ha,ye=c.Ia+8*w+y,y=0;16>y;++y)n(ne,oe+y*c.R,O,D+32*y,16);for(y=0;8>y;++y)n(xe,U+y*c.B,M,B+32*y,8),n(le,ye+y*c.B,ee,ue+32*y,8)}}function Ca(c,h,y,w,L,R,O,D,M){var B=[0],ee=[0],ue=0,U=M!=null?M.kd:0,ne=M??new Se;if(c==null||12>y)return 7;ne.data=c,ne.w=h,ne.ha=y,h=[h],y=[y],ne.gb=[ne.gb];e:{var oe=h,xe=y,le=ne.gb;if(t(c!=null),t(xe!=null),t(le!=null),le[0]=0,12<=xe[0]&&!r(c,oe[0],"RIFF")){if(r(c,oe[0]+8,"WEBP")){le=3;break e}var ye=ze(c,oe[0]+4);if(12>ye||4294967286<ye){le=3;break e}if(U&&ye>xe[0]-8){le=7;break e}le[0]=ye,oe[0]+=12,xe[0]-=12}le=0}if(le!=0)return le;for(ye=0<ne.gb[0],y=y[0];;){e:{var _e=c;xe=h,le=y;var Ee=B,ke=ee,Je=oe=[0];if((He=ue=[ue])[0]=0,8>le[0])le=7;else{if(!r(_e,xe[0],"VP8X")){if(ze(_e,xe[0]+4)!=10){le=3;break e}if(18>le[0]){le=7;break e}var Fe=ze(_e,xe[0]+8),gt=1+Oe(_e,xe[0]+12);if(2147483648<=gt*(_e=1+Oe(_e,xe[0]+15))){le=3;break e}Je!=null&&(Je[0]=Fe),Ee!=null&&(Ee[0]=gt),ke!=null&&(ke[0]=_e),xe[0]+=18,le[0]-=18,He[0]=1}le=0}}if(ue=ue[0],oe=oe[0],le!=0)return le;if(xe=!!(2&oe),!ye&&ue)return 3;if(R!=null&&(R[0]=!!(16&oe)),O!=null&&(O[0]=xe),D!=null&&(D[0]=0),O=B[0],oe=ee[0],ue&&xe&&M==null){le=0;break}if(4>y){le=7;break}if(ye&&ue||!ye&&!ue&&!r(c,h[0],"ALPH")){y=[y],ne.na=[ne.na],ne.P=[ne.P],ne.Sa=[ne.Sa];e:{Fe=c,le=h,ye=y;var He=ne.gb;Ee=ne.na,ke=ne.P,Je=ne.Sa,gt=22,t(Fe!=null),t(ye!=null),_e=le[0];var Nt=ye[0];for(t(Ee!=null),t(Je!=null),Ee[0]=null,ke[0]=null,Je[0]=0;;){if(le[0]=_e,ye[0]=Nt,8>Nt){le=7;break e}var kr=ze(Fe,_e+4);if(4294967286<kr){le=3;break e}var vt=8+kr+1&-2;if(gt+=vt,0<He&&gt>He){le=3;break e}if(!r(Fe,_e,"VP8 ")||!r(Fe,_e,"VP8L")){le=0;break e}if(Nt[0]<vt){le=7;break e}r(Fe,_e,"ALPH")||(Ee[0]=Fe,ke[0]=_e+8,Je[0]=kr),_e+=vt,Nt-=vt}}if(y=y[0],ne.na=ne.na[0],ne.P=ne.P[0],ne.Sa=ne.Sa[0],le!=0)break}y=[y],ne.Ja=[ne.Ja],ne.xa=[ne.xa];e:if(He=c,le=h,ye=y,Ee=ne.gb[0],ke=ne.Ja,Je=ne.xa,Fe=le[0],_e=!r(He,Fe,"VP8 "),gt=!r(He,Fe,"VP8L"),t(He!=null),t(ye!=null),t(ke!=null),t(Je!=null),8>ye[0])le=7;else{if(_e||gt){if(He=ze(He,Fe+4),12<=Ee&&He>Ee-12){le=3;break e}if(U&&He>ye[0]-8){le=7;break e}ke[0]=He,le[0]+=8,ye[0]-=8,Je[0]=gt}else Je[0]=5<=ye[0]&&He[Fe+0]==47&&!(He[Fe+4]>>5),ke[0]=ye[0];le=0}if(y=y[0],ne.Ja=ne.Ja[0],ne.xa=ne.xa[0],h=h[0],le!=0)break;if(4294967286<ne.Ja)return 3;if(D==null||xe||(D[0]=ne.xa?2:1),O=[O],oe=[oe],ne.xa){if(5>y){le=7;break}D=O,U=oe,xe=R,c==null||5>y?c=0:5<=y&&c[h+0]==47&&!(c[h+4]>>5)?(ye=[0],He=[0],Ee=[0],ae(ke=new z,c,h,y),Ks(ke,ye,He,Ee)?(D!=null&&(D[0]=ye[0]),U!=null&&(U[0]=He[0]),xe!=null&&(xe[0]=Ee[0]),c=1):c=0):c=0}else{if(10>y){le=7;break}D=oe,c==null||10>y||!fc(c,h+3,y-3)?c=0:(U=c[h+0]|c[h+1]<<8|c[h+2]<<16,xe=16383&(c[h+7]<<8|c[h+6]),c=16383&(c[h+9]<<8|c[h+8]),1&U||3<(U>>1&7)||!(U>>4&1)||U>>5>=ne.Ja||!xe||!c?c=0:(O&&(O[0]=xe),D&&(D[0]=c),c=1))}if(!c||(O=O[0],oe=oe[0],ue&&(B[0]!=O||ee[0]!=oe)))return 3;M!=null&&(M[0]=ne,M.offset=h-M.w,t(4294967286>h-M.w),t(M.offset==M.ha-y));break}return le==0||le==7&&ue&&M==null?(R!=null&&(R[0]|=ne.na!=null&&0<ne.na.length),w!=null&&(w[0]=O),L!=null&&(L[0]=oe),0):le}function Ml(c,h,y){var w=h.width,L=h.height,R=0,O=0,D=w,M=L;if(h.Da=c!=null&&0<c.Da,h.Da&&(D=c.cd,M=c.bd,R=c.v,O=c.j,11>y||(R&=-2,O&=-2),0>R||0>O||0>=D||0>=M||R+D>w||O+M>L))return 0;if(h.v=R,h.j=O,h.va=R+D,h.o=O+M,h.U=D,h.T=M,h.da=c!=null&&0<c.da,h.da){if(!Ie(D,M,y=[c.ib],R=[c.hb]))return 0;h.ib=y[0],h.hb=R[0]}return h.ob=c!=null&&c.ob,h.Kb=c==null||!c.Sd,h.da&&(h.ob=h.ib<3*w/4&&h.hb<3*L/4,h.Kb=0),1}function Fl(c){if(c==null)return 2;if(11>c.S){var h=c.f.RGBA;h.fb+=(c.height-1)*h.A,h.A=-h.A}else h=c.f.kb,c=c.height,h.O+=(c-1)*h.fa,h.fa=-h.fa,h.N+=(c-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(c-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(c-1)*h.lb,h.lb=-h.lb);return 0}function Ci(c,h,y,w){if(w==null||0>=c||0>=h)return 2;if(y!=null){if(y.Da){var L=y.cd,R=y.bd,O=-2&y.v,D=-2&y.j;if(0>O||0>D||0>=L||0>=R||O+L>c||D+R>h)return 2;c=L,h=R}if(y.da){if(!Ie(c,h,L=[y.ib],R=[y.hb]))return 2;c=L[0],h=R[0]}}w.width=c,w.height=h;e:{var M=w.width,B=w.height;if(c=w.S,0>=M||0>=B||!(c>=Lc&&13>c))c=2;else{if(0>=w.Rd&&w.sd==null){O=R=L=h=0;var ee=(D=M*Nm[c])*B;if(11>c||(R=(B+1)/2*(h=(M+1)/2),c==12&&(O=(L=M)*B)),(B=i(ee+2*R+O))==null){c=1;break e}w.sd=B,11>c?((M=w.f.RGBA).eb=B,M.fb=0,M.A=D,M.size=ee):((M=w.f.kb).y=B,M.O=0,M.fa=D,M.Fd=ee,M.f=B,M.N=0+ee,M.Ab=h,M.Cd=R,M.ea=B,M.W=0+ee+R,M.Db=h,M.Ed=R,c==12&&(M.F=B,M.J=0+ee+2*R),M.Tc=O,M.lb=L)}if(h=1,L=w.S,R=w.width,O=w.height,L>=Lc&&13>L)if(11>L)c=w.f.RGBA,h&=(D=Math.abs(c.A))*(O-1)+R<=c.size,h&=D>=R*Nm[L],h&=c.eb!=null;else{c=w.f.kb,D=(R+1)/2,ee=(O+1)/2,M=Math.abs(c.fa),B=Math.abs(c.Ab);var ue=Math.abs(c.Db),U=Math.abs(c.lb),ne=U*(O-1)+R;h&=M*(O-1)+R<=c.Fd,h&=B*(ee-1)+D<=c.Cd,h=(h&=ue*(ee-1)+D<=c.Ed)&M>=R&B>=D&ue>=D,h&=c.y!=null,h&=c.f!=null,h&=c.ea!=null,L==12&&(h&=U>=R,h&=ne<=c.Tc,h&=c.F!=null)}else h=0;c=h?0:2}}return c!=0||y!=null&&y.fd&&(c=Fl(w)),c}var Pa=64,wn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_n=24,Pi=32,ii=8,Ri=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];De("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(c){return c},T.Predictor2=function(c,h,y){return h[y+0]},T.Predictor3=function(c,h,y){return h[y+1]},T.Predictor4=function(c,h,y){return h[y-1]},T.Predictor5=function(c,h,y){return $e($e(c,h[y+1]),h[y+0])},T.Predictor6=function(c,h,y){return $e(c,h[y-1])},T.Predictor7=function(c,h,y){return $e(c,h[y+0])},T.Predictor8=function(c,h,y){return $e(h[y-1],h[y+0])},T.Predictor9=function(c,h,y){return $e(h[y+0],h[y+1])},T.Predictor10=function(c,h,y){return $e($e(c,h[y-1]),$e(h[y+0],h[y+1]))},T.Predictor11=function(c,h,y){var w=h[y+0];return 0>=ct(w>>24&255,c>>24&255,(h=h[y-1])>>24&255)+ct(w>>16&255,c>>16&255,h>>16&255)+ct(w>>8&255,c>>8&255,h>>8&255)+ct(255&w,255&c,255&h)?w:c},T.Predictor12=function(c,h,y){var w=h[y+0];return(Lt((c>>24&255)+(w>>24&255)-((h=h[y-1])>>24&255))<<24|Lt((c>>16&255)+(w>>16&255)-(h>>16&255))<<16|Lt((c>>8&255)+(w>>8&255)-(h>>8&255))<<8|Lt((255&c)+(255&w)-(255&h)))>>>0},T.Predictor13=function(c,h,y){var w=h[y-1];return(yt((c=$e(c,h[y+0]))>>24&255,w>>24&255)<<24|yt(c>>16&255,w>>16&255)<<16|yt(c>>8&255,w>>8&255)<<8|yt(255&c,255&w))>>>0};var Bl=T.PredictorAdd0;T.PredictorAdd1=bt,De("Predictor2","PredictorAdd2"),De("Predictor3","PredictorAdd3"),De("Predictor4","PredictorAdd4"),De("Predictor5","PredictorAdd5"),De("Predictor6","PredictorAdd6"),De("Predictor7","PredictorAdd7"),De("Predictor8","PredictorAdd8"),De("Predictor9","PredictorAdd9"),De("Predictor10","PredictorAdd10"),De("Predictor11","PredictorAdd11"),De("Predictor12","PredictorAdd12"),De("Predictor13","PredictorAdd13");var bo=T.PredictorAdd2;je("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),je("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var cr,Sc=T.ColorIndexInverseTransform,Ts=T.MapARGB,Os=T.VP8LColorIndexInverseTransformAlpha,Ul=T.MapAlpha,zl=T.VP8LPredictorsAdd=[];zl.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var $l,ql,Ti,Oi,Ii,Ra,Di,Ta,Gn,Is,Ct,Dt,dr,Sr,ai,Hl,wo,kc,Q1,Z1,em,tm,rm,nm,Vl,sm,im,am,om=i(511),lm=i(2041),um=i(225),cm=i(767),dm=0,rf=lm,Ac=um,Nn=cm,Kn=om,Lc=0,Ec=1,hm=2,Cc=3,Pc=4,nf=5,fm=6,sf=7,af=8,Rc=9,of=10,fb=[2,3,7],pb=[3,3,11],pm=[280,256,256,256,40],mb=[0,1,1,1,0],gb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xb=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],yb=8,lf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],uf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wl=null,bb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wb=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],mm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_b=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Nb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],jb=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Sb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Mi=[],cs=[],oi=[],kb=1,gm=2,Fi=[],Jn=[];ni("UpsampleRgbLinePair",Ei,3),ni("UpsampleBgrLinePair",Br,3),ni("UpsampleRgbaLinePair",sn,4),ni("UpsampleBgraLinePair",Dl,4),ni("UpsampleArgbLinePair",Il,4),ni("UpsampleRgba4444LinePair",Ea,2),ni("UpsampleRgb565LinePair",La,2);var Ab=T.UpsampleRgbLinePair,Lb=T.UpsampleBgrLinePair,vm=T.UpsampleRgbaLinePair,xm=T.UpsampleBgraLinePair,ym=T.UpsampleArgbLinePair,bm=T.UpsampleRgba4444LinePair,Eb=T.UpsampleRgb565LinePair,Tc=16,Oc=1<<Tc-1,Gl=-227,cf=482,Cb=6,wm=0,Pb=i(256),Rb=i(256),Tb=i(256),Ob=i(256),Ib=i(cf-Gl),Db=i(cf-Gl);si("YuvToRgbRow",Ei,3),si("YuvToBgrRow",Br,3),si("YuvToRgbaRow",sn,4),si("YuvToBgraRow",Dl,4),si("YuvToArgbRow",Il,4),si("YuvToRgba4444Row",Ea,2),si("YuvToRgb565Row",La,2);var _m=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ic=[0,2,8],Mb=[8,7,6,4,4,2,2,2,1,1,1,1],Fb=1;this.WebPDecodeRGBA=function(c,h,y,w,L){var R=Ec,O=new be,D=new wt;O.ba=D,D.S=R,D.width=[D.width],D.height=[D.height];var M=D.width,B=D.height,ee=new nt;if(ee==null||c==null)var ue=2;else t(ee!=null),ue=Ca(c,h,y,ee.width,ee.height,ee.Pd,ee.Qd,ee.format,null);if(ue!=0?M=0:(M!=null&&(M[0]=ee.width[0]),B!=null&&(B[0]=ee.height[0]),M=1),M){D.width=D.width[0],D.height=D.height[0],w!=null&&(w[0]=D.width),L!=null&&(L[0]=D.height);e:{if(w=new fo,(L=new Se).data=c,L.w=h,L.ha=y,L.kd=1,h=[0],t(L!=null),((c=Ca(L.data,L.w,L.ha,null,null,null,h,null,L))==0||c==7)&&h[0]&&(c=4),(h=c)==0){if(t(O!=null),w.data=L.data,w.w=L.w+L.offset,w.ha=L.ha-L.offset,w.put=st,w.ac=As,w.bc=Gs,w.ma=O,L.xa){if((c=ya())==null){O=1;break e}if(function(U,ne){var oe=[0],xe=[0],le=[0];t:for(;;){if(U==null)return 0;if(ne==null)return U.a=2,0;if(U.l=ne,U.a=0,ae(U.m,ne.data,ne.w,ne.ha),!Ks(U.m,oe,xe,le)){U.a=3;break t}if(U.xb=gm,ne.width=oe[0],ne.height=xe[0],!Es(oe[0],xe[0],1,U,null))break t;return 1}return t(U.a!=0),0}(c,w)){if(w=(h=Ci(w.width,w.height,O.Oa,O.ba))==0){t:{w=c;r:for(;;){if(w==null){w=0;break t}if(t(w.s.yc!=null),t(w.s.Ya!=null),t(0<w.s.Wb),t((y=w.l)!=null),t((L=y.ma)!=null),w.xb!=0){if(w.ca=L.ba,w.tb=L.tb,t(w.ca!=null),!Ml(L.Oa,y,Cc)){w.a=2;break r}if(!ba(w,y.width)||y.da)break r;if((y.da||ot(w.ca.S))&&us(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&us()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!E(w.s.vb,w.s.Wa.Xa)){w.a=1;break r}w.xb=0}if(!os(w,w.V,w.Ba,w.c,w.i,y.o,Ai))break r;L.Dc=w.Ma,w=1;break t}t(w.a!=0),w=0}w=!w}w&&(h=c.a)}else h=c.a}else{if((c=new zh)==null){O=1;break e}if(c.Fa=L.na,c.P=L.P,c.qc=L.Sa,Ps(c,w)){if((h=Ci(w.width,w.height,O.Oa,O.ba))==0){if(c.Aa=0,y=O.Oa,t((L=c)!=null),y!=null){if(0<(M=0>(M=y.Md)?0:100<M?255:255*M/100)){for(B=ee=0;4>B;++B)12>(ue=L.pb[B]).lc&&(ue.ia=M*Mb[0>ue.lc?0:ue.lc]>>3),ee|=ue.ia;ee&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=y.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}(function(U,ne){if(U==null)return 0;if(ne==null)return xr(U,2,"NULL VP8Io parameter in VP8Decode().");if(!U.cb&&!Ps(U,ne))return 0;if(t(U.cb),ne.ac==null||ne.ac(ne)){ne.ob&&(U.L=0);var oe=Ic[U.L];if(U.L==2?(U.yb=0,U.zb=0):(U.yb=ne.v-oe>>4,U.zb=ne.j-oe>>4,0>U.yb&&(U.yb=0),0>U.zb&&(U.zb=0)),U.Va=ne.o+15+oe>>4,U.Hb=ne.va+15+oe>>4,U.Hb>U.za&&(U.Hb=U.za),U.Va>U.Ub&&(U.Va=U.Ub),0<U.L){var xe=U.ed;for(oe=0;4>oe;++oe){var le;if(U.Qa.Cb){var ye=U.Qa.Lb[oe];U.Qa.Fb||(ye+=xe.Tb)}else ye=xe.Tb;for(le=0;1>=le;++le){var _e=U.gd[oe][le],Ee=ye;if(xe.Pc&&(Ee+=xe.vd[0],le&&(Ee+=xe.od[0])),0<(Ee=0>Ee?0:63<Ee?63:Ee)){var ke=Ee;0<xe.wb&&(ke=4<xe.wb?ke>>2:ke>>1)>9-xe.wb&&(ke=9-xe.wb),1>ke&&(ke=1),_e.dd=ke,_e.tc=2*Ee+ke,_e.ld=40<=Ee?2:15<=Ee?1:0}else _e.tc=0;_e.La=le}}}oe=0}else xr(U,6,"Frame setup failed"),oe=U.a;if(oe=oe==0){if(oe){U.$c=0,0<U.Aa||(U.Ic=Fb);t:{oe=U.Ic,xe=4*(ke=U.za);var Je=32*ke,Fe=ke+1,gt=0<U.L?ke*(0<U.Aa?2:1):0,He=(U.Aa==2?2:1)*ke;if((_e=xe+832+(le=3*(16*oe+Ic[U.L])/2*Je)+(ye=U.Fa!=null&&0<U.Fa.length?U.Kc.c*U.Kc.i:0))!=_e)oe=0;else{if(_e>U.Vb){if(U.Vb=0,U.Ec=i(_e),U.Fc=0,U.Ec==null){oe=xr(U,1,"no memory during frame initialization.");break t}U.Vb=_e}_e=U.Ec,Ee=U.Fc,U.Ac=_e,U.Bc=Ee,Ee+=xe,U.Gd=a(Je,dc),U.Hd=0,U.rb=a(Fe+1,jl),U.sb=1,U.wa=gt?a(gt,Hn):null,U.Y=0,U.D.Nb=0,U.D.wa=U.wa,U.D.Y=U.Y,0<U.Aa&&(U.D.Y+=ke),t(!0),U.oc=_e,U.pc=Ee,Ee+=832,U.ya=a(He,Sl),U.aa=0,U.D.ya=U.ya,U.D.aa=U.aa,U.Aa==2&&(U.D.aa+=ke),U.R=16*ke,U.B=8*ke,ke=(Je=Ic[U.L])*U.R,Je=Je/2*U.B,U.sa=_e,U.ta=Ee+ke,U.qa=U.sa,U.ra=U.ta+16*oe*U.R+Je,U.Ha=U.qa,U.Ia=U.ra+8*oe*U.B+Je,U.$c=0,Ee+=le,U.mb=ye?_e:null,U.nb=ye?Ee:null,t(Ee+ye<=U.Fc+U.Vb),pc(U),s(U.Ac,U.Bc,0,xe),oe=1}}if(oe){if(ne.ka=0,ne.y=U.sa,ne.O=U.ta,ne.f=U.qa,ne.N=U.ra,ne.ea=U.Ha,ne.Vd=U.Ia,ne.fa=U.R,ne.Rc=U.B,ne.F=null,ne.J=0,!dm){for(oe=-255;255>=oe;++oe)om[255+oe]=0>oe?-oe:oe;for(oe=-1020;1020>=oe;++oe)lm[1020+oe]=-128>oe?-128:127<oe?127:oe;for(oe=-112;112>=oe;++oe)um[112+oe]=-16>oe?-16:15<oe?15:oe;for(oe=-255;510>=oe;++oe)cm[255+oe]=0>oe?0:255<oe?255:oe;dm=1}Di=mo,Ta=qh,Is=Rs,Ct=gc,Dt=vc,Gn=$h,dr=_c,Sr=Sa,ai=A,Hl=$,wo=Nc,kc=m,Q1=Q,Z1=se,em=ja,tm=Tl,rm=bc,nm=wc,cs[0]=Xh,cs[1]=Hh,cs[2]=Jh,cs[3]=Yh,cs[4]=Ys,cs[5]=Qh,cs[6]=Xs,cs[7]=Zh,cs[8]=Ll,cs[9]=go,Mi[0]=Gh,Mi[1]=Wh,Mi[2]=kl,Mi[3]=xc,Mi[4]=_a,Mi[5]=Al,Mi[6]=Kh,oi[0]=tf,oi[1]=Vh,oi[2]=Na,oi[3]=ef,oi[4]=Cl,oi[5]=El,oi[6]=yc,oe=1}else oe=0}oe&&(oe=function(Nt,kr){for(Nt.M=0;Nt.M<Nt.Va;++Nt.M){var vt,Ve=Nt.Jc[Nt.M&Nt.Xb],Te=Nt.m,hr=Nt;for(vt=0;vt<hr.za;++vt){var pt=Te,jt=hr,Ht=jt.Ac,Ur=jt.Bc+4*vt,an=jt.zc,ir=jt.ya[jt.aa+vt];if(jt.Qa.Bb?ir.$b=we(pt,jt.Pa.jb[0])?2+we(pt,jt.Pa.jb[2]):we(pt,jt.Pa.jb[1]):ir.$b=0,jt.kc&&(ir.Ad=we(pt,jt.Bd)),ir.Za=!we(pt,145)+0,ir.Za){var Jr=ir.Ob,on=0;for(jt=0;4>jt;++jt){var Ar,kt=an[0+jt];for(Ar=0;4>Ar;++Ar){kt=Nb[Ht[Ur+Ar]][kt];for(var Pt=mm[we(pt,kt[0])];0<Pt;)Pt=mm[2*Pt+we(pt,kt[Pt])];kt=-Pt,Ht[Ur+Ar]=kt}n(Jr,on,Ht,Ur,4),on+=4,an[0+jt]=kt}}else kt=we(pt,156)?we(pt,128)?1:3:we(pt,163)?2:0,ir.Ob[0]=kt,s(Ht,Ur,kt,4),s(an,0,kt,4);ir.Dd=we(pt,142)?we(pt,114)?we(pt,183)?1:3:2:0}if(hr.m.Ka)return xr(Nt,7,"Premature end-of-partition0 encountered.");for(;Nt.ja<Nt.za;++Nt.ja){if(hr=Ve,pt=(Te=Nt).rb[Te.sb-1],Ht=Te.rb[Te.sb+Te.ja],vt=Te.ya[Te.aa+Te.ja],Ur=Te.kc?vt.Ad:0)pt.la=Ht.la=0,vt.Za||(pt.Na=Ht.Na=0),vt.Hc=0,vt.Gc=0,vt.ia=0;else{var ar,Rt;if(pt=Ht,Ht=hr,Ur=Te.Pa.Xc,an=Te.ya[Te.aa+Te.ja],ir=Te.pb[an.$b],jt=an.ad,Jr=0,on=Te.rb[Te.sb-1],kt=Ar=0,s(jt,Jr,0,384),an.Za)var zr=0,ds=Ur[3];else{Pt=i(16);var fr=pt.Na+on.Na;if(fr=Wl(Ht,Ur[1],fr,ir.Eb,0,Pt,0),pt.Na=on.Na=(0<fr)+0,1<fr)Di(Pt,0,jt,Jr);else{var fn=Pt[0]+3>>3;for(Pt=0;256>Pt;Pt+=16)jt[Jr+Pt]=fn}zr=1,ds=Ur[0]}var Mt=15&pt.la,Lr=15&on.la;for(Pt=0;4>Pt;++Pt){var jn=1&Lr;for(fn=Rt=0;4>fn;++fn)Mt=Mt>>1|(jn=(fr=Wl(Ht,ds,fr=jn+(1&Mt),ir.Sc,zr,jt,Jr))>zr)<<7,Rt=Rt<<2|(3<fr?3:1<fr?2:jt[Jr+0]!=0),Jr+=16;Mt>>=4,Lr=Lr>>1|jn<<7,Ar=(Ar<<8|Rt)>>>0}for(ds=Mt,zr=Lr>>4,ar=0;4>ar;ar+=2){for(Rt=0,Mt=pt.la>>4+ar,Lr=on.la>>4+ar,Pt=0;2>Pt;++Pt){for(jn=1&Lr,fn=0;2>fn;++fn)fr=jn+(1&Mt),Mt=Mt>>1|(jn=0<(fr=Wl(Ht,Ur[2],fr,ir.Qc,0,jt,Jr)))<<3,Rt=Rt<<2|(3<fr?3:1<fr?2:jt[Jr+0]!=0),Jr+=16;Mt>>=2,Lr=Lr>>1|jn<<5}kt|=Rt<<4*ar,ds|=Mt<<4<<ar,zr|=(240&Lr)<<ar}pt.la=ds,on.la=zr,an.Hc=Ar,an.Gc=kt,an.ia=43690&kt?0:ir.ia,Ur=!(Ar|kt)}if(0<Te.L&&(Te.wa[Te.Y+Te.ja]=Te.gd[vt.$b][vt.Za],Te.wa[Te.Y+Te.ja].La|=!Ur),hr.Ka)return xr(Nt,7,"Premature end-of-file encountered.")}if(pc(Nt),Te=kr,hr=1,vt=(Ve=Nt).D,pt=0<Ve.L&&Ve.M>=Ve.zb&&Ve.M<=Ve.Va,Ve.Aa==0)t:{if(vt.M=Ve.M,vt.uc=pt,Wn(Ve,vt),hr=1,vt=(Rt=Ve.D).Nb,pt=(kt=Ic[Ve.L])*Ve.R,Ht=kt/2*Ve.B,Pt=16*vt*Ve.R,fn=8*vt*Ve.B,Ur=Ve.sa,an=Ve.ta-pt+Pt,ir=Ve.qa,jt=Ve.ra-Ht+fn,Jr=Ve.Ha,on=Ve.Ia-Ht+fn,Lr=(Mt=Rt.M)==0,Ar=Mt>=Ve.Va-1,Ve.Aa==2&&Wn(Ve,Rt),Rt.uc)for(jn=(fr=Ve).D.M,t(fr.D.uc),Rt=fr.yb;Rt<fr.Hb;++Rt){zr=Rt,ds=jn;var ln=(Sn=($r=fr).D).Nb;ar=$r.R;var Sn=Sn.wa[Sn.Y+zr],kn=$r.sa,pn=$r.ta+16*ln*ar+16*zr,An=Sn.dd,zt=Sn.tc;if(zt!=0)if(t(3<=zt),$r.L==1)0<zr&&tm(kn,pn,ar,zt+4),Sn.La&&nm(kn,pn,ar,zt),0<ds&&em(kn,pn,ar,zt+4),Sn.La&&rm(kn,pn,ar,zt);else{var Ln=$r.B,hs=$r.qa,Oa=$r.ra+8*ln*Ln+8*zr,li=$r.Ha,$r=$r.Ia+8*ln*Ln+8*zr;ln=Sn.ld,0<zr&&(Sr(kn,pn,ar,zt+4,An,ln),Hl(hs,Oa,li,$r,Ln,zt+4,An,ln)),Sn.La&&(kc(kn,pn,ar,zt,An,ln),Z1(hs,Oa,li,$r,Ln,zt,An,ln)),0<ds&&(dr(kn,pn,ar,zt+4,An,ln),ai(hs,Oa,li,$r,Ln,zt+4,An,ln)),Sn.La&&(wo(kn,pn,ar,zt,An,ln),Q1(hs,Oa,li,$r,Ln,zt,An,ln))}}if(Ve.ia&&alert("todo:DitherRow"),Te.put!=null){if(Rt=16*Mt,Mt=16*(Mt+1),Lr?(Te.y=Ve.sa,Te.O=Ve.ta+Pt,Te.f=Ve.qa,Te.N=Ve.ra+fn,Te.ea=Ve.Ha,Te.W=Ve.Ia+fn):(Rt-=kt,Te.y=Ur,Te.O=an,Te.f=ir,Te.N=jt,Te.ea=Jr,Te.W=on),Ar||(Mt-=kt),Mt>Te.o&&(Mt=Te.o),Te.F=null,Te.J=null,Ve.Fa!=null&&0<Ve.Fa.length&&Rt<Mt&&(Te.J=Ut(Ve,Te,Rt,Mt-Rt),Te.F=Ve.mb,Te.F==null&&Te.F.length==0)){hr=xr(Ve,3,"Could not decode alpha data.");break t}Rt<Te.j&&(kt=Te.j-Rt,Rt=Te.j,t(!(1&kt)),Te.O+=Ve.R*kt,Te.N+=Ve.B*(kt>>1),Te.W+=Ve.B*(kt>>1),Te.F!=null&&(Te.J+=Te.width*kt)),Rt<Mt&&(Te.O+=Te.v,Te.N+=Te.v>>1,Te.W+=Te.v>>1,Te.F!=null&&(Te.J+=Te.v),Te.ka=Rt-Te.j,Te.U=Te.va-Te.v,Te.T=Mt-Rt,hr=Te.put(Te))}vt+1!=Ve.Ic||Ar||(n(Ve.sa,Ve.ta-pt,Ur,an+16*Ve.R,pt),n(Ve.qa,Ve.ra-Ht,ir,jt+8*Ve.B,Ht),n(Ve.Ha,Ve.Ia-Ht,Jr,on+8*Ve.B,Ht))}if(!hr)return xr(Nt,6,"Output aborted.")}return 1}(U,ne)),ne.bc!=null&&ne.bc(ne),oe&=1}return oe?(U.cb=0,oe):0})(c,w)||(h=c.a)}}else h=c.a}h==0&&O.Oa!=null&&O.Oa.fd&&(h=Fl(O.ba))}O=h}R=O!=0?null:11>R?D.f.RGBA.eb:D.f.kb.y}else R=null;return R};var Nm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(T,H){for(var P="",F=0;F<4;F++)P+=String.fromCharCode(T[H++]);return P}function f(T,H){return T[H+0]|T[H+1]<<8}function g(T,H){return(T[H+0]|T[H+1]<<8|T[H+2]<<16)>>>0}function v(T,H){return(T[H+0]|T[H+1]<<8|T[H+2]<<16|T[H+3]<<24)>>>0}new u;var p=[0],N=[0],j=[],k=new u,x=e,b=function(T,H){var P={},F=0,K=!1,J=0,ce=0;if(P.frames=[],!function(C,z){for(var V=0;V<4;V++)if(C[z+V]!="RIFF".charCodeAt(V))return!0;return!1}(T,H)){for(v(T,H+=4),H+=8;H<T.length;){var fe=d(T,H),he=v(T,H+=4);H+=4;var Y=he+(1&he);switch(fe){case"VP8 ":case"VP8L":P.frames[F]===void 0&&(P.frames[F]={}),(me=P.frames[F]).src_off=K?ce:H-8,me.src_size=J+he+8,F++,K&&(K=!1,J=0,ce=0);break;case"VP8X":(me=P.header={}).feature_flags=T[H];var ae=H+4;me.canvas_width=1+g(T,ae),ae+=3,me.canvas_height=1+g(T,ae),ae+=3;break;case"ALPH":K=!0,J=Y+8,ce=H-8;break;case"ANIM":(me=P.header).bgcolor=v(T,H),ae=H+4,me.loop_count=f(T,ae),ae+=2;break;case"ANMF":var ge,me;(me=P.frames[F]={}).offset_x=2*g(T,H),H+=3,me.offset_y=2*g(T,H),H+=3,me.width=1+g(T,H),H+=3,me.height=1+g(T,H),H+=3,me.duration=g(T,H),H+=3,ge=T[H++],me.dispose=1&ge,me.blend=ge>>1&1}fe!="ANMF"&&(H+=Y)}return P}}(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var _=b.header?b.header:null,S=b.frames?b.frames:null;if(_){_.loop_counter=_.loop_count,p=[_.canvas_height],N=[_.canvas_width];for(var I=0;I<S.length&&S[I].blend!=0;I++);}var W=S[0],G=k.WebPDecodeRGBA(x,W.src_off,W.src_size,N,p);W.rgba=G,W.imgwidth=N[0],W.imgheight=p[0];for(var q=0;q<N[0]*p[0]*4;q++)j[q]=G[q];return this.width=N,this.height=p,this.data=j,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function hk(){var e,t=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function fk(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,r,n,s,i,a,l,u,d,f=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new u,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new a,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new a,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,d=new f}]);var g=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=C;Object.defineProperty(this,"pdf",{get:function(){return z}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(E){V=!!E}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(E){Z=!!E}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(E){isNaN(E)||(te=E)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(E){isNaN(E)||(ie=E)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(E){var ve;typeof E=="number"?ve=[E,E,E,E]:((ve=new Array(4))[0]=E[0],ve[1]=E.length>=2?E[1]:ve[0],ve[2]=E.length>=3?E[2]:ve[0],ve[3]=E.length>=4?E[3]:ve[1]),d.margin=ve}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(E){de=E}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(E){pe=E}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(E){we=E}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(E){E instanceof f&&(d=E)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(E){d.path=E}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(E){Le=E}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(E){var ve;ve=v(E),this.ctx.fillStyle=ve.style,this.ctx.isFillTransparent=ve.a===0,this.ctx.fillOpacity=ve.a,this.pdf.setFillColor(ve.r,ve.g,ve.b,{a:ve.a}),this.pdf.setTextColor(ve.r,ve.g,ve.b,{a:ve.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(E){var ve=v(E);this.ctx.strokeStyle=ve.style,this.ctx.isStrokeTransparent=ve.a===0,this.ctx.strokeOpacity=ve.a,ve.a===0?this.pdf.setDrawColor(255,255,255):(ve.a,this.pdf.setDrawColor(ve.r,ve.g,ve.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(E){["butt","round","square"].indexOf(E)!==-1&&(this.ctx.lineCap=E,this.pdf.setLineCap(E))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(E){isNaN(E)||(this.ctx.lineWidth=E,this.pdf.setLineWidth(E))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(E){["bevel","round","miter"].indexOf(E)!==-1&&(this.ctx.lineJoin=E,this.pdf.setLineJoin(E))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(E){isNaN(E)||(this.ctx.miterLimit=E,this.pdf.setMiterLimit(E))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(E){this.ctx.textBaseline=E}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(E){["right","end","center","left","start"].indexOf(E)!==-1&&(this.ctx.textAlign=E)}});var Re=null,Oe=null,ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(E){Re=null,Oe=null,ze=E}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(E){var ve;if(this.ctx.font=E,(ve=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(E))!==null){var Ce=ve[1];ve[2];var Ie=ve[3],Ne=ve[4];ve[5];var Qe=ve[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(De==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var Ze=function(je){var qe,et,Ke=[],tt=je.trim();if(tt==="")return w0;if(tt in xv)return[xv[tt]];for(;tt!=="";){switch(et=null,qe=(tt=bv(tt)).charAt(0)){case'"':case"'":et=ak(tt.substring(1),qe);break;default:et=ok(tt)}if(et===null||(Ke.push(et[0]),(tt=bv(et[1]))!==""&&tt.charAt(0)!==","))return w0;tt=tt.replace(/^,/,"")}return Ke}(Qe);if(this.fontFaces){var $e=function(je,qe){var et=je.getFontList(),Ke=JSON.stringify(et);if(Re===null||Oe!==Ke){var tt=function(Kt){var rt=[];return Object.keys(Kt).forEach(function(Bt){Kt[Bt].forEach(function(ot){var ft=null;switch(ot){case"bold":ft={family:Bt,weight:"bold"};break;case"italic":ft={family:Bt,style:"italic"};break;case"bolditalic":ft={family:Bt,weight:"bold",style:"italic"};break;case"":case"normal":ft={family:Bt}}ft!==null&&(ft.ref={name:Bt,style:ot},rt.push(ft))})}),rt}(et);Re=function(Kt){for(var rt={},Bt=0;Bt<Kt.length;++Bt){var ot=b0(Kt[Bt]),ft=ot.family,Jt=ot.stretch,wt=ot.style,nt=ot.weight;rt[ft]=rt[ft]||{},rt[ft][Jt]=rt[ft][Jt]||{},rt[ft][Jt][wt]=rt[ft][Jt][wt]||{},rt[ft][Jt][wt][nt]=ot}return rt}(tt.concat(qe)),Oe=Ke}return Re}(this.pdf,this.fontFaces),Lt=Ze.map(function(je){return{family:je,stretch:"normal",weight:Ie,style:Ce}}),yt=function(je,qe,et){for(var Ke=(et=et||{}).defaultFontFamily||"times",tt=Object.assign({},ik,et.genericFontFamilies||{}),Kt=null,rt=null,Bt=0;Bt<qe.length;++Bt)if(tt[(Kt=b0(qe[Bt])).family]&&(Kt.family=tt[Kt.family]),je.hasOwnProperty(Kt.family)){rt=je[Kt.family];break}if(!(rt=rt||je[Ke]))throw new Error("Could not find a font-family for the rule '"+yv(Kt)+"' and default family '"+Ke+"'.");if(rt=function(ot,ft){if(ft[ot])return ft[ot];var Jt=Up[ot],wt=Jt<=Up.normal?-1:1,nt=vv(ft,lb,Jt,wt);if(!nt)throw new Error("Could not find a matching font-stretch value for "+ot);return nt}(Kt.stretch,rt),rt=function(ot,ft){if(ft[ot])return ft[ot];for(var Jt=ob[ot],wt=0;wt<Jt.length;++wt)if(ft[Jt[wt]])return ft[Jt[wt]];throw new Error("Could not find a matching font-style for "+ot)}(Kt.style,rt),!(rt=function(ot,ft){if(ft[ot])return ft[ot];if(ot===400&&ft[500])return ft[500];if(ot===500&&ft[400])return ft[400];var Jt=sk[ot],wt=vv(ft,ub,Jt,ot<400?-1:1);if(!wt)throw new Error("Could not find a matching font-weight for value "+ot);return wt}(Kt.weight,rt)))throw new Error("Failed to resolve a font for the rule '"+yv(Kt)+"'.");return rt}($e,Lt);this.pdf.setFont(yt.ref.name,yt.ref.style)}else{var ct="";(Ie==="bold"||parseInt(Ie,10)>=700||Ce==="bold")&&(ct="bold"),Ce==="italic"&&(ct+="italic"),ct.length===0&&(ct="normal");for(var bt="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},re=0;re<Ze.length;re++){if(this.pdf.internal.getFont(Ze[re],ct,{noFallback:!0,disableWarning:!0})!==void 0){bt=Ze[re];break}if(ct==="bolditalic"&&this.pdf.internal.getFont(Ze[re],"bold",{noFallback:!0,disableWarning:!0})!==void 0)bt=Ze[re],ct="bold";else if(this.pdf.internal.getFont(Ze[re],"normal",{noFallback:!0,disableWarning:!0})!==void 0){bt=Ze[re],ct="normal";break}}if(bt===""){for(var Ae=0;Ae<Ze.length;Ae++)if(xt[Ze[Ae]]){bt=xt[Ze[Ae]];break}}bt=bt===""?"Times":bt,this.pdf.setFont(bt,ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(E){this.ctx.globalCompositeOperation=E}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(E){this.ctx.globalAlpha=E}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(E){this.ctx.lineDashOffset=E,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(E){this.ctx.lineDash=E,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(E){this.ctx.ignoreClearRect=!!E}})};g.prototype.setLineDash=function(C){this.lineDash=C},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){S.call(this,"fill",!1)},g.prototype.stroke=function(){S.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(C,z){if(isNaN(C)||isNaN(z))throw Ft.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new a(C,z));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(C,z)},g.prototype.closePath=function(){var C=new a(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Ot(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){C=new a(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(C.x,C.y)},g.prototype.lineTo=function(C,z){if(isNaN(C)||isNaN(z))throw Ft.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new a(C,z));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},g.prototype.quadraticCurveTo=function(C,z,V,Z){if(isNaN(V)||isNaN(Z)||isNaN(C)||isNaN(z))throw Ft.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new a(V,Z)),ie=this.ctx.transform.applyToPoint(new a(C,z));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:te.x,y:te.y}),this.ctx.lastPoint=new a(te.x,te.y)},g.prototype.bezierCurveTo=function(C,z,V,Z,te,ie){if(isNaN(te)||isNaN(ie)||isNaN(C)||isNaN(z)||isNaN(V)||isNaN(Z))throw Ft.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new a(te,ie)),pe=this.ctx.transform.applyToPoint(new a(C,z)),we=this.ctx.transform.applyToPoint(new a(V,Z));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:we.x,y2:we.y,x:de.x,y:de.y}),this.ctx.lastPoint=new a(de.x,de.y)},g.prototype.arc=function(C,z,V,Z,te,ie){if(isNaN(C)||isNaN(z)||isNaN(V)||isNaN(Z)||isNaN(te))throw Ft.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new a(C,z));C=de.x,z=de.y;var pe=this.ctx.transform.applyToPoint(new a(0,V)),we=this.ctx.transform.applyToPoint(new a(0,0));V=Math.sqrt(Math.pow(pe.x-we.x,2)+Math.pow(pe.y-we.y,2))}Math.abs(te-Z)>=2*Math.PI&&(Z=0,te=2*Math.PI),this.path.push({type:"arc",x:C,y:z,radius:V,startAngle:Z,endAngle:te,counterclockwise:ie})},g.prototype.arcTo=function(C,z,V,Z,te){throw new Error("arcTo not implemented.")},g.prototype.rect=function(C,z,V,Z){if(isNaN(C)||isNaN(z)||isNaN(V)||isNaN(Z))throw Ft.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,z),this.lineTo(C+V,z),this.lineTo(C+V,z+Z),this.lineTo(C,z+Z),this.lineTo(C,z),this.lineTo(C+V,z),this.lineTo(C,z)},g.prototype.fillRect=function(C,z,V,Z){if(isNaN(C)||isNaN(z)||isNaN(V)||isNaN(Z))throw Ft.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,z,V,Z),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},g.prototype.strokeRect=function(C,z,V,Z){if(isNaN(C)||isNaN(z)||isNaN(V)||isNaN(Z))throw Ft.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(C,z,V,Z),this.stroke())},g.prototype.clearRect=function(C,z,V,Z){if(isNaN(C)||isNaN(z)||isNaN(V)||isNaN(Z))throw Ft.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,z,V,Z))},g.prototype.save=function(C){C=typeof C!="boolean"||C;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},g.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(z),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(C){var z,V,Z,te;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))z=0,V=0,Z=0,te=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(ie!==null)z=parseInt(ie[1]),V=parseInt(ie[2]),Z=parseInt(ie[3]),te=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)z=parseInt(ie[1]),V=parseInt(ie[2]),Z=parseInt(ie[3]),te=parseFloat(ie[4]);else{if(te=1,typeof C=="string"&&C.charAt(0)!=="#"){var de=new eb(C);C=de.ok?de.toHex():"#000000"}C.length===4?(z=C.substring(1,2),z+=z,V=C.substring(2,3),V+=V,Z=C.substring(3,4),Z+=Z):(z=C.substring(1,3),V=C.substring(3,5),Z=C.substring(5,7)),z=parseInt(z,16),V=parseInt(V,16),Z=parseInt(Z,16)}}return{r:z,g:V,b:Z,a:te,style:C}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(C,z,V,Z){if(isNaN(z)||isNaN(V)||typeof C!="string")throw Ft.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!p.call(this)){var te=Y(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;F.call(this,{text:C,x:z,y:V,scale:ie,angle:te,align:this.textAlign,maxWidth:Z})}},g.prototype.strokeText=function(C,z,V,Z){if(isNaN(z)||isNaN(V)||typeof C!="string")throw Ft.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){Z=isNaN(Z)?void 0:Z;var te=Y(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;F.call(this,{text:C,x:z,y:V,scale:ie,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:Z})}},g.prototype.measureText=function(C){if(typeof C!="string")throw Ft.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,V=this.pdf.internal.scaleFactor,Z=z.internal.getFontSize(),te=z.getStringUnitWidth(C)*Z/z.internal.scaleFactor;return new function(ie){var de=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:te*=Math.round(96*V/72*1e4)/1e4})},g.prototype.scale=function(C,z){if(isNaN(C)||isNaN(z))throw Ft.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new u(C,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},g.prototype.rotate=function(C){if(isNaN(C))throw Ft.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new u(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},g.prototype.translate=function(C,z){if(isNaN(C)||isNaN(z))throw Ft.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new u(1,0,0,1,C,z);this.ctx.transform=this.ctx.transform.multiply(V)},g.prototype.transform=function(C,z,V,Z,te,ie){if(isNaN(C)||isNaN(z)||isNaN(V)||isNaN(Z)||isNaN(te)||isNaN(ie))throw Ft.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new u(C,z,V,Z,te,ie);this.ctx.transform=this.ctx.transform.multiply(de)},g.prototype.setTransform=function(C,z,V,Z,te,ie){C=isNaN(C)?1:C,z=isNaN(z)?0:z,V=isNaN(V)?0:V,Z=isNaN(Z)?1:Z,te=isNaN(te)?0:te,ie=isNaN(ie)?0:ie,this.ctx.transform=new u(C,z,V,Z,te,ie)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(C,z,V,Z,te,ie,de,pe,we){var Le=this.pdf.getImageProperties(C),Re=1,Oe=1,ze=1,E=1;Z!==void 0&&pe!==void 0&&(ze=pe/Z,E=we/te,Re=Le.width/Z*pe/Z,Oe=Le.height/te*we/te),ie===void 0&&(ie=z,de=V,z=0,V=0),Z!==void 0&&pe===void 0&&(pe=Z,we=te),Z===void 0&&pe===void 0&&(pe=Le.width,we=Le.height);var ve=this.ctx.transform.decompose(),Ce=Y(ve.rotate.shx),Ie=new u,Ne=(Ie=(Ie=(Ie=Ie.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale)).applyToRectangle(new l(ie-z*ze,de-V*E,Z*Re,te*Oe));if(this.autoPaging){for(var Qe,De=k.call(this,Ne),Ze=[],$e=0;$e<De.length;$e+=1)Ze.indexOf(De[$e])===-1&&Ze.push(De[$e]);_(Ze);for(var Lt=Ze[0],yt=Ze[Ze.length-1],ct=Lt;ct<yt+1;ct++){this.pdf.setPage(ct);var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=ct===1?this.posY+this.margin[0]:this.margin[0],re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ae=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=ct===1?0:re+(ct-2)*Ae;if(this.ctx.clip_path.length!==0){var qe=this.path;Qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Qe,this.posX+this.margin[3],-je+xt+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=qe}var et=JSON.parse(JSON.stringify(Ne));et=b([et],this.posX+this.margin[3],-je+xt+this.ctx.prevPageLastElemOffset)[0];var Ke=(ct>Lt||ct<yt)&&j.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Ae,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",et.x,et.y,et.w,et.h,null,null,Ce),Ke&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,Ce)};var k=function(C,z,V){var Z=[];z=z||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":Z.push(Math.floor((C.y+te)/V)+1);break;case"arc":Z.push(Math.floor((C.y+te-C.radius)/V)+1),Z.push(Math.floor((C.y+te+C.radius)/V)+1);break;case"qct":var ie=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);Z.push(Math.floor((ie.y+te)/V)+1),Z.push(Math.floor((ie.y+ie.h+te)/V)+1);break;case"bct":var de=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);Z.push(Math.floor((de.y+te)/V)+1),Z.push(Math.floor((de.y+de.h+te)/V)+1);break;case"rect":Z.push(Math.floor((C.y+te)/V)+1),Z.push(Math.floor((C.y+C.h+te)/V)+1)}for(var pe=0;pe<Z.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<Z[pe];)x.call(this);return Z},x=function(){var C=this.fillStyle,z=this.strokeStyle,V=this.font,Z=this.lineCap,te=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=z,this.font=V,this.lineCap=Z,this.lineWidth=te,this.lineJoin=ie},b=function(C,z,V){for(var Z=0;Z<C.length;Z++)switch(C[Z].type){case"bct":C[Z].x2+=z,C[Z].y2+=V;case"qct":C[Z].x1+=z,C[Z].y1+=V;default:C[Z].x+=z,C[Z].y+=V}return C},_=function(C){return C.sort(function(z,V){return z-V})},S=function(C,z){var V=this.fillStyle,Z=this.strokeStyle,te=this.lineCap,ie=this.lineWidth,de=Math.abs(ie*this.ctx.transform.scaleX),pe=this.lineJoin;if(this.autoPaging){for(var we,Le,Re=JSON.parse(JSON.stringify(this.path)),Oe=JSON.parse(JSON.stringify(this.path)),ze=[],E=0;E<Oe.length;E++)if(Oe[E].x!==void 0)for(var ve=k.call(this,Oe[E]),Ce=0;Ce<ve.length;Ce+=1)ze.indexOf(ve[Ce])===-1&&ze.push(ve[Ce]);for(var Ie=0;Ie<ze.length;Ie++)for(;this.pdf.internal.getNumberOfPages()<ze[Ie];)x.call(this);_(ze);for(var Ne=ze[0],Qe=ze[ze.length-1],De=Ne;De<Qe+1;De++){this.pdf.setPage(De),this.fillStyle=V,this.strokeStyle=Z,this.lineCap=te,this.lineWidth=de,this.lineJoin=pe;var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=De===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=De===1?0:Lt+(De-2)*yt;if(this.ctx.clip_path.length!==0){var bt=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(we,this.posX+this.margin[3],-ct+$e+this.ctx.prevPageLastElemOffset),I.call(this,C,!0),this.path=bt}if(Le=JSON.parse(JSON.stringify(Re)),this.path=b(Le,this.posX+this.margin[3],-ct+$e+this.ctx.prevPageLastElemOffset),z===!1||De===0){var xt=(De>Ne||De<Qe)&&j.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,yt,null).clip().discardPath()),I.call(this,C,z),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}this.path=Re}else this.lineWidth=de,I.call(this,C,z),this.lineWidth=ie},I=function(C,z){if((C!=="stroke"||z||!N.call(this))&&(C==="stroke"||z||!p.call(this))){for(var V,Z,te=[],ie=this.path,de=0;de<ie.length;de++){var pe=ie[de];switch(pe.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:pe,deltas:[],abs:[]});break;case"lt":var we=te.length;if(ie[de-1]&&!isNaN(ie[de-1].x)&&(V=[pe.x-ie[de-1].x,pe.y-ie[de-1].y],we>0)){for(;we>=0;we--)if(te[we-1].close!==!0&&te[we-1].begin!==!0){te[we-1].deltas.push(V),te[we-1].abs.push(pe);break}}break;case"bct":V=[pe.x1-ie[de-1].x,pe.y1-ie[de-1].y,pe.x2-ie[de-1].x,pe.y2-ie[de-1].y,pe.x-ie[de-1].x,pe.y-ie[de-1].y],te[te.length-1].deltas.push(V);break;case"qct":var Le=ie[de-1].x+2/3*(pe.x1-ie[de-1].x),Re=ie[de-1].y+2/3*(pe.y1-ie[de-1].y),Oe=pe.x+2/3*(pe.x1-pe.x),ze=pe.y+2/3*(pe.y1-pe.y),E=pe.x,ve=pe.y;V=[Le-ie[de-1].x,Re-ie[de-1].y,Oe-ie[de-1].x,ze-ie[de-1].y,E-ie[de-1].x,ve-ie[de-1].y],te[te.length-1].deltas.push(V);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(pe)}}Z=z?null:C==="stroke"?"stroke":"fill";for(var Ce=!1,Ie=0;Ie<te.length;Ie++)if(te[Ie].arc)for(var Ne=te[Ie].abs,Qe=0;Qe<Ne.length;Qe++){var De=Ne[Qe];De.type==="arc"?q.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,z,!Ce):K.call(this,De.x,De.y),Ce=!0}else if(te[Ie].close===!0)this.pdf.internal.out("h"),Ce=!1;else if(te[Ie].begin!==!0){var Ze=te[Ie].start.x,$e=te[Ie].start.y;J.call(this,te[Ie].deltas,Ze,$e),Ce=!0}Z&&T.call(this,Z),z&&H.call(this)}},W=function(C){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-V;case"top":return C+z-V;case"hanging":return C+z-2*V;case"middle":return C+z/2-V;default:return C}},G=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(z,V){this.colorStops.push([z,V])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(C,z,V,Z,te,ie,de,pe,we){for(var Le=fe.call(this,V,Z,te,ie),Re=0;Re<Le.length;Re++){var Oe=Le[Re];Re===0&&(we?P.call(this,Oe.x1+C,Oe.y1+z):K.call(this,Oe.x1+C,Oe.y1+z)),ce.call(this,C,z,Oe.x2,Oe.y2,Oe.x3,Oe.y3,Oe.x4,Oe.y4)}pe?H.call(this):T.call(this,de)},T=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(C,z){this.pdf.internal.out(r(C)+" "+n(z)+" m")},F=function(C){var z;switch(C.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var V,Z,te,ie=this.pdf.getTextDimensions(C.text),de=W.call(this,C.y),pe=G.call(this,de)-ie.h,we=this.ctx.transform.applyToPoint(new a(C.x,de));if(this.autoPaging){var Le=this.ctx.transform.decompose(),Re=new u;Re=(Re=(Re=Re.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale);for(var Oe=this.ctx.transform.applyToRectangle(new l(C.x,de,ie.w,ie.h)),ze=Re.applyToRectangle(new l(C.x,pe,ie.w,ie.h)),E=k.call(this,ze),ve=[],Ce=0;Ce<E.length;Ce+=1)ve.indexOf(E[Ce])===-1&&ve.push(E[Ce]);_(ve);for(var Ie=ve[0],Ne=ve[ve.length-1],Qe=Ie;Qe<Ne+1;Qe++){this.pdf.setPage(Qe);var De=Qe===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[2],Lt=$e-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],ct=yt-this.margin[3],bt=Qe===1?0:Ze+(Qe-2)*Lt;if(this.ctx.clip_path.length!==0){var xt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(V,this.posX+this.margin[3],-1*bt+De),I.call(this,"fill",!0),this.path=xt}var re=b([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-bt+De+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*C.scale),te=this.lineWidth,this.lineWidth=te*C.scale);var Ae=this.autoPaging!=="text";if(Ae||re.y+re.h<=$e){if(Ae||re.y>=De&&re.x<=yt){var je=Ae?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||yt-re.x)[0],qe=b([JSON.parse(JSON.stringify(Oe))],this.posX+this.margin[3],-bt+De+this.ctx.prevPageLastElemOffset)[0],et=Ae&&(Qe>Ie||Qe<Ne)&&j.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Lt,null).clip().discardPath()),this.pdf.text(je,qe.x,qe.y,{angle:C.angle,align:z,renderingMode:C.renderingMode}),et&&this.pdf.restoreGraphicsState()}}else re.y<$e&&(this.ctx.prevPageLastElemOffset+=$e-re.y);C.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=te)}}else C.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*C.scale),te=this.lineWidth,this.lineWidth=te*C.scale),this.pdf.text(C.text,we.x+this.posX,we.y+this.posY,{angle:C.angle,align:z,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=te)},K=function(C,z,V,Z){V=V||0,Z=Z||0,this.pdf.internal.out(r(C+V)+" "+n(z+Z)+" l")},J=function(C,z,V){return this.pdf.lines(C,z,V,null,null)},ce=function(C,z,V,Z,te,ie,de,pe){this.pdf.internal.out([t(s(V+C)),t(i(Z+z)),t(s(te+C)),t(i(ie+z)),t(s(de+C)),t(i(pe+z)),"c"].join(" "))},fe=function(C,z,V,Z){for(var te=2*Math.PI,ie=Math.PI/2;z>V;)z-=te;var de=Math.abs(V-z);de<te&&Z&&(de=te-de);for(var pe=[],we=Z?-1:1,Le=z;de>1e-5;){var Re=Le+we*Math.min(de,ie);pe.push(he.call(this,C,Le,Re)),de-=Math.abs(Re-Le),Le=Re}return pe},he=function(C,z,V){var Z=(V-z)/2,te=C*Math.cos(Z),ie=C*Math.sin(Z),de=te,pe=-ie,we=de*de+pe*pe,Le=we+de*te+pe*ie,Re=4/3*(Math.sqrt(2*we*Le)-Le)/(de*ie-pe*te),Oe=de-Re*pe,ze=pe+Re*de,E=Oe,ve=-ze,Ce=Z+z,Ie=Math.cos(Ce),Ne=Math.sin(Ce);return{x1:C*Math.cos(z),y1:C*Math.sin(z),x2:Oe*Ie-ze*Ne,y2:Oe*Ne+ze*Ie,x3:E*Ie-ve*Ne,y3:E*Ne+ve*Ie,x4:C*Math.cos(V),y4:C*Math.sin(V)}},Y=function(C){return 180*C/Math.PI},ae=function(C,z,V,Z,te,ie){var de=C+.5*(V-C),pe=z+.5*(Z-z),we=te+.5*(V-te),Le=ie+.5*(Z-ie),Re=Math.min(C,te,de,we),Oe=Math.max(C,te,de,we),ze=Math.min(z,ie,pe,Le),E=Math.max(z,ie,pe,Le);return new l(Re,ze,Oe-Re,E-ze)},ge=function(C,z,V,Z,te,ie,de,pe){var we,Le,Re,Oe,ze,E,ve,Ce,Ie,Ne,Qe,De,Ze,$e,Lt=V-C,yt=Z-z,ct=te-V,bt=ie-Z,xt=de-te,re=pe-ie;for(Le=0;Le<41;Le++)Ie=(ve=(Re=C+(we=Le/40)*Lt)+we*((ze=V+we*ct)-Re))+we*(ze+we*(te+we*xt-ze)-ve),Ne=(Ce=(Oe=z+we*yt)+we*((E=Z+we*bt)-Oe))+we*(E+we*(ie+we*re-E)-Ce),Le==0?(Qe=Ie,De=Ne,Ze=Ie,$e=Ne):(Qe=Math.min(Qe,Ie),De=Math.min(De,Ne),Ze=Math.max(Ze,Ie),$e=Math.max($e,Ne));return new l(Math.round(Qe),Math.round(De),Math.round(Ze-Qe),Math.round($e-De))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,z,V=(C=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:z}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Xe.API),function(e){var t=function(a){var l,u,d,f,g,v,p,N,j,k;for(u=[],d=0,f=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;f>d;d+=4)(g=(a.charCodeAt(d)<<24)+(a.charCodeAt(d+1)<<16)+(a.charCodeAt(d+2)<<8)+a.charCodeAt(d+3))!==0?(v=(g=((g=((g=((g=(g-(k=g%85))/85)-(j=g%85))/85)-(N=g%85))/85)-(p=g%85))/85)%85,u.push(v+33,p+33,N+33,j+33,k+33)):u.push(122);return function(x,b){for(var _=b;_>0;_--)x.pop()}(u,l.length),String.fromCharCode.apply(String,u)+"~>"},r=function(a){var l,u,d,f,g,v=String,p="length",N=255,j="charCodeAt",k="slice",x="replace";for(a[k](-2),a=a[k](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),d=[],f=0,g=(a+=l="uuuuu"[k](a[p]%5||5))[p];g>f;f+=5)u=52200625*(a[j](f)-33)+614125*(a[j](f+1)-33)+7225*(a[j](f+2)-33)+85*(a[j](f+3)-33)+(a[j](f+4)-33),d.push(N&u>>24,N&u>>16,N&u>>8,N&u);return function(b,_){for(var S=_;S>0;S--)b.pop()}(d,l[p]),v.fromCharCode.apply(v,d)},n=function(a){return a.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var u="",d=0;d<a.length;d+=2)u+=String.fromCharCode("0x"+(a[d]+a[d+1]));return u},i=function(a){for(var l=new Uint8Array(a.length),u=a.length;u--;)l[u]=a.charCodeAt(u);return(l=Tp(l)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};e.processDataByFilters=function(a,l){var u=0,d=a||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}}(Xe.API),function(e){e.loadFile=function(t,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(u,d,f){var g=new XMLHttpRequest,v=0,p=function(N){var j=N.length,k=[],x=String.fromCharCode;for(v=0;v<j;v+=1)k.push(x(255&N.charCodeAt(v)));return k.join("")};if(g.open("GET",u,!d),g.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(g.onload=function(){g.status===200?f(p(this.responseText)):f(void 0)}),g.send(null),d&&g.status===200)return p(g.responseText)}(s,i,a)}catch{}return l}(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(Xe.API),function(e){function t(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):r0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):r0(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var u=Ot(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},s=function(l,u){var d=document.createElement(l);for(var f in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[f]=u.style[f];return d},i=function l(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)d!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||f.appendChild(l(g,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f},a=function l(u){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),d);return(f=f.setProgress(1,l,1,[l])).set(u)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,u){return l.__proto__=u||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,u){return this.then(function(){switch(u=u||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),u){case"string":return this.then(r).then(function(d){return this.set({src:s("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(u){var d=this.opt.jsPDF,f=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var N=f[p],j=N.src.find(function(k){return k.format==="truetype"});j&&d.addFont(j.url,N.ref.name,N.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,d.context2d.save(!0),u(this.prop.container,v)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},a.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(n(l)!=="object")return this;var u=Object.keys(l||{}).map(function(d){if(d in a.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(u)})},a.prototype.get=function(l,u){return this.then(function(){var d=l in a.template.prop?this.prop[l]:this.opt[l];return u?u(d):d})},a.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function u(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(l=l||Xe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,u,d,f){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,u,d,f){return this.setProgress(l?this.progress.val+l:null,u||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(l,u){var d=this;return this.thenCore(l,u,function(f,g){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return d.updateProgress(null,f),v}).then(f,g).then(function(v){return d.updateProgress(1),v})})},a.prototype.thenCore=function(l,u,d){d=d||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),u&&(u=u.bind(f));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:a.convert(Object.assign({},f),Promise.prototype),v=d.call(g,l,u);return a.convert(v,f.__proto__)},a.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},a.prototype.thenList=function(l){var u=this;return l.forEach(function(d){u=u.thenCore(d)}),u},a.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return a.convert(u,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Xe.getPageSize=function(l,u,d){if(Ot(l)==="object"){var f=l;l=f.orientation,u=f.unit||u,d=f.format||d}u=u||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var g,v=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+u}var N,j=0,k=0;if(p.hasOwnProperty(v))j=p[v][1]/g,k=p[v][0]/g;else try{j=d[1],k=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",k>j&&(N=k,k=j,j=N);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",j>k&&(N=k,k=j,j=N)}return{width:k,height:j,unit:u,k:g,orientation:l}},e.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(b0):null;var d=new a(u);return u.worker?d:d.from(l).doCallback()}}(Xe.API),Xe.API.addJS=function(e){var t,r,n=function(s){for(var i="",a=0;a<s.length;a++){var l=s[a];if(l==="("||l===")"){for(var u=0,d=a-1;d>=0&&s[d]==="\\";d--)u++;i+=u%2==0?"\\"+l:l}else i+=l}return i}(e);return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],l=n.exec(a);if(l!=null){var u=l[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(i=0;i<d;i++){var g=r.internal.newObject();f.push(g);var v=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var u=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Xe.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,a,l){var u,d=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=function(g){for(var v,p=256*g.charCodeAt(4)+g.charCodeAt(5),N=g.length,j={width:0,height:0,numcomponents:1},k=4;k<N;k+=2){if(k+=p,t.indexOf(g.charCodeAt(k+1))!==-1){v=256*g.charCodeAt(k+5)+g.charCodeAt(k+6),j={width:256*g.charCodeAt(k+7)+g.charCodeAt(k+8),height:v,numcomponents:g.charCodeAt(k+9)};break}p=256*g.charCodeAt(k+2)+g.charCodeAt(k+3)}return j}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:s}}return f}}(Xe.API),Xe.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=HS(e,{checkCrc:!0}),a=i.width,l=i.height,u=i.channels,d=i.palette,f=i.depth;s=d&&u===1?function(q){for(var T=q.width,H=q.height,P=q.data,F=q.palette,K=q.depth,J=!1,ce=[],fe=[],he=void 0,Y=!1,ae=0,ge=0;ge<F.length;ge++){var me=k2(F[ge],4),C=me[0],z=me[1],V=me[2],Z=me[3];ce.push(C,z,V),Z!=null&&(Z===0?(ae++,fe.length<1&&fe.push(ge)):Z<255&&(Y=!0))}if(Y||ae>1){J=!0,fe=void 0;var te=T*H;he=new Uint8Array(te);for(var ie=new DataView(P.buffer),de=0;de<te;de++){var pe=_0(ie,de,K),we=k2(F[pe],4)[3];he[de]=we}}else ae===0&&(fe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:P,alphaBytes:he,needSMask:J,palette:ce,mask:fe}}(i):u===2||u===4?function(q){for(var T=q.data,H=q.width,P=q.height,F=q.channels,K=q.depth,J=F===2?"DeviceGray":"DeviceRGB",ce=F-1,fe=H*P,he=ce,Y=fe*he,ae=1*fe,ge=Math.ceil(Y*K/8),me=Math.ceil(ae*K/8),C=new Uint8Array(ge),z=new Uint8Array(me),V=new DataView(T.buffer),Z=new DataView(C.buffer),te=new DataView(z.buffer),ie=!1,de=0;de<fe;de++){for(var pe=de*F,we=0;we<he;we++)Ev(Z,_0(V,pe+we,K),de*he+we,K);var Le=_0(V,pe+he,K);Le<(1<<K)-1&&(ie=!0),Ev(te,Le,1*de,K)}return{colorSpace:J,colorsPerPixel:ce,sMaskBitsPerComponent:ie?K:void 0,colorBytes:C,alphaBytes:z,needSMask:ie}}(i):function(q){var T=q.data,H=q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(P){for(var F=P.length,K=new Uint8Array(2*F),J=new DataView(K.buffer,K.byteOffset,K.byteLength),ce=0;ce<F;ce++)J.setUint16(2*ce,P[ce],!1);return K}(T):T,needSMask:!1}}(i);var g,v,p,N=s,j=N.colorSpace,k=N.colorsPerPixel,x=N.sMaskBitsPerComponent,b=N.colorBytes,_=N.alphaBytes,S=N.needSMask,I=N.palette,W=N.mask,G=null;return n!==Xe.API.image_compression.NONE&&typeof Tp=="function"?(G=function(q){var T;switch(q){case Xe.API.image_compression.FAST:T=11;break;case Xe.API.image_compression.MEDIUM:T=13;break;case Xe.API.image_compression.SLOW:T=14;break;default:T=12}return T}(n),g=this.decode.FLATE_DECODE,v="/Predictor ".concat(G," /Colors ").concat(k," /BitsPerComponent ").concat(f," /Columns ").concat(a),e=jv(b,Math.ceil(a*k*f/8),k,f,n),S&&(p=jv(_,Math.ceil(a*x/8),1,x,n))):(g=void 0,v=void 0,e=b,S&&(p=_)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:g,decodeParameters:v,transparency:W,palette:I,sMask:p,predictor:G,width:a,height:l,bitsPerComponent:f,sMaskBitsPerComponent:x,colorSpace:j}}},function(e){e.processGIF89A=function(t,r,n,s){var i=new dk(t),a=i.width,l=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:a,height:l},f=new N0(100).encode(d,100);return e.processJPEG.call(this,f,r,n,s)},e.processGIF87A=e.processGIF89A}(Xe.API),ps.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ps.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(r){Ft.log("bit decode error:"+r)}},ps.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var u=this.palette[i>>7-l&1];this.data[a+4*l]=u.blue,this.data[a+4*l+1]=u.green,this.data[a+4*l+2]=u.red,this.data[a+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ps.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,l=i>>4,u=15&i,d=this.palette[l];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*s+1>=this.width)break;d=this.palette[u],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},ps.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ps.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,u=(i>>10&t)/t*255|0,d=i>>15?255:0,f=n*this.width*4+4*s;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=d}this.pos+=e}},ps.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,u=(a>>5&r)/r*255|0,d=(a>>11)/t*255|0,f=s*this.width*4+4*i;this.data[f]=d,this.data[f+1]=u,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},ps.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},ps.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=a}},ps.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new ps(t,!1),a=i.width,l=i.height,u={data:i.getData(),width:a,height:l},d=new N0(100).encode(u,100);return e.processJPEG.call(this,d,r,n,s)}}(Xe.API),Pv.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new Pv(t),a=i.width,l=i.height,u={data:i.getData(),width:a,height:l},d=new N0(100).encode(u,100);return e.processJPEG.call(this,d,r,n,s)}}(Xe.API),Xe.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),l=0,u=0,d=0;d<s;d+=4){var f=n[d],g=n[d+1],v=n[d+2],p=n[d+3];i[l++]=f,i[l++]=g,i[l++]=v,a[u++]=p}var N=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:N,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Xe.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ro=Xe.API,xd=Ro.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,u=l.fof?l.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,f=d.fof?d.fof:1,g=t.doKerning!==!1,v=0,p=e.length,N=0,j=l[0]||u,k=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?k.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(v=g&&Ot(d[n])==="object"&&!isNaN(parseInt(d[n][N],10))?d[n][N]/f:0,k.push((l[n]||j)/u+v)),N=n;return k},wv=Ro.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Ro.processArabic&&(e=Ro.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:xd.apply(this,arguments).reduce(function(i,a){return i+a},0)},_v=function(e,t,r,n){for(var s=[],i=0,a=e.length,l=0;i!==a&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var u=i;for(l=0;i!==a;)l+t[i]>n&&(s.push(e.slice(u,i)),l=0,u=i),l+=t[i],i++;return u!==i&&s.push(e.slice(u,i)),s},Nv=function(e,t,r){r||(r={});var n,s,i,a,l,u,d,f=[],g=[f],v=r.textIndent||0,p=0,N=0,j=e.split(" "),k=xd.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?j[0].length+2:r.lineIndent||0){var x=Array(u).join(" "),b=[];j.map(function(S){(S=S.split(/\s*\n/)).length>1?b=b.concat(S.map(function(I,W){return(W&&I.length?`
`:"")+I})):b.push(S[0])}),j=b,u=wv.apply(this,[x,r])}for(i=0,a=j.length;i<a;i++){var _=0;if(n=j[i],u&&n[0]==`
`&&(n=n.substr(1),_=1),v+p+(N=(s=xd.apply(this,[n,r])).reduce(function(S,I){return S+I},0))>t||_){if(N>t){for(l=_v.apply(this,[n,s,t-(v+p),t]),f.push(l.shift()),f=[l.pop()];l.length;)g.push([l.shift()]);N=s.slice(n.length-(f[0]?f[0].length:0)).reduce(function(S,I){return S+I},0)}else f=[n];g.push(f),v=N+u,p=k}else f.push(n),v+=p+N,p=k}return d=u?function(S,I){return(I?x:"")+S.join(" ")}:function(S){return S.join(" ")},g.map(d)},Ro.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var g=this.internal.getFont(f.fontName,f.fontStyle),v="Unicode";return g.metadata[v]?{widths:g.metadata[v].widths||{0:1},kerning:g.metadata[v].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,u,d=[];for(l=0,u=n.length;l<u;l++)d=d.concat(Nv.apply(this,[n[l],a,i]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=t[i],s[t[i]]=r[i];var a=function(v){return"0x"+parseInt(v,10).toString(16)},l=e.__fontmetrics__.compress=function(v){var p,N,j,k,x=["{"];for(var b in v){if(p=v[b],isNaN(parseInt(b,10))?N="'"+b+"'":(b=parseInt(b,10),N=(N=a(b).slice(2)).slice(0,-1)+s[N.slice(-1)]),typeof p=="number")p<0?(j=a(p).slice(3),k="-"):(j=a(p).slice(2),k=""),j=k+j.slice(0,-1)+s[j.slice(-1)];else{if(Ot(p)!=="object")throw new Error("Don't know what to do with value type "+Ot(p)+".");j=l(p)}x.push(N+j)}return x.push("}"),x.join("")},u=e.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,N,j,k,x={},b=1,_=x,S=[],I="",W="",G=v.length-1,q=1;q<G;q+=1)(k=v[q])=="'"?p?(j=p.join(""),p=void 0):p=[]:p?p.push(k):k=="{"?(S.push([_,j]),_={},j=void 0):k=="}"?((N=S.pop())[0][N[1]]=_,j=void 0,_=N[0]):k=="-"?b=-1:j===void 0?n.hasOwnProperty(k)?(I+=n[k],j=parseInt(I,16)*b,b=1,I=""):I+=k:n.hasOwnProperty(k)?(W+=n[k],_[j]=parseInt(W,16)*b,b=1,j=void 0,W=""):W+=k;return x},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},g={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(v){var p=v.font,N=g.Unicode[p.postScriptName];N&&(p.metadata.Unicode={},p.metadata.Unicode.widths=N.widths,p.metadata.Unicode.kerning=N.kerning);var j=f.Unicode[p.postScriptName];j&&(p.metadata.Unicode.encoding=j,p.encoding=j.codePages[0])}])}(Xe.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Od(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(Xe),Xe.API.addSvgAsImage=function(e,t,r,n,s,i,a,l){if(isNaN(t)||isNaN(r))throw Ft.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw Ft.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=s;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(lt.canvg?Promise.resolve(lt.canvg):r0(()=>import("./index.es-Do9FQErw.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(d,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(f)}).then(function(){g.addImage(u.toDataURL("image/jpeg",1),t,r,n,s,a,l)})},Xe.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Xe.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),u=[],d=0,f=0,g=0;function v(N,j){var k,x=!1;for(k=0;k<N.length;k+=1)N[k]===j&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(g=0;g<p;g+=1)r[l[g]].value=r[l[g]].defaultValue,r[l[g]].explicitSet=!1}if(Ot(e)==="object"){for(s in e)if(i=e[s],v(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&v(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")u.push(String(i[d]-1));else if(i[d].length>1){for(f=0;f<i[d].length;f+=1)typeof i[d][f]!="number"&&(n=!1);n===!0&&u.push([i[d][0]-1,i[d][1]-1].join(" "))}r[s].value="["+u.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,j=[];for(N in r)r[N].explicitSet===!0&&(r[N].type==="name"?j.push("/"+N+" /"+r[N].value):j.push("/"+N+" "+r[N].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},Xe.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",fk),this.internal.events.subscribe("postPutResources",hk)),this},function(e){var t=e.API,r=t.pdfEscape16=function(i,a){for(var l,u=a.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],g=0,v=i.length;g<v;++g){if(l=a.metadata.characterToGlyph(i.charCodeAt(g)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(g),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},n=function(i){var a,l,u,d,f,g,v;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],g=0,v=(l=Object.keys(i).sort(function(p,N){return p-N})).length;g<v;g++)a=l[g],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(d=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+d+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var l=a.font,u=a.out,d=a.newObject,f=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,v=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",N=0;N<v.length;N++)p+=String.fromCharCode(v[N]);var j=d();f({data:p,addLength1:!0,objectId:j}),u("endobj");var k=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:k}),u("endobj");var x=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Mo(l.fontName)),u("/FontFile2 "+j+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var b=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+Mo(l.fontName)),u("/FontDescriptor "+x+" 0 R"),u("/W "+e.API.PDFObject.convert(g)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+k+" 0 R"),u("/BaseFont /"+Mo(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+b+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var l=a.font,u=a.out,d=a.newObject,f=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,v="",p=0;p<g.length;p++)v+=String.fromCharCode(g[p]);var N=d();f({data:v,addLength1:!0,objectId:N}),u("endobj");var j=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:j}),u("endobj");var k=d();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+N+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+Mo(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=d();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+Mo(l.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,l=i.text||"",u=i.x,d=i.y,f=i.options||{},g=i.mutex||{},v=g.pdfEscape,p=g.activeFontKey,N=g.fonts,j=p,k="",x=0,b="",_=N[j].encoding;if(N[j].encoding!=="Identity-H")return{text:l,x:u,y:d,options:f,mutex:g};for(b=l,j=p,Array.isArray(l)&&(b=l[0]),x=0;x<b.length;x+=1)N[j].metadata.hasOwnProperty("cmap")&&(a=N[j].metadata.cmap.unicode.codeMap[b[x].charCodeAt(0)]),a||b[x].charCodeAt(0)<256&&N[j].metadata.hasOwnProperty("Unicode")?k+=b[x]:k+="";var S="";return parseInt(j.slice(1))<14||_==="WinAnsiEncoding"?S=v(k,j).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(S=r(k,N[j])),g.isHex=!0,{text:S,x:u,y:d,options:f,mutex:g}};t.events.push(["postProcessText",function(i){var a=i.text||"",l=[],u={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?l.push([s(Object.assign({},u,{text:a[d][0]})).text,a[d][1],a[d][2]]):l.push(s(Object.assign({},u,{text:a[d]})).text);i.text=l}else i.text=s(Object.assign({},u,{text:a})).text}])}(Xe),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Xe.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,a,l,u,d,f,g=t,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,_=0;this.__bidiEngine__={};var S=function(P){var F=P.charCodeAt(),K=F>>8,J=j[K];return J!==void 0?g[256*J+(255&F)]:K===252||K===253?"AL":x.test(K)?"L":K===8?"R":"N"},I=function(P){for(var F,K=0;K<P.length;K++){if((F=S(P.charAt(K)))==="L")return!1;if(F==="R")return!0}return!1},W=function(P,F,K,J){var ce,fe,he,Y,ae=F[J];switch(ae){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(ae="AN");break;case"AL":b=!0,ae="R";break;case"WS":case"BN":ae="N";break;case"CS":J<1||J+1>=F.length||(ce=K[J-1])!=="EN"&&ce!=="AN"||(fe=F[J+1])!=="EN"&&fe!=="AN"?ae="N":b&&(fe="AN"),ae=fe===ce?fe:"N";break;case"ES":ae=(ce=J>0?K[J-1]:"B")==="EN"&&J+1<F.length&&F[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&K[J-1]==="EN"){ae="EN";break}if(b){ae="N";break}for(he=J+1,Y=F.length;he<Y&&F[he]==="ET";)he++;ae=he<Y&&F[he]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(Y=F.length,he=J+1;he<Y&&F[he]==="NSM";)he++;if(he<Y){var ge=P[J],me=ge>=1425&&ge<=2303||ge===64286;if(ce=F[he],me&&(ce==="R"||ce==="AL")){ae="R";break}}}ae=J<1||(ce=F[J-1])==="B"?"N":K[J-1];break;case"B":b=!1,s=!0,ae=_;break;case"S":i=!0,ae="N"}return ae},G=function(P,F,K){var J=P.split("");return K&&q(J,K,{hiLevel:_}),J.reverse(),F&&F.reverse(),J.join("")},q=function(P,F,K){var J,ce,fe,he,Y,ae=-1,ge=P.length,me=0,C=[],z=_?p:v,V=[];for(b=!1,s=!1,i=!1,ce=0;ce<ge;ce++)V[ce]=S(P[ce]);for(fe=0;fe<ge;fe++){if(Y=me,C[fe]=W(P,V,C,fe),J=240&(me=z[Y][N[C[fe]]]),me&=15,F[fe]=he=z[me][5],J>0)if(J===16){for(ce=ae;ce<fe;ce++)F[ce]=1;ae=-1}else ae=-1;if(z[me][6])ae===-1&&(ae=fe);else if(ae>-1){for(ce=ae;ce<fe;ce++)F[ce]=he;ae=-1}V[fe]==="B"&&(F[fe]=0),K.hiLevel|=he}i&&function(Z,te,ie){for(var de=0;de<ie;de++)if(Z[de]==="S"){te[de]=_;for(var pe=de-1;pe>=0&&Z[pe]==="WS";pe--)te[pe]=_}}(V,F,ge)},T=function(P,F,K,J,ce){if(!(ce.hiLevel<P)){if(P===1&&_===1&&!s)return F.reverse(),void(K&&K.reverse());for(var fe,he,Y,ae,ge=F.length,me=0;me<ge;){if(J[me]>=P){for(Y=me+1;Y<ge&&J[Y]>=P;)Y++;for(ae=me,he=Y-1;ae<he;ae++,he--)fe=F[ae],F[ae]=F[he],F[he]=fe,K&&(fe=K[ae],K[ae]=K[he],K[he]=fe);me=Y}me++}}},H=function(P,F,K){var J=P.split(""),ce={hiLevel:_};return K||(K=[]),q(J,K,ce),function(fe,he,Y){if(Y.hiLevel!==0&&f)for(var ae,ge=0;ge<fe.length;ge++)he[ge]===1&&(ae=k.indexOf(fe[ge]))>=0&&(fe[ge]=k[ae+1])}(J,K,ce),T(2,J,F,K,ce),T(1,J,F,K,ce),J.join("")};return this.__bidiEngine__.doBidiReorder=function(P,F,K){if(function(ce,fe){if(fe)for(var he=0;he<ce.length;he++)fe[he]=he;l===void 0&&(l=I(ce)),d===void 0&&(d=I(ce))}(P,F),a||!u||d)if(a&&u&&l^d)_=l?1:0,P=G(P,F,K);else if(!a&&u&&d)_=l?1:0,P=H(P,F,K),P=G(P,F);else if(!a||l||u||d){if(a&&!u&&l^d)P=G(P,F),l?(_=0,P=H(P,F,K)):(_=1,P=H(P,F,K),P=G(P,F));else if(a&&l&&!u&&d)_=1,P=H(P,F,K),P=G(P,F);else if(!a&&!u&&l^d){var J=f;l?(_=1,P=H(P,F,K),_=0,f=!1,P=H(P,F,K),f=J):(_=0,P=H(P,F,K),P=G(P,F),_=1,f=!1,P=H(P,F,K),f=J,P=G(P,F))}}else _=0,P=H(P,F,K);else _=l?1:0,P=H(P,F,K);return P},this.__bidiEngine__.setOptions=function(P){P&&(a=P.isInputVisual,u=P.isOutputVisual,l=P.isInputRtl,d=P.isOutputRtl,f=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(a=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?a.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):a.push([r.doBidiReorder(s[l])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Xe),Xe.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new da(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Lk(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new pk(this.contents),this.head=new gk(this),this.name=new wk(this),this.cmap=new db(this),this.toUnicode={},this.hhea=new vk(this),this.maxp=new _k(this),this.hmtx=new Nk(this),this.post=new yk(this),this.os2=new xk(this),this.loca=new Ak(this),this.glyf=new jk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,u,d;for(d=[],a=0,l=(u=this.bbox).length;a<l;a++)t=u[a],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,a,l;for(a=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ks,da=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,a,l,u;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^u)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*l+u},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),pk=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,a,l,u,d,f,g,v,p,N,j;for(j in p=Object.keys(r).length,u=Math.log(2),g=16*Math.floor(Math.log(p)/u),a=Math.floor(g/u),f=16*p-g,(s=new da).writeInt(this.scalarType),s.writeShort(p),s.writeShort(g),s.writeShort(a),s.writeShort(f),i=16*p,d=s.pos+i,l=null,N=[],r)for(v=r[j],s.writeString(j),s.writeInt(e(v)),s.writeInt(d),s.writeInt(v.length),N=N.concat(v),j==="head"&&(l=d),d+=v.length;d%4;)N.push(0),d++;return s.write(N),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,a;for(r=hb.call(r);r.length%4;)r.push(0);for(i=new da(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),mk={}.hasOwnProperty,Vs=function(e,t){for(var r in t)mk.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ks=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var gk=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vs(e,ks),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new da).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),Rv=function(){function e(t,r){var n,s,i,a,l,u,d,f,g,v,p,N,j,k,x,b,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),g=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(p=t.readUInt16(),v=p/2,t.pos+=6,i=function(){var S,I;for(I=[],u=S=0;0<=v?S<v:S>v;u=0<=v?++S:--S)I.push(t.readUInt16());return I}(),t.pos+=2,j=function(){var S,I;for(I=[],u=S=0;0<=v?S<v:S>v;u=0<=v?++S:--S)I.push(t.readUInt16());return I}(),d=function(){var S,I;for(I=[],u=S=0;0<=v?S<v:S>v;u=0<=v?++S:--S)I.push(t.readUInt16());return I}(),f=function(){var S,I;for(I=[],u=S=0;0<=v?S<v:S>v;u=0<=v?++S:--S)I.push(t.readUInt16());return I}(),s=(this.length-t.pos+this.offset)/2,l=function(){var S,I;for(I=[],u=S=0;0<=s?S<s:S>s;u=0<=s?++S:--S)I.push(t.readUInt16());return I}(),u=x=0,_=i.length;x<_;u=++x)for(k=i[u],n=b=N=j[u];N<=k?b<=k:b>=k;n=N<=k?++b:--b)f[u]===0?a=n+d[u]:(a=l[f[u]/2+(n-N)-(v-u)]||0)!==0&&(a+=d[u]),this.codeMap[n]=65535&a}t.pos=g}return e.encode=function(t,r){var n,s,i,a,l,u,d,f,g,v,p,N,j,k,x,b,_,S,I,W,G,q,T,H,P,F,K,J,ce,fe,he,Y,ae,ge,me,C,z,V,Z,te,ie,de,pe,we,Le,Re;switch(J=new da,a=Object.keys(t).sort(function(Oe,ze){return Oe-ze}),r){case"macroman":for(j=0,k=function(){var Oe=[];for(N=0;N<256;++N)Oe.push(0);return Oe}(),b={0:0},i={},ce=0,ae=a.length;ce<ae;ce++)b[pe=t[s=a[ce]]]==null&&(b[pe]=++j),i[s]={old:t[s],new:b[t[s]]},k[s]=b[t[s]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(k),{charMap:i,subtable:J.data,maxGlyphID:j+1};case"unicode":for(F=[],g=[],_=0,b={},n={},x=d=null,fe=0,ge=a.length;fe<ge;fe++)b[I=t[s=a[fe]]]==null&&(b[I]=++_),n[s]={old:I,new:b[I]},l=b[I]-s,x!=null&&l===d||(x&&g.push(x),F.push(s),d=l),x=s;for(x&&g.push(x),g.push(65535),F.push(65535),H=2*(T=F.length),q=2*Math.pow(Math.log(T)/Math.LN2,2),v=Math.log(q/2)/Math.LN2,G=2*T-q,u=[],W=[],p=[],N=he=0,me=F.length;he<me;N=++he){if(P=F[N],f=g[N],P===65535){u.push(0),W.push(0);break}if(P-(K=n[P].new)>=32768)for(u.push(0),W.push(2*(p.length+T-N)),s=Y=P;P<=f?Y<=f:Y>=f;s=P<=f?++Y:--Y)p.push(n[s].new);else u.push(K-P),W.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*T+2*p.length),J.writeUInt16(0),J.writeUInt16(H),J.writeUInt16(q),J.writeUInt16(v),J.writeUInt16(G),ie=0,C=g.length;ie<C;ie++)s=g[ie],J.writeUInt16(s);for(J.writeUInt16(0),de=0,z=F.length;de<z;de++)s=F[de],J.writeUInt16(s);for(we=0,V=u.length;we<V;we++)l=u[we],J.writeUInt16(l);for(Le=0,Z=W.length;Le<Z;Le++)S=W[Le],J.writeUInt16(S);for(Re=0,te=p.length;Re<te;Re++)j=p[Re],J.writeUInt16(j);return{charMap:n,subtable:J.data,maxGlyphID:_+1}}},e}(),db=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vs(e,ks),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new Rv(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=Rv.encode(t,r),(s=new da).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e}(),vk=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vs(e,ks),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),xk=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vs(e,ks),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),yk=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vs(e,ks),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var a,l,u;for(u=[],i=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;i=0<=l?++a:--a)u.push(t.readUInt32());return u}).call(this)}},e}(),bk=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},wk=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vs(e,ks),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,i,a,l,u,d,f,g,v;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(u={},i=f=0,g=n.length;f<g;i=++f)s=n[i],t.pos=s.offset,d=t.readString(s.length),a=new bk(d,s),u[v=s.nameID]==null&&(u[v]=[]),u[s.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),_k=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vs(e,ks),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Nk=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vs(e,ks),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,i,a,l,u;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)f.push(t.readInt16());return f}(),this.widths=(function(){var d,f,g,v;for(v=[],d=0,f=(g=this.metrics).length;d<f;d++)i=g[d],v.push(i.advance);return v}).call(this),n=this.widths[this.widths.length-1],u=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)u.push(this.widths.push(n));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),hb=[].slice,jk=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vs(e,ks),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,i,a,l,u,d,f,g;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,a=(l=new da(r.read(s))).readShort(),d=l.readShort(),g=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[t]=a===-1?new kk(l,d,g,u,f):new Sk(l,a,d,g,u,f),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,i,a,l,u;for(a=[],i=[],l=0,u=r.length;l<u;l++)s=t[r[l]],i.push(a.length),s&&(a=a.concat(s.encode(n)));return i.push(a.length),{table:a,offsets:i}},e}(),Sk=function(){function e(t,r,n,s,i,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),kk=function(){function e(t,r,n,s,i){var a,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new da(hb.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Ak=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Vs(e,ks),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<n.length;++a)if(n[a]=s,i<r.length&&r[i]==a){++i,n[a]=s;var l=this.offsets[a],u=this.offsets[a+1]-l;u>0&&(s+=u)}for(var d=new Array(4*n.length),f=0;f<n.length;++f)d[4*f+3]=255&n[f],d[4*f+2]=(65280&n[f])>>8,d[4*f+1]=(16711680&n[f])>>16,d[4*f]=(4278190080&n[f])>>24;return d},e}(),Lk=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,a,l,u;for(s={},a=0,l=t.length;a<l;a++)s[i=t[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in u=this.glyphsFor(r))n=u[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,a,l,u,d,f,g,v,p,N,j,k,x;for(s in n=db.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),p={0:0},x=n.charMap)p[(u=x[s]).old]=u.new;for(N in v=n.maxGlyphID,a)N in p||(p[N]=v++);return f=function(b){var _,S;for(_ in S={},b)S[b[_]]=_;return S}(p),g=Object.keys(f).sort(function(b,_){return b-_}),j=function(){var b,_,S;for(S=[],b=0,_=g.length;b<_;b++)l=g[b],S.push(f[l]);return S}(),i=this.font.glyf.encode(a,j,p),d=this.font.loca.encode(i.offsets,j),k={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},e}();Xe.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var l,u,d;for(d=[],l=0,u=r.length;l<u;l++)n=r[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+r},t}();const Ek=()=>{const[e,t]=X.useState([]),[r,n]=X.useState(null),[s,i]=X.useState([]),[a,l]=X.useState([]),[u,d]=X.useState(null),[f,g]=X.useState(!0),[v,p]=X.useState(!1),[N,j]=X.useState("low"),[k,x]=X.useState(!0),[b,_]=X.useState(null),[S,I]=X.useState(!1),[W,G]=X.useState(!1),[q,T]=X.useState([]),[H,P]=X.useState(null),[F,K]=X.useState(!1),[J,ce]=X.useState([]),[fe,he]=X.useState(null),[Y,ae]=X.useState({x:0,y:0}),[ge,me]=X.useState(!1),C=JSON.parse(localStorage.getItem("user")||"{}"),z=C.id;X.useEffect(()=>{ie();const E=setInterval(Le,1e4);return()=>clearInterval(E)},[]),X.useEffect(()=>{const E=ve=>{me(!0),ae({x:ve.clientX/window.innerWidth*100,y:ve.clientY/window.innerHeight*100})};return window.addEventListener("mousemove",E),()=>window.removeEventListener("mousemove",E)},[]);const V=async()=>{const{data:E}=await We.from("lab_requests").select("*, doctors(name)").eq("patient_id",z).order("created_at",{ascending:!1});ce(E||[]),K(!0)},Z=async()=>{const{data:E}=await We.from("pharmacy_requests").select("*, doctors(name)").eq("patient_id",z).order("created_at",{ascending:!1});T(E||[]),G(!0)},te=async E=>{if(E.medicine_ids&&E.medicine_ids.length>0){const{data:ve}=await We.from("medicines").select("*").in("id",E.medicine_ids);P(ve||[])}else alert("Detailed info not available for this prescription (Legacy record).")},ie=async()=>{const{data:E}=await We.from("doctors").select("*").order("name");t(E||[]),g(!1)},de=async E=>{n(E),i([]),p(!0);const ve=new Date().toISOString().split("T")[0],{data:Ce}=await We.from("doctor_schedules").select("*").eq("doctor_id",E.id).eq("date",ve).eq("is_available",!0);i(Ce||[])},pe=async()=>{var ve,Ce;if(!b)return null;I(!0);const E=new FormData;E.append("file",b),E.append("upload_preset","hospital_preset"),E.append("folder","prescriptions");try{const Ne=await(await fetch("https://api.cloudinary.com/v1_1/dhc3fnbl2/image/upload",{method:"POST",body:E})).json();return I(!1),Ne.secure_url?Ne.secure_url:(console.error("Cloudinary error:",((ve=Ne.error)==null?void 0:ve.message)||Ne),alert(`Cloudinary Error: ${(Ce=Ne.error)==null?void 0:Ce.message}

Check your Cloudinary settings.`),null)}catch(Ie){return console.error("Error uploading image:",Ie),alert("Failed to upload image"),I(!1),null}},we=async E=>{try{if(S){alert("Please wait for the upload to complete.");return}const{data:ve}=await We.from("patient_queue").select("*").eq("patient_id",z).in("status",["waiting","lab_pending","completed_15min"]).maybeSingle();if(ve){alert("You are already in a queue for a doctor!");return}let Ce=null;if(!k&&b&&(Ce=await pe(),!Ce))return;const{data:Ie}=await We.from("patient_queue").select("*").eq("doctor_id",r.id).in("status",["waiting","lab_pending","completed_15min"]),Ne=((Ie==null?void 0:Ie.length)||0)+1,Qe=(Ne-1)*15,De=new Date(Date.now()+Qe*6e4),{error:Ze}=await We.from("patient_queue").insert([{patient_id:z,doctor_id:r.id,slot_type:E.slot_type,status:"waiting",position:Ne,appointment_time:De.toISOString(),emergency_level:N,is_new_patient:k,prescription_image_url:Ce}]);if(Ze){alert("Booking failed: "+Ze.message);return}const $e=document.createElement("div");$e.className="fixed top-4 right-4 bg-gradient-to-r from-gray-900 to-gray-800 text-white px-6 py-3 rounded-lg shadow-2xl z-50 animate-slide-in border border-gray-700",$e.textContent=` Appointment booked! Position #${Ne}`,document.body.appendChild($e),setTimeout(()=>$e.remove(),4e3),j("low"),x(!0),_(null),Le(),i([]),p(!1)}catch(ve){console.error("Booking error:",ve),alert("Booking failed: "+ve.message)}},Le=async()=>{if(!z)return;const{data:E}=await We.from("patient_queue").select(`
        *,
        doctors(name, specialty),
        patients(name)
      `).eq("patient_id",z).in("status",["waiting","lab_pending","completed_15min"]).maybeSingle();if(E){const{doctor_id:ve}=E,{data:Ce}=await We.from("patient_queue").select(`
          *,
          patients(name),
          doctors(name, specialty)
        `).eq("doctor_id",ve).in("status",["waiting","lab_pending","completed_15min"]).order("created_at"),Ie=(Ce||[]).slice(0,10),Ne=Ie.findIndex(Qe=>Qe.patient_id===z);l(Ie),d(Ne!==-1?Ne+1:null),n(E.doctors)}else l([]),d(null)},Re=async()=>{if(!confirm("Are you sure you want to leave the queue?"))return;const E=a.find(ve=>ve.patient_id===z);if(E){await We.from("patient_queue").delete().eq("id",E.id),l([]),d(null);const ve=document.createElement("div");ve.className="fixed top-4 right-4 bg-gradient-to-r from-red-600 to-red-500 text-white px-6 py-3 rounded-lg shadow-2xl z-50 animate-slide-in border border-red-400",ve.textContent=" Left queue successfully",document.body.appendChild(ve),setTimeout(()=>ve.remove(),3e3)}},Oe=(E,ve)=>{var Ie;const Ce=new Xe;if(Ce.setFontSize(22),Ce.setTextColor(33,150,243),Ce.text("Smart Hospital",105,20,{align:"center"}),Ce.setFontSize(16),Ce.setTextColor(100),Ce.text(E==="lab"?"Lab Report":"Prescription",105,30,{align:"center"}),Ce.setLineWidth(.5),Ce.line(20,35,190,35),Ce.setFontSize(12),Ce.setTextColor(0),Ce.text(`Patient Name: ${C.name}`,20,50),Ce.text(`Doctor Name: Dr. ${((Ie=ve.doctors)==null?void 0:Ie.name)||"Unknown"}`,20,60),Ce.text(`Date: ${new Date(ve.created_at).toLocaleDateString()}`,140,50),Ce.setFontSize(14),Ce.text("Details:",20,80),Ce.setFontSize(12),E==="lab")Ce.text(`Lab Name: ${ve.lab_name}`,20,90),Ce.text(`Tests: ${ve.tests_ordered.join(", ")}`,20,100);else{const Ne=Ce.splitTextToSize(`Medicine: ${ve.medicine}`,170);Ce.text(Ne,20,90)}Ce.save(`${E}_${ve.id}.pdf`)},ze=(E,ve,Ce)=>ve?"bg-gradient-to-r from-amber-50 to-white border-amber-200":E==="lab_pending"?"bg-gradient-to-r from-purple-50 to-white border-purple-200":E==="completed_15min"?"bg-gradient-to-r from-orange-50 to-white border-orange-200":Ce===0?"bg-gradient-to-r from-emerald-50 to-white border-emerald-200":"bg-white border-gray-100";return f&&!e.length?o.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-white relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-gray-50 rounded-full mix-blend-multiply filter blur-xl animate-blob"}),o.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-gray-100 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-2000"}),o.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-gray-50 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-4000"})]}),o.jsxs("div",{className:"text-center relative z-10",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-20 h-20 border-4 border-gray-200 border-t-gray-900 rounded-full animate-spin mx-auto mb-4"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-10 h-10 bg-white rounded-full animate-pulse"})})]}),o.jsx("p",{className:"text-xl text-gray-600 font-light",children:"Loading Patient Dashboard..."})]})]}):o.jsxs("div",{className:"min-h-screen bg-white p-4 md:p-8 font-sans relative overflow-hidden",children:[o.jsxs("div",{className:"fixed inset-0 pointer-events-none",style:{background:ge?`radial-gradient(circle at ${Y.x}% ${Y.y}%, rgba(0,0,0,0.02) 0%, transparent 50%)`:"none"},children:[o.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 bg-gray-50 rounded-full mix-blend-multiply filter blur-3xl animate-float"}),o.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-gray-50 rounded-full mix-blend-multiply filter blur-3xl animate-float animation-delay-2000"}),o.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-gray-50 rounded-full mix-blend-multiply filter blur-3xl animate-pulse-slow"})]}),o.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[o.jsx("div",{className:"mb-8 animate-fade-in",children:o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl border border-gray-100 p-8 shadow-2xl shadow-gray-200/50 hover:shadow-3xl transition-all duration-500",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[o.jsxs("div",{className:"flex items-center gap-6 group",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-900 to-gray-700 rounded-2xl flex items-center justify-center shadow-xl transform group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:o.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Patient Dashboard"}),o.jsxs("p",{className:"text-gray-500 mt-2 text-lg flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),"Welcome back, ",C.name]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:V,className:"group relative px-6 py-3 bg-white text-gray-700 rounded-xl font-semibold shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-200 overflow-hidden",children:[o.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-gray-50 to-white transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"}),o.jsxs("span",{className:"relative flex items-center gap-2",children:[o.jsx("span",{className:"text-xl group-hover:rotate-12 transition-transform duration-300"}),"My Lab Reports"]})]}),o.jsxs("button",{onClick:Z,className:"group relative px-6 py-3 bg-gray-900 text-white rounded-xl font-semibold shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden",children:[o.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-gray-800 to-gray-700 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"}),o.jsxs("span",{className:"relative flex items-center gap-2",children:[o.jsx("span",{className:"text-xl group-hover:rotate-12 transition-transform duration-300"}),"My Prescriptions"]})]})]}),u&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl px-6 py-3 border border-gray-200 shadow-lg animate-scale-in",children:[o.jsx("span",{className:"text-gray-500 text-sm",children:"Your Position"}),o.jsxs("p",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:["#",u]})]}),o.jsxs("button",{onClick:Re,className:"group relative px-4 py-3 bg-white border border-red-200 text-red-600 hover:bg-red-50 rounded-xl font-medium transition-all duration-300 overflow-hidden",children:[o.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-red-50 to-red-100 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"}),o.jsxs("span",{className:"relative flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4 group-hover:rotate-12 transition-transform duration-300",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Leave Queue"]})]})]})]})})}),o.jsxs("div",{className:"mb-8 animate-fade-in-up",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-8 bg-gray-900 rounded-full"}),"Our Specialists",o.jsxs("span",{className:"text-sm font-normal text-gray-400 ml-2",children:["(",e.length," available)"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((E,ve)=>o.jsxs("div",{onClick:()=>de(E),onMouseEnter:()=>he(E.id),onMouseLeave:()=>he(null),className:"group relative bg-white rounded-2xl border border-gray-100 hover:border-gray-300 hover:shadow-3xl transition-all duration-500 cursor-pointer overflow-hidden animate-fade-in-up",style:{animationDelay:`${ve*100}ms`},children:[o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-gray-50 to-white opacity-0 group-hover:opacity-100 transition-opacity duration-500 ${fe===E.id?"scale-105":""}`}),o.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100",children:o.jsx("div",{className:"absolute top-0 -inset-full h-full w-1/2 z-5 block transform -skew-x-12 bg-gradient-to-r from-transparent via-white to-transparent opacity-20 group-hover:animate-shine"})}),o.jsx("div",{className:"relative p-6",children:o.jsxs("div",{className:"flex items-center gap-5",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-50 rounded-2xl flex items-center justify-center text-gray-700 text-xl font-bold border border-gray-200 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300",children:E.name.split(" ").map(Ce=>Ce[0]).join("")}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-lg group-hover:text-gray-900 transition-colors",children:E.name}),o.jsx("p",{className:"text-sm text-gray-400 mt-1 group-hover:text-gray-500 transition-colors",children:E.specialty})]}),o.jsx("div",{className:"w-8 h-8 bg-gray-50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300",children:o.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})})]},E.id))})]}),v&&r&&o.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-gray-100 max-w-4xl w-full max-h-[90vh] overflow-hidden animate-scale-in",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-white px-6 py-5 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-gray-900 to-gray-700 rounded-xl flex items-center justify-center text-white text-lg font-bold",children:r.name.split(" ").map(E=>E[0]).join("")}),o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Dr. ",r.name]}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r.specialty})]})]}),o.jsx("button",{onClick:()=>p(!1),className:"w-10 h-10 bg-white hover:bg-gray-50 rounded-xl flex items-center justify-center text-gray-500 hover:text-gray-700 transition-all border border-gray-200 hover:rotate-90 duration-300",children:""})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[o.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white p-6 rounded-2xl border border-gray-100 mb-6",children:[o.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-4 bg-gray-900 rounded-full"}),"Booking Details"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"Emergency Level"}),o.jsxs("select",{value:N,onChange:E=>j(E.target.value),className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-gray-800 text-sm focus:ring-2 focus:ring-gray-900/20 focus:border-gray-900 transition-all outline-none",children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"Patient Type"}),o.jsxs("div",{className:"flex gap-6 items-center h-12",children:[o.jsxs("label",{className:"flex items-center gap-3 text-sm cursor-pointer group",children:[o.jsx("input",{type:"radio",name:"patient-type",checked:k,onChange:()=>x(!0),className:"text-gray-900 focus:ring-gray-900/30"}),o.jsx("span",{className:"group-hover:text-gray-900 transition-colors",children:"New Patient"})]}),o.jsxs("label",{className:"flex items-center gap-3 text-sm cursor-pointer group",children:[o.jsx("input",{type:"radio",name:"patient-type",checked:!k,onChange:()=>x(!1),className:"text-gray-900 focus:ring-gray-900/30"}),o.jsx("span",{className:"group-hover:text-gray-900 transition-colors",children:"Returning"})]})]})]})]}),!k&&o.jsxs("div",{className:"mt-4 animate-slide-down",children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-2",children:"Upload Previous Prescription (Optional)"}),o.jsx("input",{type:"file",accept:"image/*",onChange:E=>_(E.target.files[0]),className:"w-full text-sm text-gray-500 file:mr-4 file:py-2.5 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-gray-100 file:text-gray-700 hover:file:bg-gray-200 border border-gray-200 rounded-xl p-1 transition-all"})]})]}),o.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-4 bg-gray-900 rounded-full"}),"Available Slots Today"]}),s.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:s.map((E,ve)=>o.jsx("div",{className:"group bg-white rounded-2xl border border-gray-100 hover:border-gray-300 hover:shadow-2xl transition-all duration-500 animate-scale-in",style:{animationDelay:`${ve*100}ms`},children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("span",{className:"text-4xl mb-3 block group-hover:scale-110 group-hover:rotate-12 transition-transform duration-300",children:(E.slot_type==="morning"||E.slot_type==="afternoon","")}),o.jsx("h4",{className:"font-semibold text-gray-900 capitalize group-hover:text-gray-900 transition-colors",children:E.slot_type})]}),o.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-xl p-4 text-center mb-4 border border-gray-100",children:o.jsxs("p",{className:"text-lg font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:[E.start_time," - ",E.end_time]})}),o.jsxs("button",{onClick:()=>we(E),disabled:S,className:"relative w-full py-3 bg-gray-900 hover:bg-gray-800 text-white rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden group",children:[o.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-gray-800 to-gray-700 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"}),o.jsx("span",{className:"relative",children:S?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):"Book Appointment"})]}),o.jsx("p",{className:"text-xs text-gray-400 text-center mt-3",children:"~15 min per patient"})]})},ve))}):o.jsxs("div",{className:"text-center py-16 animate-fade-in",children:[o.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-2xl flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-10 h-10 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No slots available today"})]})]})]})}),a.length>0&&u&&o.jsx("div",{className:"mt-8 animate-fade-in-up",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl border border-gray-100 shadow-2xl overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-white px-6 py-5 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[o.jsx("span",{className:"w-1 h-6 bg-gray-900 rounded-full"}),"Current Queue - Dr. ",r==null?void 0:r.name]}),o.jsxs("span",{className:"flex items-center gap-2 text-sm text-emerald-600 bg-emerald-50 px-3 py-1.5 rounded-full",children:[o.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),"Live"]})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border border-gray-100 shadow-lg hover:shadow-xl transition-all duration-300 animate-scale-in",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Your Position"}),o.jsxs("p",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:["#",u]})]}),o.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border border-gray-100 shadow-lg hover:shadow-xl transition-all duration-300 animate-scale-in animation-delay-100",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Wait Time"}),o.jsxs("p",{className:"text-4xl font-bold bg-gradient-to-r from-amber-600 to-amber-500 bg-clip-text text-transparent",children:[(u-1)*15,"min"]})]}),o.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border border-gray-100 shadow-lg hover:shadow-xl transition-all duration-300 animate-scale-in animation-delay-200",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Total in Queue"}),o.jsx("p",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-blue-500 bg-clip-text text-transparent",children:a.length})]})]}),o.jsx("div",{className:"space-y-3",children:a.map((E,ve)=>{var Ie;const Ce=E.patient_id===z;return o.jsx("div",{className:`rounded-xl border transition-all duration-300 hover:shadow-xl animate-slide-in-left ${ze(E.status,Ce,ve)}`,style:{animationDelay:`${ve*50}ms`},children:o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-xl font-bold transition-transform group-hover:scale-110 ${Ce?"bg-gradient-to-br from-amber-100 to-amber-50":E.status==="lab_pending"?"bg-gradient-to-br from-purple-100 to-purple-50":E.status==="completed_15min"?"bg-gradient-to-br from-orange-100 to-orange-50":ve===0?"bg-gradient-to-br from-emerald-100 to-emerald-50":"bg-gradient-to-br from-gray-100 to-gray-50"}`,children:Ce||E.status==="lab_pending"||E.status==="completed_15min"?"":ve===0?"":""}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-gray-900",children:[(Ie=E.patients)==null?void 0:Ie.name,Ce&&o.jsx("span",{className:"ml-2 text-amber-600 text-sm bg-amber-50 px-2 py-0.5 rounded-full",children:"(You)"})]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Ce?"Current Patient":E.status==="lab_pending"?"Lab Pending":E.status==="completed_15min"?"Completing":ve===0?"Now Serving":"In Queue"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:`px-3 py-1.5 rounded-full text-xs font-medium border ${Ce?"bg-amber-50 text-amber-700 border-amber-200":E.status==="lab_pending"?"bg-purple-50 text-purple-700 border-purple-200":E.status==="completed_15min"?"bg-orange-50 text-orange-700 border-orange-200":ve===0?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-gray-50 text-gray-600 border-gray-200"}`,children:["#",ve+1]}),ve===0&&!Ce&&E.status==="waiting"&&o.jsx("span",{className:"px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-full text-xs font-medium border border-emerald-200 animate-pulse",children:"NEXT"})]})]})})},E.id)})})]})]})}),!a.length&&!f&&!v&&o.jsx("div",{className:"mt-8 bg-white/90 backdrop-blur-sm rounded-3xl border border-gray-100 p-16 text-center shadow-2xl animate-fade-in",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gray-50 rounded-2xl flex items-center justify-center mb-6 animate-float",children:o.jsx("svg",{className:"w-12 h-12 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No Appointments"}),o.jsx("p",{className:"text-gray-500 mb-8 text-lg",children:"Select a doctor above to book your first appointment"})]})}),F&&o.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-gray-100 max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col animate-scale-in",children:[o.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-white px-6 py-5 border-b border-gray-100 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Lab Reports"}),o.jsx("button",{onClick:()=>K(!1),className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-gray-500 hover:text-gray-700 border border-gray-200 hover:rotate-90 transition-all duration-300",children:""})]}),o.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:o.jsx("div",{className:"space-y-4",children:J.length>0?J.map((E,ve)=>{var Ce;return o.jsx("div",{className:"bg-white border border-gray-100 rounded-2xl p-5 hover:border-gray-300 hover:shadow-xl transition-all duration-300 animate-slide-in-left",style:{animationDelay:`${ve*50}ms`},children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-gray-900 text-lg",children:["Dr. ",(Ce=E.doctors)==null?void 0:Ce.name]}),o.jsxs("p",{className:"text-sm text-gray-400",children:[new Date(E.created_at).toLocaleDateString()," at ",new Date(E.created_at).toLocaleTimeString()]}),o.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:["Lab: ",o.jsx("span",{className:"font-medium text-gray-900",children:E.lab_name})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase mb-3",children:"Tests Ordered"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:E.tests_ordered.map((Ie,Ne)=>o.jsx("span",{className:"px-3 py-1.5 bg-gray-50 text-gray-700 text-xs rounded-full font-medium border border-gray-200 hover:bg-gray-100 transition-colors",children:Ie},Ne))})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2",children:[o.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-medium capitalize ${E.status==="completed"?"bg-emerald-50 text-emerald-700 border border-emerald-200":E.status==="pending"?"bg-amber-50 text-amber-700 border border-amber-200":"bg-gray-50 text-gray-700 border border-gray-200"}`,children:E.status}),o.jsx("button",{onClick:()=>Oe("lab",E),className:"px-3 py-1.5 bg-blue-50 text-blue-600 text-xs rounded-lg font-medium border border-blue-200 hover:bg-blue-100 transition-colors flex items-center gap-1",children:"Download PDF"})]})]})},E.id)}):o.jsx("p",{className:"text-center text-gray-400 py-12 text-lg",children:"No lab reports found."})})})]})}),W&&o.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-gray-100 max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col animate-scale-in",children:[o.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-white px-6 py-5 border-b border-gray-100 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Prescriptions"}),o.jsx("button",{onClick:()=>{G(!1),P(null)},className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-gray-500 hover:text-gray-700 border border-gray-200 hover:rotate-90 transition-all duration-300",children:""})]}),o.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:H?o.jsxs("div",{className:"animate-fade-in",children:[o.jsxs("button",{onClick:()=>P(null),className:"mb-6 text-sm text-gray-600 hover:text-gray-900 hover:underline flex items-center gap-2 group",children:[o.jsx("span",{className:"group-hover:-translate-x-1 transition-transform",children:""})," Back to list"]}),o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center gap-2",children:[o.jsx("span",{className:"w-1 h-5 bg-gray-900 rounded-full"}),"Medicine Details"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:H.map((E,ve)=>o.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl p-5 flex gap-5 hover:border-gray-300 hover:shadow-xl transition-all duration-300 animate-scale-in",style:{animationDelay:`${ve*100}ms`},children:[E.image_url?o.jsx("img",{src:E.image_url,alt:E.name,className:"w-24 h-24 object-cover rounded-xl bg-gray-50"}):o.jsx("div",{className:"w-24 h-24 bg-gray-50 rounded-xl flex items-center justify-center text-4xl",children:""}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:E.name}),o.jsx("p",{className:"text-sm text-gray-400",children:E.company}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[o.jsx("span",{className:"px-3 py-1.5 bg-gray-50 text-gray-700 text-xs rounded-full font-medium border border-gray-200",children:E.type}),E.strength&&o.jsxs("span",{className:"px-3 py-1.5 bg-gray-50 text-gray-700 text-xs rounded-full font-medium border border-gray-200",children:[E.strength,E.unit]})]})]})]},E.id))})]}):o.jsx("div",{className:"space-y-4",children:q.length>0?q.map((E,ve)=>{var Ce;return o.jsx("div",{className:"bg-white border border-gray-100 rounded-2xl p-5 hover:border-gray-300 hover:shadow-xl transition-all duration-300 animate-slide-in-left",style:{animationDelay:`${ve*50}ms`},children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-gray-900 text-lg",children:["Dr. ",(Ce=E.doctors)==null?void 0:Ce.name]}),o.jsxs("p",{className:"text-sm text-gray-400",children:[new Date(E.created_at).toLocaleDateString()," at ",new Date(E.created_at).toLocaleTimeString()]}),o.jsx("p",{className:"text-sm text-gray-600 mt-3 line-clamp-1",children:E.medicine})]}),o.jsxs("div",{className:"flex flex-col items-end gap-3",children:[o.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-medium capitalize border ${E.status==="completed"?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-amber-50 text-amber-700 border-amber-200"}`,children:E.status}),E.medicine_ids&&E.medicine_ids.length>0&&o.jsx("button",{onClick:()=>te(E),className:"px-4 py-2 bg-gray-50 text-gray-700 text-sm rounded-xl font-medium hover:bg-gray-100 hover:text-gray-900 transition-all border border-gray-200",children:"View Medicines"}),o.jsx("button",{onClick:()=>Oe("prescription",E),className:"px-3 py-1.5 bg-blue-50 text-blue-600 text-xs rounded-lg font-medium border border-blue-200 hover:bg-blue-100 transition-colors flex items-center gap-1",children:"Download PDF"})]})]})},E.id)}):o.jsx("p",{className:"text-center text-gray-400 py-12 text-lg",children:"No prescriptions found."})})})]})})]}),o.jsx("style",{jsx:!0,children:`
        @keyframes slide-in {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        
        @keyframes fade-in {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
        
        @keyframes fade-in-up {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes slide-in-left {
          from {
            opacity: 0;
            transform: translateX(-20px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        
        @keyframes slide-down {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes scale-in {
          from {
            opacity: 0;
            transform: scale(0.95);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }
        
        @keyframes float {
          0%, 100% {
            transform: translateY(0px);
          }
          50% {
            transform: translateY(-20px);
          }
        }
        
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        
        @keyframes pulse-slow {
          0%, 100% {
            opacity: 0.4;
          }
          50% {
            opacity: 0.7;
          }
        }
        
        @keyframes shine {
          to {
            left: 200%;
          }
        }
        
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
        
        .animate-fade-in {
          animation: fade-in 0.5s ease-out;
        }
        
        .animate-fade-in-up {
          animation: fade-in-up 0.6s ease-out;
        }
        
        .animate-slide-in-left {
          animation: slide-in-left 0.5s ease-out;
        }
        
        .animate-slide-down {
          animation: slide-down 0.3s ease-out;
        }
        
        .animate-scale-in {
          animation: scale-in 0.4s ease-out;
        }
        
        .animate-float {
          animation: float 6s ease-in-out infinite;
        }
        
        .animate-blob {
          animation: blob 7s infinite;
        }
        
        .animate-pulse-slow {
          animation: pulse-slow 3s ease-in-out infinite;
        }
        
        .animate-shine {
          animation: shine 1.5s ease-out;
        }
        
        .animation-delay-200 {
          animation-delay: 200ms;
        }
        
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        
        .animation-delay-4000 {
          animation-delay: 4s;
        }
        
        .hover:shadow-3xl:hover {
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
        }
        
        .bg-grid-pattern {
          background-image: 
            linear-gradient(rgba(0,0,0,0.02) 1px, transparent 1px),
            linear-gradient(90deg, rgba(0,0,0,0.02) 1px, transparent 1px);
          background-size: 50px 50px;
        }
      `})]})},Ck=()=>{const[e,t]=X.useState([]),[r,n]=X.useState(!0),[s,i]=X.useState(!1),[a,l]=X.useState(!0),u=JSON.parse(localStorage.getItem("user")||"{}"),[d,f]=X.useState({name:"",type:"Tablets",unit:"mg",company:"",stock:"",strength:""}),[g,v]=X.useState(null),[p,N]=X.useState(!1),j={Tablets:["mg"],Capsules:["mg"],Syrups:["mL"],Suspensions:["mL"],Injections:["mL","mg"],Drops:["drops","mL"],Ointments:["g"],Creams:["g"],Gels:["g"],Lotions:["mL"],Inhalers:["mcg"],Powders:["g","mg"],Sprays:["mL","sprays"],Suppositories:["mg","g"],Vaccines:["mL"]};X.useEffect(()=>{k();const S=setInterval(k,5e3);return()=>clearInterval(S)},[]);const k=async()=>{const{data:S}=await We.from("pharmacy_requests").select("*, patients(name)").eq("status","pending").order("created_at",{ascending:!1});t(S||[]),n(!1)},x=async()=>{var I,W;if(!g)return null;const S=new FormData;S.append("file",g),S.append("upload_preset","hospital_preset"),S.append("folder","medicines");try{const q=await(await fetch("https://api.cloudinary.com/v1_1/dhc3fnbl2/image/upload",{method:"POST",body:S})).json();return q.secure_url?q.secure_url:(console.error("Cloudinary error:",((I=q.error)==null?void 0:I.message)||q),alert(`Cloudinary Error: ${(W=q.error)==null?void 0:W.message}`),null)}catch(G){return console.error("Error uploading image:",G),alert("Failed to upload image"),null}},b=async S=>{S.preventDefault(),N(!0);let I=null;if(g&&(I=await x(),!I)){N(!1);return}const{error:W}=await We.from("medicines").insert([{...d,image_url:I}]);N(!1),W?alert("Error adding medicine: "+W.message):(alert("Medicine added to inventory!"),f({name:"",type:"Tablets",unit:"mg",company:"",stock:"",strength:""}),v(null),document.getElementById("medicine-image-input")&&(document.getElementById("medicine-image-input").value=""))},_=async S=>{confirm("Issue medicine?")&&(await We.from("pharmacy_requests").update({status:"completed"}).eq("id",S),k(),alert("Medicine issued!"))};return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-20 h-20 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-pulse"})})]}),o.jsx("p",{className:"text-xl text-gray-700 font-medium",children:"Loading Pharmacy Dashboard..."}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait while we fetch your data"})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4 md:p-8 font-sans",children:[o.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-10",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #3b82f6 1px, transparent 1px)",backgroundSize:"50px 50px"}})}),o.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[o.jsx("div",{className:"mb-8 transform hover:scale-[1.02] transition-transform duration-300",children:o.jsx("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl shadow-blue-500/20 border border-blue-100 p-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-2xl blur-xl opacity-50 animate-pulse"}),o.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-xl",children:o.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm0 14H4V6h16v12zM9 8h2v2H9V8zm4 0h2v2h-2V8zm-4 4h2v2H9v-2zm4 0h2v2h-2v-2z"})})})]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Pharmacy Dashboard"}),o.jsxs("p",{className:"text-gray-600 mt-2 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Welcome back, ",o.jsx("span",{className:"font-semibold text-blue-600",children:u.name})]})]})]}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl px-6 py-4 shadow-xl",children:[o.jsx("span",{className:"text-white/80 text-sm",children:"Pending Requests"}),o.jsx("p",{className:"text-3xl font-bold text-white",children:e.length})]})})]})})}),o.jsxs("div",{className:"flex gap-4 mb-8",children:[o.jsxs("button",{onClick:()=>{i(!s),l(!1)},className:`group relative px-8 py-4 rounded-xl font-semibold transition-all duration-300 flex items-center gap-3 overflow-hidden ${s?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-xl scale-105":"bg-white text-gray-700 hover:text-blue-600 border-2 border-blue-100 hover:border-blue-300 shadow-lg hover:shadow-xl"}`,children:[o.jsx("span",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),o.jsxs("svg",{className:`w-5 h-5 ${s?"text-white":"text-blue-500"}`,fill:"currentColor",viewBox:"0 0 20 20",children:[o.jsx("path",{d:"M4 3a1 1 0 011-1h6a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V3z"}),o.jsx("path",{d:"M3 8a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V8z"}),o.jsx("path",{d:"M3 13a1 1 0 011-1h6a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2z"})]}),"Add to Inventory",!s&&o.jsx("span",{className:"absolute top-0 right-0 w-2 h-2 bg-blue-500 rounded-full animate-ping"})]}),o.jsxs("button",{onClick:()=>{l(!a),i(!1)},className:`group relative px-8 py-4 rounded-xl font-semibold transition-all duration-300 flex items-center gap-3 overflow-hidden ${a?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-xl scale-105":"bg-white text-gray-700 hover:text-blue-600 border-2 border-blue-100 hover:border-blue-300 shadow-lg hover:shadow-xl"}`,children:[o.jsx("span",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),o.jsx("svg",{className:`w-5 h-5 ${a?"text-white":"text-blue-500"}`,fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})}),"Doctor Requests",e.length>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs w-6 h-6 rounded-full flex items-center justify-center font-bold animate-bounce",children:e.length})]})]}),s&&o.jsx("div",{className:"mb-8 transform transition-all duration-500 animate-slideDown",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl shadow-purple-500/20 border border-purple-100 overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 px-8 py-5",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[o.jsxs("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:[o.jsx("path",{d:"M4 3a1 1 0 011-1h6a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V3z"}),o.jsx("path",{d:"M3 8a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V8z"}),o.jsx("path",{d:"M3 13a1 1 0 011-1h6a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2z"})]}),"Add Medicine to Inventory"]}),o.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Fill in the details below to add a new medicine"})]}),o.jsx("div",{className:"p-8",children:o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Medicine Name"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),o.jsx("input",{type:"text",placeholder:"Enter medicine name",value:d.name,onChange:S=>f({...d,name:S.target.value}),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500 outline-none transition-all group-hover:border-blue-200",required:!0})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company Name"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors",children:o.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[o.jsx("path",{d:"M4 3a1 1 0 011-1h6a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V3z"}),o.jsx("path",{d:"M3 8a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V8z"})]})}),o.jsx("input",{type:"text",placeholder:"Enter company name",value:d.company,onChange:S=>f({...d,company:S.target.value}),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500 outline-none transition-all group-hover:border-blue-200",required:!0})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Medicine Type"}),o.jsx("select",{value:d.type,onChange:S=>f({...d,type:S.target.value,unit:j[S.target.value][0]}),className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500 outline-none transition-all group-hover:border-blue-200",children:Object.keys(j).map(S=>o.jsx("option",{value:S,children:S},S))})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Unit"}),o.jsx("select",{value:d.unit,onChange:S=>f({...d,unit:S.target.value}),className:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500 outline-none transition-all group-hover:border-blue-200",children:j[d.type].map(S=>o.jsx("option",{value:S,children:S},S))})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Strength"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),o.jsx("input",{type:"text",placeholder:"e.g., 500",value:d.strength,onChange:S=>f({...d,strength:S.target.value}),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500 outline-none transition-all group-hover:border-blue-200",required:!0})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Stock Quantity"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors",children:o.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[o.jsx("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),o.jsx("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"})]})}),o.jsx("input",{type:"number",placeholder:"Enter quantity",value:d.stock,onChange:S=>f({...d,stock:S.target.value}),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500 outline-none transition-all group-hover:border-blue-200",required:!0})]})]}),o.jsxs("div",{className:"group",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Medicine Image (Optional)"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),o.jsx("input",{id:"medicine-image-input",type:"file",accept:"image/*",onChange:S=>v(S.target.files[0]),className:"w-full pl-10 pr-4 py-2 text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-xl file:border-0 file:text-sm file:font-semibold file:bg-gradient-to-r file:from-blue-500 file:to-purple-600 file:text-white hover:file:from-blue-600 hover:file:to-purple-700 bg-gray-50 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500 outline-none transition-all"})]})]})]}),o.jsx("div",{className:"flex justify-end pt-6",children:o.jsxs("button",{type:"submit",disabled:p,className:"group relative px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-semibold transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/30 disabled:opacity-50 flex items-center gap-3 overflow-hidden",children:[o.jsx("span",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),p?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Uploading..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),o.jsx("span",{children:"Add to Inventory"})]})]})})]})})]})}),a&&o.jsx("div",{className:"transform transition-all duration-500 animate-slideUp",children:o.jsxs("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl shadow-blue-500/20 border border-blue-100 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 px-8 py-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[o.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})}),"Pending Prescriptions"]}),o.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Review and process doctor requests"})]}),o.jsxs("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-xl",children:[o.jsx("span",{className:"text-white font-bold text-xl",children:e.length}),o.jsx("span",{className:"text-white/80 text-sm ml-1",children:"total"})]})]})}),o.jsx("div",{className:"p-8",children:e.length>0?o.jsx("div",{className:"space-y-4",children:e.map((S,I)=>{var W;return o.jsx("div",{className:"group bg-white rounded-2xl border-2 border-gray-100 hover:border-blue-300 transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 transform hover:-translate-y-1",style:{animationDelay:`${I*100}ms`},children:o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[o.jsxs("div",{className:"flex items-center gap-5",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-2xl blur-md opacity-0 group-hover:opacity-50 transition-opacity"}),o.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center text-white text-2xl shadow-lg",children:""})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-800 text-xl group-hover:text-blue-600 transition-colors",children:S.medicine}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),o.jsx("p",{className:"text-sm text-gray-600",children:o.jsx("span",{className:"font-medium",children:((W=S.patients)==null?void 0:W.name)||"Unknown"})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),o.jsx("p",{className:"text-xs text-gray-500",children:new Date(S.created_at).toLocaleString()})]})]})]})]}),o.jsxs("button",{onClick:()=>_(S.id),className:"group/btn relative px-8 py-3 bg-gradient-to-r from-emerald-500 to-green-500 text-white rounded-xl font-semibold transition-all duration-300 hover:shadow-2xl hover:shadow-emerald-500/30 flex items-center justify-center gap-2 overflow-hidden",children:[o.jsx("span",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-1000"}),o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"ISSUE MEDICINE"]})]})})},S.id)})}):o.jsxs("div",{className:"text-center py-20",children:[o.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-6",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-3xl blur-2xl opacity-30 animate-pulse"}),o.jsx("div",{className:"relative w-32 h-32 bg-gradient-to-br from-blue-100 to-purple-100 rounded-3xl flex items-center justify-center",children:o.jsx("svg",{className:"w-16 h-16 text-blue-300",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"})})})]}),o.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No Pending Prescriptions"}),o.jsx("p",{className:"text-gray-500",children:"All prescriptions have been processed successfully"}),o.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 bg-green-50 px-4 py-2 rounded-full",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-sm text-green-600",children:"System is up to date"})]})]})})]})})]}),o.jsx("style",{jsx:!0,children:`
        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-slideDown {
          animation: slideDown 0.5s ease-out;
        }
        
        .animate-slideUp {
          animation: slideUp 0.5s ease-out;
        }
      `})]})},Pk=()=>{const[e,t]=X.useState({name:"",email:"",phone:"",specialty:"",password:""}),[r,n]=X.useState(!1),[s,i]=X.useState(""),a=ga(),l=["Cardiology","Neurology","Orthopedics","Pediatrics","Dermatology","General Medicine"],u=async d=>{d.preventDefault(),n(!0),i("");try{const{data:f,error:g}=await We.from("doctors").insert([{name:e.name.trim(),email:e.email.toLowerCase().trim(),phone:e.phone.trim()||null,specialty:e.specialty,password:e.password,status:"Active"}]).select();if(g)throw g;const v=f[0],p=`
 DOCTOR ADDED SUCCESSFULLY!

 Email: ${v.email}
 Password: ${v.password}
 Name: ${v.name}
 Specialty: ${v.specialty}

 Doctor can now login at /login and access dashboard!
      `;alert(p),console.log(" Doctor added with credentials:",v),t({name:"",email:"",phone:"",specialty:"",password:""}),a("/admin")}catch(f){console.error("Error:",f),i(f.message)}finally{n(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-blue-100 p-8",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsxs("button",{onClick:()=>a("/admin"),className:"inline-flex items-center space-x-2 text-blue-600 hover:text-blue-800 font-semibold mb-6",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Back to Dashboard"})]}),o.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-emerald-500 to-green-600 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl",children:o.jsx("span",{className:"text-3xl text-white",children:""})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Add New Doctor"}),o.jsx("p",{className:"text-xl text-gray-600",children:"Save to Supabase + Get Login Credentials"})]})]}),o.jsxs("div",{className:"bg-white p-10 rounded-3xl shadow-2xl border border-gray-100",children:[s&&o.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-2xl mb-8",children:[" ",s]}),o.jsxs("form",{onSubmit:u,className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Full Name *"}),o.jsx("input",{type:"text",placeholder:"Dr. John Smith",value:e.name,onChange:d=>t({...e,name:d.target.value}),className:"w-full p-5 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-200 focus:border-blue-500 text-lg transition-all disabled:bg-gray-100",required:!0,disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Specialty *"}),o.jsxs("select",{value:e.specialty,onChange:d=>t({...e,specialty:d.target.value}),className:"w-full p-5 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-200 focus:border-blue-500 text-lg disabled:bg-gray-100",required:!0,disabled:r,children:[o.jsx("option",{value:"",children:"Select Specialty"}),l.map(d=>o.jsx("option",{value:d,children:d},d))]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Login Email *"}),o.jsx("input",{type:"email",placeholder:"john@hospital.com",value:e.email,onChange:d=>t({...e,email:d.target.value}),className:"w-full p-5 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-200 focus:border-blue-500 text-lg transition-all disabled:bg-gray-100",required:!0,disabled:r})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Phone"}),o.jsx("input",{type:"tel",placeholder:"+91 98765 43210",value:e.phone,onChange:d=>t({...e,phone:d.target.value}),className:"w-full p-5 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-200 focus:border-blue-500 text-lg disabled:bg-gray-100",disabled:r})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:"Login Password *"}),o.jsx("input",{type:"password",placeholder:"Secure password (share with doctor)",value:e.password,onChange:d=>t({...e,password:d.target.value}),className:"w-full p-5 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-200 focus:border-blue-500 text-lg disabled:bg-gray-100",required:!0,disabled:r})]}),o.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 border-2 border-emerald-200 rounded-3xl p-6",children:[o.jsx("h3",{className:"font-bold text-lg text-emerald-800 mb-3",children:" After Submit:"}),o.jsxs("ul",{className:"text-sm text-emerald-700 space-y-1",children:[o.jsx("li",{children:" Doctor saved to Supabase"}),o.jsx("li",{children:" Login credentials shown in popup"}),o.jsx("li",{children:" Doctor can login: /login  Doctor Dashboard"}),o.jsx("li",{children:" Can set schedule + see patient queue"})]})]}),o.jsx("button",{type:"submit",disabled:r,className:`w-full py-6 px-12 rounded-3xl font-bold text-xl shadow-2xl transition-all ${r?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 hover:shadow-3xl hover:-translate-y-1"} text-white`,children:r?o.jsxs("span",{className:"flex items-center justify-center space-x-3",children:[o.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Saving Doctor + Generating Credentials..."})]}):" Add Doctor & Get Login Credentials"})]})]})]})})},Rk=()=>{const[e,t]=X.useState([]),[r,n]=X.useState(!0),[s,i]=X.useState("all"),[a,l]=X.useState(null),[u,d]=X.useState(!1),[f,g]=X.useState(null),[v,p]=X.useState(null),N=ga(),j=JSON.parse(localStorage.getItem("user")||"{}");X.useEffect(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(T=>{g({lat:T.coords.latitude,lng:T.coords.longitude}),p(null)},T=>{console.error("Error getting location:",T),p("Unable to get your location. Please enable GPS.")},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):p("Geolocation is not supported by your browser")},[]),X.useEffect(()=>{if(!j.role||j.role!=="ambulance"){alert("Access denied. Ambulance login required."),N("/",{replace:!0});return}k();const T=setInterval(k,3e3);return()=>clearInterval(T)},[]);const k=async()=>{try{const{data:T,error:H}=await We.from("emergency_requests").select("*").order("created_at",{ascending:!1});H&&console.error("Fetch error:",H),t(T||[]),n(!1)}catch(T){console.error("Error:",T),n(!1)}},x=()=>{localStorage.clear(),N("/",{replace:!0})},b=T=>{if(!T)return null;const H=T.match(/GPS:\s*(-?\d+\.?\d*),\s*(-?\d+\.?\d*)/);if(H)return{lat:parseFloat(H[1]),lng:parseFloat(H[2])};if(T.includes("google.com/maps")){const P=T.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(P)return{lat:parseFloat(P[1]),lng:parseFloat(P[2])}}return null},_=T=>{var P,F;const H=b(T.location);if(H&&f)return`https://www.google.com/maps/dir/?api=1&origin=${f.lat},${f.lng}&destination=${H.lat},${H.lng}&travelmode=driving`;if(H)return`https://www.google.com/maps/dir/?api=1&destination=${H.lat},${H.lng}&travelmode=driving`;if((P=T.location)!=null&&P.includes("google.com/maps")){const K=(F=T.location.match(/https:\/\/www\.google\.com\/maps[^\s]*/))==null?void 0:F[0];if(K)return`${K}&dir_action=navigate`}return`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(T.location||"")}&travelmode=driving`},S=T=>{const H=_(T);window.open(H,"_blank")},I=T=>({completed:"bg-emerald-50 text-emerald-700 border-emerald-200",accepted:"bg-blue-50 text-blue-700 border-blue-200",pending:"bg-amber-50 text-amber-700 border-amber-200",dispatched:"bg-purple-50 text-purple-700 border-purple-200"})[T==null?void 0:T.toLowerCase()]||"bg-gray-50 text-gray-700 border-gray-200",W=T=>({completed:"",accepted:"",pending:"",dispatched:""})[T==null?void 0:T.toLowerCase()]||"",G=s==="all"?e:e.filter(T=>{var H;return((H=T.status)==null?void 0:H.toLowerCase())===s}),q=e.filter(T=>T.status!=="completed");return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"relative",children:o.jsx("div",{className:"w-16 h-16 border-4 border-red-200 border-t-red-500 rounded-full animate-spin mx-auto mb-4"})}),o.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"Loading Emergency Bookings..."}),o.jsx("p",{className:"text-sm text-gray-400",children:j.name||"Driver"})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-sm",children:o.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:j.name}),o.jsxs("p",{className:"text-gray-500 text-sm flex items-center gap-2",children:[o.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),j.vehicle||"Ambulance","  ",e.length," Total  ",q.length," Active"]}),f?o.jsxs("p",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[o.jsx("span",{className:"w-1 h-1 bg-green-600 rounded-full"}),"GPS Active"]}):v?o.jsx("p",{className:"text-xs text-amber-600 mt-1",children:v}):o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Acquiring GPS location..."})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>N("/"),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-all flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Home"]}),o.jsxs("button",{onClick:x,className:"px-4 py-2 bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 rounded-lg font-medium transition-all flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1H3zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),"Logout"]})]})]})})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Requests"}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]}),o.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4z"})})})]})}),o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Pending"}),o.jsx("p",{className:"text-2xl font-semibold text-amber-600",children:e.filter(T=>{var H;return((H=T.status)==null?void 0:H.toLowerCase())==="pending"}).length})]}),o.jsx("div",{className:"w-10 h-10 bg-amber-50 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-amber-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})]})}),o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Accepted"}),o.jsx("p",{className:"text-2xl font-semibold text-blue-600",children:e.filter(T=>{var H;return((H=T.status)==null?void 0:H.toLowerCase())==="accepted"}).length})]}),o.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})}),o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Completed"}),o.jsx("p",{className:"text-2xl font-semibold text-green-600",children:e.filter(T=>{var H;return((H=T.status)==null?void 0:H.toLowerCase())==="completed"}).length})]}),o.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center",children:o.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})})]}),o.jsx("div",{className:"mb-6 flex flex-wrap gap-2",children:["all","pending","accepted","completed"].map(T=>o.jsxs("button",{onClick:()=>i(T),className:`px-4 py-2 rounded-lg text-sm font-medium capitalize transition-all ${s===T?"bg-red-500 text-white shadow-sm":"bg-white text-gray-600 hover:text-gray-900 border border-gray-200 hover:border-gray-300"}`,children:[T," (",T==="all"?e.length:e.filter(H=>{var P;return((P=H.status)==null?void 0:P.toLowerCase())===T}).length,")"]},T))}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:G.map(T=>{var H,P,F,K;return o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 hover:border-red-200 hover:shadow-md transition-all duration-200 overflow-hidden",children:o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-gray-900",children:["Emergency #",(H=T.id)==null?void 0:H.slice(-6).toUpperCase()]}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(T.created_at).toLocaleString()})]}),o.jsxs("span",{className:`px-3 py-1.5 rounded-lg text-xs font-medium border flex items-center gap-1.5 ${I(T.status)}`,children:[o.jsx("span",{children:W(T.status)}),((P=T.status)==null?void 0:P.toUpperCase())||"PENDING"]})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("div",{className:"flex items-center gap-2 text-gray-400 mb-1",children:o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})})}),o.jsxs("a",{href:`tel:${T.phone}`,className:"inline-flex items-center gap-2 px-3 py-2 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg text-sm font-medium transition-all",children:[o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),T.phone||"No phone provided"]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"flex items-center gap-2 text-gray-400 mb-1",children:o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-2 border border-gray-100",children:o.jsxs("p",{className:"text-sm text-gray-600 break-words",children:[(F=T.location)==null?void 0:F.slice(0,80),((K=T.location)==null?void 0:K.length)>80?"...":""]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>S(T),className:"flex-1 inline-flex items-center justify-center gap-2 px-3 py-2.5 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-all shadow-sm",children:[o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})}),"Navigate"]}),o.jsx("a",{href:_(T),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-3 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition-all",title:"Open in Google Maps",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})})]}),b(T.location)&&f&&o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-green-600 bg-green-50 p-2 rounded-lg",children:[o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),o.jsx("span",{children:"Route ready"})]})]}),T.assigned_driver&&o.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-100",children:[o.jsx("div",{className:"flex items-center gap-2 text-blue-600 mb-1",children:o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})})}),o.jsx("p",{className:"text-sm font-medium text-blue-700",children:T.assigned_driver}),o.jsx("p",{className:"text-xs text-blue-600/70 mt-1",children:T.assigned_vehicle})]}),o.jsx("div",{className:"pt-3 border-t border-gray-100",children:o.jsxs("p",{className:"text-xs text-gray-400",children:["Updated: ",new Date(T.updated_at||T.created_at).toLocaleString()]})})]})},T.id)})}),G.length===0&&o.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-xl flex items-center justify-center mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Bookings Found"}),o.jsx("p",{className:"text-gray-500",children:s==="all"?"No emergency bookings at the moment":`No bookings with status "${s}"`})]})})]})})},Tk=()=>{const[e,t]=X.useState([]),[r,n]=X.useState(!0),[s,i]=X.useState(null),[a,l]=X.useState(!1),[u,d]=X.useState(""),[f,g]=X.useState(""),v=ga(),p=JSON.parse(localStorage.getItem("user")||"{}");X.useEffect(()=>{if(!p.role||p.role!=="assistant"){alert("Access denied. Assistant Doctor login required."),v("/login",{replace:!0});return}N()},[v]);const N=async()=>{try{const{data:b,error:_}=await We.from("doctors").select("*").order("name");if(_)throw _;t(b||[])}catch(b){console.error("Error fetching doctors:",b),alert("Failed to load doctors")}finally{n(!1)}},j=b=>{i(b),l(!0)},k=async()=>{if(!u.trim()||!f.trim()){alert("Please enter patient name and room number");return}try{const{error:b}=await We.from("doctors_assignments").insert([{doctor_id:s.id,patient_name:u.trim(),room_no:f.trim(),created_at:new Date().toISOString()}]);if(b)throw b;const _=document.createElement("div");_.className="fixed top-4 right-4 bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-6 py-3 rounded-lg shadow-xl z-50 animate-slide-in border border-emerald-200",_.innerHTML=`
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          <span>Patient assigned to Dr. ${s.name}</span>
        </div>
      `,document.body.appendChild(_),setTimeout(()=>_.remove(),4e3),d(""),g(""),l(!1),i(null),N()}catch(b){console.error("Assignment error:",b),alert("Failed to save assignment")}},x=()=>{localStorage.clear(),v("/login",{replace:!0})};return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-amber-50 via-white to-amber-50",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-20 h-20 border-4 border-indigo-300 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full animate-pulse"})})]}),o.jsx("p",{className:"text-xl text-amber-600 mb-2",children:"Loading Assistant Dashboard..."}),o.jsx("p",{className:"text-sm text-amber-400",children:p.full_name||p.name||"Assistant"})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 via-white to-amber-50 p-4 md:p-8 font-sans",children:[o.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-10",children:o.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(99, 102, 241, 0.1) 1px, transparent 0)",backgroundSize:"40px 40px"}})}),o.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"bg-white/90 backdrop-blur-xl rounded-2xl shadow-xl shadow-amber-200/50 border border-amber-100 p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-xl blur-lg opacity-30 animate-pulse"}),o.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm0 14H4V6h16v12zM9 8h2v2H9V8zm4 0h2v2h-2V8zm-4 4h2v2H9v-2zm4 0h2v2h-2v-2z"})})})]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-amber-900",children:p.full_name||p.name||"Assistant Doctor"}),o.jsxs("p",{className:"text-indigo-600 mt-1 flex items-center gap-2",children:[o.jsx("span",{className:"w-2 h-2 bg-indigo-600 rounded-full animate-pulse"}),"Assistant Doctor  ",e.length," Doctors Available"]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>v("/"),className:"px-6 py-3 bg-white hover:bg-amber-50 text-amber-700 rounded-xl font-medium transition-all border border-amber-200 flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Home"]}),o.jsxs("button",{onClick:x,className:"px-6 py-3 bg-red-50 hover:bg-red-100 text-red-600 rounded-xl font-medium transition-all border border-red-200 flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1H3zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),"Logout"]})]})]})})}),o.jsxs("div",{className:"bg-white/90 backdrop-blur-xl rounded-2xl shadow-xl shadow-amber-200/50 border border-amber-100 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-b border-amber-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"text-xl font-bold text-amber-900 flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356.257l-2.212 2.213a1 1 0 000 1.414l3 3a1 1 0 001.414 0l2.213-2.212c.074.074.162.135.257.356l2.131 5.644a1 1 0 001.84-.788l-3-7a.998.998 0 00-.356-.356L14.5 6.394a1 1 0 00-.788-1.58l-7-3z"})}),"Available Doctors (",e.length,")"]}),o.jsxs("button",{onClick:N,className:"px-3 py-1.5 bg-white hover:bg-amber-50 text-amber-600 rounded-lg text-sm font-medium transition-all border border-amber-200 flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Refresh"]})]})}),o.jsx("div",{className:"p-6",children:e.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-amber-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),o.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-2",children:"No Doctors Available"}),o.jsx("p",{className:"text-amber-500",children:"Contact Admin to add doctors first"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(b=>{var _;return o.jsx("div",{onClick:()=>j(b),className:"group bg-white rounded-xl border border-amber-200 hover:border-indigo-300 transition-all duration-300 cursor-pointer shadow-sm hover:shadow-md",children:o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-xl blur-md opacity-0 group-hover:opacity-30 transition-opacity"}),o.jsx("div",{className:"relative w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center text-white text-lg font-bold",children:((_=b.name)==null?void 0:_.split(" ").map(S=>S[0]).join("").slice(0,2).toUpperCase())||"DR"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-amber-900 group-hover:text-indigo-600 transition-colors",children:b.name||"Dr. Unknown"}),o.jsx("p",{className:"text-xs text-amber-500 mt-1",children:b.specialty||"General"})]})]}),o.jsx("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-600 text-xs rounded-full border border-emerald-200",children:"Available"})]}),o.jsxs("div",{className:"space-y-2 text-sm mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[o.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[o.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),o.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]}),o.jsx("span",{className:"text-xs",children:b.email})]}),b.phone&&o.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),o.jsx("span",{className:"text-xs",children:b.phone})]})]}),o.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t border-amber-200",children:[o.jsxs("svg",{className:"w-4 h-4 text-indigo-600",fill:"currentColor",viewBox:"0 0 20 20",children:[o.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),o.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),o.jsx("span",{className:"text-sm font-medium text-indigo-600",children:"Assign Patient"})]})]})},b.id)})})})]})]}),a&&s&&o.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl shadow-amber-200/50 border border-amber-100 max-w-md w-full",children:[o.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-b border-amber-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-xl font-bold text-amber-900 flex items-center gap-2",children:[o.jsxs("svg",{className:"w-5 h-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 20 20",children:[o.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),o.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]}),"Assign Patient"]}),o.jsxs("p",{className:"text-sm text-amber-600 mt-1",children:["Dr. ",s.name]})]}),o.jsx("button",{onClick:()=>{l(!1),i(null),d(""),g("")},className:"w-8 h-8 bg-white hover:bg-amber-50 rounded-lg flex items-center justify-center text-amber-400 hover:text-amber-600 transition-all border border-amber-200",children:""})]})}),o.jsxs("div",{className:"p-6 space-y-5",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-amber-700",children:"Patient Name"}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-amber-400 group-focus-within:text-indigo-500 transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),o.jsx("input",{type:"text",value:u,onChange:b=>d(b.target.value),placeholder:"Enter patient name",className:"w-full pl-10 pr-4 py-3 bg-amber-50/50 border border-amber-200 rounded-lg text-amber-900 placeholder-amber-400 focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500 transition-all outline-none"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-amber-700",children:"Room Number"}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-amber-400 group-focus-within:text-indigo-500 transition-colors",children:o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 4H8.828a2 2 0 00-1.414.586L6.293 5.707A1 1 0 015.586 6H4zm6 3a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1H8a1 1 0 110-2h1V8a1 1 0 011-1z",clipRule:"evenodd"})})}),o.jsx("input",{type:"text",value:f,onChange:b=>g(b.target.value),placeholder:"e.g., 301A",className:"w-full pl-10 pr-4 py-3 bg-amber-50/50 border border-amber-200 rounded-lg text-amber-900 placeholder-amber-400 focus:ring-2 focus:ring-indigo-500/30 focus:border-indigo-500 transition-all outline-none"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{onClick:k,disabled:!u.trim()||!f.trim(),className:"flex-1 px-4 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg font-medium hover:shadow-lg hover:shadow-indigo-500/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign Patient"}),o.jsx("button",{onClick:()=>{l(!1),i(null),d(""),g("")},className:"px-6 py-3 bg-white hover:bg-amber-50 text-amber-600 rounded-lg font-medium transition-all border border-amber-200",children:"Cancel"})]})]})]})}),o.jsx("style",{jsx:!0,children:`
        @keyframes slide-in {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
      `})]})};function Ok(){const e=()=>{var r;try{const n=localStorage.getItem("user");return n?(r=JSON.parse(n))==null?void 0:r.role:null}catch{return null}},t=({children:r,allowedRoles:n})=>{const s=e();return console.log("ProtectedRoute:",{userRole:s,allowedRoles:n}),!s||!n.includes(s)?(console.log("Access denied, redirecting to login"),o.jsx(Jg,{to:"/login",replace:!0})):r};return o.jsx(U_,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[o.jsx(Y_,{}),o.jsxs(v_,{children:[o.jsx(Cn,{path:"/",element:o.jsx(Pj,{})}),o.jsx(Cn,{path:"/login",element:o.jsx(Rj,{})}),o.jsx(Cn,{path:"/register",element:o.jsx(Tj,{})}),o.jsx(Cn,{path:"/admin",element:o.jsx(t,{allowedRoles:["admin"],children:o.jsx(Oj,{})})}),o.jsx(Cn,{path:"/doctor",element:o.jsx(t,{allowedRoles:["doctor"],children:o.jsx(Ij,{})})}),o.jsx(Cn,{path:"/assistant-dashboard",element:o.jsx(t,{allowedRoles:["assistant"],children:o.jsx(Tk,{})})}),o.jsx(Cn,{path:"/ambulance",element:o.jsx(t,{allowedRoles:["ambulance"],children:o.jsx(Rk,{})})}),o.jsx(Cn,{path:"/admin/add-doctor",element:o.jsx(t,{allowedRoles:["admin"],children:o.jsx(Pk,{})})}),o.jsx(Cn,{path:"/lab",element:o.jsx(t,{allowedRoles:["lab"],children:o.jsx(Dj,{})})}),o.jsx(Cn,{path:"/patient",element:o.jsx(t,{allowedRoles:["patient"],children:o.jsx(Ek,{})})}),o.jsx(Cn,{path:"/pharmacy",element:o.jsx(t,{allowedRoles:["pharmacy"],children:o.jsx(Ck,{})})}),o.jsx(Cn,{path:"*",element:o.jsx(Jg,{to:"/",replace:!0})})]})]})})}j0.createRoot(document.getElementById("root")).render(o.jsx(pw.StrictMode,{children:o.jsx(Ok,{})}));export{Ot as _,Dk as c,Qb as g};
